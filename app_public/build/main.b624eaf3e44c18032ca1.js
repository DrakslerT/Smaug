(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},RnhZ:function(e,t,n){var o={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id="RnhZ"},zUnb:function(e,t,n){"use strict";n.r(t);var o=n("fXoL"),a=n("jhN1"),r=n("tk/3"),i=n("3Pt+"),s=n("LPYB"),c=n("6NWb"),l=n("K3ix"),d=n("1kSV"),b=n("tyNb");let g=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["app-frame"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Pb(0,"main"),o.Lb(1,"router-outlet"),o.Ob())},directives:[b.e],styles:[""]}),e})();var p=n("ofXK");function u(e,t){if(1&e){const e=o.Qb();o.Pb(0,"div",1),o.Pb(1,"div",2),o.Pb(2,"div",3),o.Pb(3,"button",4),o.Zb("click",function(){return o.rc(e),o.bc().hideWelcome()}),o.Pb(4,"span",5),o.Dc(5,"\xd7"),o.Ob(),o.Ob(),o.Pb(6,"h2"),o.Dc(7),o.Ob(),o.Pb(8,"h5"),o.Dc(9),o.Ob(),o.Ob(),o.Ob(),o.Ob()}if(2&e){const e=o.bc();o.xb(7),o.Ec(e.message),o.xb(2),o.Fc("",e.welcomeMessage," ")}}let h=(()=>{class e{constructor(e){this.document=e,this.url=window.location.href.substring(window.location.href.lastIndexOf("/")+1),this.show=localStorage.getItem(this.url+"_welcome")}ngOnInit(){this.show=localStorage.getItem(this.url+"_welcome"),"false"==this.show&&this.fixScreen(0)}hideWelcome(){this.show="false",localStorage.setItem(this.url+"_welcome","false"),this.fixScreen(1)}fixScreen(e){this.document.querySelectorAll(".container")[e].setAttribute("style","margin-top:15vh!important")}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(p.c))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-welcome"]],inputs:{message:"message",welcomeMessage:"welcomeMessage"},decls:1,vars:1,consts:[["class","container","id","welcome-alert-section",4,"ngIf"],["id","welcome-alert-section",1,"container"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12"],["type","button","data-dismiss","alert","aria-label","Close",1,"close","not",3,"click"],["aria-hidden","true"]],template:function(e,t){1&e&&o.Bc(0,u,10,2,"div",0),2&e&&o.hc("ngIf",!t.show||"true"==t.show)},directives:[p.k],styles:["@media only screen and (min-width:900px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:15vh!important}}@media only screen and (max-width:991px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:10vh!important}}@media only screen and (max-height:768px) and (min-width:560px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:20vh}}#welcome-alert-section[_ngcontent-%COMP%]{padding:4vh 5vh}#welcome-alert-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}#welcome-text[_ngcontent-%COMP%]{animation:slideFromUp .65s ease-out 0s 1}.container[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 15px 1px #d1d1d1;padding:0}"]}),e})();var m=n("wHSu");let P=(()=>{class e{translateIcon(e){return"faUniversity"==e?m.t:"faCoins"==e?m.h:"faPiggyBank"==e?m.o:"faEnvelope"==e?m.i:"faExclamationTriangle"==e?m.k:"faRadiation"==e?m.q:"faBullseye"==e?m.c:"faCheckCircle"==e?m.f:"faPaperclip"==e?m.m:"faCalendar"==e?m.d:m.b}transform(e){return this.translateIcon(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Jb({name:"iconTranslator",type:e,pure:!0}),e})(),v=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["card"]],inputs:{card:"card",id:"id",color:"color",icon:"icon",count:"count",title:"title",comment:"comment"},decls:11,vars:12,consts:[[3,"id"],["size","5x",1,"icon",2,"opacity","0.3",3,"icon"],[1,"count-numbers"],[1,"count-name"],[1,"text",3,"id"]],template:function(e,t){1&e&&(o.Pb(0,"div"),o.Pb(1,"span",0),o.Lb(2,"fa-icon",1),o.cc(3,"iconTranslator"),o.Pb(4,"p",2),o.Dc(5),o.Ob(),o.Pb(6,"p",3),o.Dc(7),o.Ob(),o.Ob(),o.Pb(8,"p",4),o.Pb(9,"span",0),o.Dc(10),o.Ob(),o.Ob(),o.Ob()),2&e&&(o.Ab("card-counter ",t.card?t.card.color:t.color,""),o.xb(1),o.jc("id","replies",t.card?t.card.id:t.id,""),o.xb(1),o.hc("icon",o.dc(3,10,t.card?t.card.icon:t.icon)),o.xb(3),o.Ec(t.card?t.card.count:t.count),o.xb(2),o.Ec(t.card?t.card.title:t.title),o.xb(1),o.jc("id","card",t.card?t.card.id:t.id,"-after"),o.xb(1),o.jc("id","comments",t.card?t.card.id:t.id,""),o.xb(1),o.Ec(t.card.comment))},directives:[c.a],pipes:[P],styles:[".card-counter[_ngcontent-%COMP%]{margin:2.5%;padding:2vh 1vh;color:#fff;height:12vh;border-radius:5px}.card-counter[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8vh;opacity:.3}.card-counter[_ngcontent-%COMP%]   .count-numbers[_ngcontent-%COMP%]{position:absolute;right:15%;top:15%;font-size:5vh}.card-counter[_ngcontent-%COMP%]   .count-name[_ngcontent-%COMP%]{position:absolute;right:15%;top:65%;opacity:.5;font-size:2vh}.green-panel[_ngcontent-%COMP%]{background:#00c851}.card-counter[_ngcontent-%COMP%]:hover   #replies21[_ngcontent-%COMP%]{display:none}.card-counter[_ngcontent-%COMP%]   #card21-after[_ngcontent-%COMP%]   #comments21[_ngcontent-%COMP%]{opacity:0}.card-counter[_ngcontent-%COMP%]:hover   #card21-after[_ngcontent-%COMP%]   #comments21[_ngcontent-%COMP%]{opacity:1}.card-counter[_ngcontent-%COMP%]   #card21-after[_ngcontent-%COMP%]{text-align:center;font-size:2.5vh}.card-counter[_ngcontent-%COMP%]:hover   #replies31[_ngcontent-%COMP%]{display:none}.card-counter[_ngcontent-%COMP%]   #card31-after[_ngcontent-%COMP%]   #comments31[_ngcontent-%COMP%]{opacity:0}.card-counter[_ngcontent-%COMP%]:hover   #card31-after[_ngcontent-%COMP%]   #comments31[_ngcontent-%COMP%]{opacity:1}.card-counter[_ngcontent-%COMP%]   #card31-after[_ngcontent-%COMP%]{text-align:center;font-size:2.5vh}#pfpNavBar[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}.btn-primary[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%], .card-counter[_ngcontent-%COMP%], .progress[_ngcontent-%COMP%]{box-shadow:0 1px 15px 1px hsla(0,0%,87.1%,.75)}.footer[_ngcontent-%COMP%]{box-shadow:0 1px 15px 5px #d1d1d1}html[_ngcontent-%COMP%]{scroll-behavior:smooth}.input-group-lg[_ngcontent-%COMP%]{align-self:flex-start}input[type=color][_ngcontent-%COMP%]{border:#fff;border-radius:5px}input[type=color][_ngcontent-%COMP%]::-webkit-color-swatch-wrapper{padding:0}input[type=color][_ngcontent-%COMP%]::-webkit-color-swatch{border:none}#card2[_ngcontent-%COMP%]:hover   #replies2[_ngcontent-%COMP%]{display:none}#comments2[_ngcontent-%COMP%]{opacity:0}#card2[_ngcontent-%COMP%]:hover   #comments2[_ngcontent-%COMP%]{opacity:1}#card2-after[_ngcontent-%COMP%]{text-align:center;font-size:2.5vh}#card1[_ngcontent-%COMP%]:hover   #replies1[_ngcontent-%COMP%]{display:none}#comments1[_ngcontent-%COMP%]{opacity:0}#card1[_ngcontent-%COMP%]:hover   #comments1[_ngcontent-%COMP%]{opacity:1}#card1-after[_ngcontent-%COMP%]{text-align:center;font-size:2.5vh}"]}),e})();var O=n("mrSG"),f=n("EjJx");let y=(()=>{class e{constructor(e){this.http=e,this.userLoggedIn=localStorage.getItem("token"),this.userId=localStorage.getItem("id"),this.apiUrl=window.location.href.substr(0,window.location.href.lastIndexOf("/")).replace("4200","8080")+"/api"}setLoggedIn(e){const t=Object(f.a)(e);this.accessLevel=t.accessLevel,this.userLoggedIn=e,this.userId=t._id,localStorage.setItem("token",e),localStorage.setItem("id",t._id)}getLoggedIn(){return!(null===this.userLoggedIn||!this.isJwtTokenValid(this.userLoggedIn))}logout(){this.userLoggedIn=null,this.userId=null,localStorage.removeItem("token"),localStorage.removeItem("id")}isJwtTokenValid(e){const t=(new Date).getTime()/1e3,n=Object(f.a)(e);return n.exp>=t&&n.iat<=t}generateCompleteJwt(){return"Bearer "+this.userLoggedIn}getAccessLevel(){return this.isJwtTokenValid?Object(f.a)(this.userLoggedIn).accessLevel:-1}register(e,t,n,o,a,r){return Object(O.a)(this,void 0,void 0,function*(){const i=this.apiUrl+"/register",s={nameup:e,surnameup:t,email1up:n,email2up:o,password1up:a,password2up:r};try{return yield this.http.post(i,s).toPromise()}catch(c){return c}})}login(e,t){return Object(O.a)(this,void 0,void 0,function*(){const n=this.apiUrl+"/login",o={email:e,password:t};try{return yield this.http.post(n,o).toPromise()}catch(a){return a}})}confirm(e,t,n,o){return Object(O.a)(this,void 0,void 0,function*(){const a=`${this.apiUrl}/confirm/${e}/${t}`,r={};try{const e=yield this.http.post(a,r).toPromise();return n(e)}catch(i){return o(i)}})}requestResetPassword(e){return this.http.post(this.apiUrl+"/requestResetPassword",{email:e}).toPromise().then(e=>e).catch(e=>e)}resetPassword(e,t){return this.http.post(this.apiUrl+"/resetPassword",{code:e,password:t}).toPromise().then(e=>e).catch(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(r.a))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),x=(()=>{class e{constructor(e,t){this.http=e,this.authorization=t,this.apiUrl=window.location.href.substr(0,window.location.href.lastIndexOf("/")).replace("4200","8080")+"/api"}deleteData(){return this.http.post(this.apiUrl+"/removeAllDbData",{}).toPromise().then(e=>this.response).catch(this.parseError)}loadData(){return this.http.post(this.apiUrl+"/createDummyAccounts",{}).toPromise().then(e=>this.response).catch(this.parseError)}converter(e,t,n){const o=this.apiUrl+"/converter",a={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt()),params:(new r.d).append("curr1",e).append("curr2",t).append("amm1",n.toString())};return this.http.get(o,a).toPromise().then(e=>e).catch(e=>this.parseError(e))}addEnvelope(e,t,n,o){const a=this.apiUrl+"/addEnvelope",i={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(a,{colorPicker:n,categoryAddEnvelope:e,inputAmount:t,month:o},i).toPromise().then(e=>e).catch(e=>this.parseError(e))}editEnvelope(e,t){const n=this.apiUrl+"/editEnvelope",o={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(n,{id:e,inputAmount:t},o).toPromise().then(e=>e).catch(e=>this.parseError(e))}deleteEnvelope(e){const t=this.apiUrl+"/deleteEnvelope",n={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(t,{envelope_id:e},n).toPromise().then(e=>e).catch(e=>this.parseError(e))}addExpense(e,t,n,o){const a=this.apiUrl+"/addExpense",i={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(a,{inputAmount:e,category:t,recipient:n,date:o},i).toPromise().then(e=>e).catch(e=>this.parseError(e))}editExpense(e,t,n,o,a){const i=this.apiUrl+"/editExpense",s={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(i,{expId:e,expCategory:t,payee:n,amount:o,date:a},s).toPromise().then(e=>e).catch(e=>this.parseError(e))}changeIncome(e,t){const n=this.apiUrl+"/changeIncome",o={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(n,{amount:e,date:t},o).toPromise().then(e=>e).catch(e=>this.parseError(e))}getUser(){if(this.authorization.getLoggedIn()){const e=this.apiUrl+"/getUser",t={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.get(e,t).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}getExpense(e,t,n){if(this.authorization.getLoggedIn()){const o=`${this.apiUrl}/getExpenses?filter=${e}&limit=${t}&offset=${n}`,a={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.get(o,a).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}addGoal(e,t,n,o){if(this.authorization.getLoggedIn()){const a=this.apiUrl+"/addGoal",i={name:e,category:t,amount:n,date:o},s={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(a,i,s).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}addMoneyToGoal(e,t){if(this.authorization.getLoggedIn()){const n=this.apiUrl+"/addToGoalWithCategory",o={title:t,amount:e},a={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(n,o,a).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}deleteGoal(e){if(this.authorization.getLoggedIn()){const t=this.apiUrl+"/deleteGoal",n={goal_id:e},o={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(t,n,o).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}editGoal(e,t,n,o,a){if(this.authorization.getLoggedIn()){const i=this.apiUrl+"/editGoal",s={goal_id:e,name:t,category:n,amount:o,date:a},c={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(i,s,c).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}addFriendGroup(e,t){if(this.authorization.getLoggedIn()){const n=this.apiUrl+"/addFriendGroup",o={name:e,friends:JSON.stringify(t)},a={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(n,o,a).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}deleteBill(e){if(this.authorization.getLoggedIn()){const t=this.apiUrl+"/deleteBill",n={bill_id:e},o={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(t,n,o).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}addBill(e,t,n,o,a){if(this.authorization.getLoggedIn()){const i=this.apiUrl+"/addBill",s={inputCategory:e,Payee:t,Amount:n,inputDateAddBill:o,rad:a},c={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(i,s,c).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}editBill(e,t,n,o,a,i){if(this.authorization.getLoggedIn()){const s=this.apiUrl+"/editBill",c={billId:e,inputCategory:t,payee:n,amount:o,date:a,repeat:i},l={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(s,c,l).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}updateUser(e,t,n){if(this.authorization.getLoggedIn()){const o=this.apiUrl+"/updateUser",a={email:e,firstName:t,lastName:n},i={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(o,a,i).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}setDefaultCurrency(e){if(this.authorization.getLoggedIn()){const t=this.apiUrl+"/updateUser",n={defaultCurrency:e},o={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(t,n,o).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}setLanguage(e){if(this.authorization.getLoggedIn()){const t=this.apiUrl+"/updateUser",n={language:e},o={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(t,n,o).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}postFile(e){if(this.authorization.getLoggedIn()){const t=this.apiUrl+"/uploadPfp",n=new FormData;n.append("image",e,e.name);const o={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(t,n,o).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}changeColor(e,t){const n=this.apiUrl+"/changeColorCategory",o={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(n,{colorPicker:t,category_id:e},o).toPromise().then(e=>e).catch(e=>this.parseError(e))}getPfp(){const e=this.apiUrl+"/getPfp",t={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt()),responseType:"blob"};return this.http.get(e,t).toPromise().then(e=>e).catch(e=>this.parseError(e))}updatePassword(e,t,n){const o=this.apiUrl+"/changePassword",a={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(o,{oldPassword:e,newPassword1:t,newPassword2:n},a).toPromise().then(e=>e).catch(e=>this.parseError(e))}deleteCategory(e){const t=this.apiUrl+"/deleteCategory",n={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(t,{category_id:e},n).toPromise().then(e=>e).catch(e=>this.parseError(e))}deleteGroup(e){if(this.authorization.getLoggedIn()){const t=this.apiUrl+"/deleteFriendGroup",n={group_id:e},o={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(t,n,o).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}calculateBalances(e,t){if(this.authorization.getLoggedIn()){const n=this.apiUrl+"/calculateBalances",o={friends:e,group_id:t},a={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(n,o,a).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}deleteUser(){if(this.authorization.getLoggedIn()){const e=this.apiUrl+"/deleteUser",t={},n={headers:(new r.c).set("Authorization",this.authorization.generateCompleteJwt())};return this.http.post(e,t,n).toPromise().then(e=>e).catch(e=>this.parseError(e))}this.parseError("Error")}parseError(e){return console.error("An error has occured",e),Promise.reject(e.message||e)}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(r.a),o.Wb(y))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=n("VRyK"),M=n("xgIS"),w=n("HDdC"),E=n("lJxs");let D=(()=>{class e{constructor(){this.hasConnection=!1,Object(C.a)(Object(M.a)(window,"offline").pipe(Object(E.a)(()=>!1)),Object(M.a)(window,"online").pipe(Object(E.a)(()=>!0)),new w.a(e=>{e.next(navigator.onLine),e.complete()})).subscribe(e=>this.hasConnection=e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function _(e,t){if(1&e&&(o.Pb(0,"a",32),o.Dc(1),o.Pb(2,"span",33),o.Dc(3,"(current)"),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.lang.DASHBOARD)}}function T(e,t){if(1&e&&(o.Pb(0,"a",34),o.Dc(1),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.lang.DASHBOARD)}}function k(e,t){if(1&e&&(o.Pb(0,"a",35),o.Dc(1),o.Pb(2,"span",33),o.Dc(3,"(current)"),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.lang.ENVELOPES)}}function L(e,t){if(1&e&&(o.Pb(0,"a",36),o.Dc(1),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.lang.ENVELOPES)}}function I(e,t){if(1&e&&(o.Pb(0,"a",37),o.Dc(1),o.Pb(2,"span",33),o.Dc(3,"(current)"),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.lang.GOALS)}}function A(e,t){if(1&e&&(o.Pb(0,"a",38),o.Dc(1),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.lang.GOALS)}}function S(e,t){if(1&e&&(o.Pb(0,"a",39),o.Dc(1),o.Pb(2,"span",33),o.Dc(3,"(current)"),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.lang.BILLS)}}function B(e,t){if(1&e&&(o.Pb(0,"a",40),o.Dc(1),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.lang.BILLS)}}function N(e,t){if(1&e&&(o.Pb(0,"a",41),o.Dc(1),o.Pb(2,"span",33),o.Dc(3,"(current)"),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.lang.HISTORY)}}function G(e,t){if(1&e&&(o.Pb(0,"a",42),o.Dc(1),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.lang.HISTORY)}}function j(e,t){if(1&e&&(o.Pb(0,"a",43),o.Dc(1),o.Pb(2,"span",33),o.Dc(3,"(current)"),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.lang.UTILITIES)}}function F(e,t){if(1&e&&(o.Pb(0,"a",44),o.Dc(1),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.lang.UTILITIES)}}function H(e,t){if(1&e&&o.Lb(0,"fa-icon",45),2&e){const e=o.bc();o.hc("icon",e.faConnection)}}function R(e,t){if(1&e&&(o.Pb(0,"a",46),o.Lb(1,"fa-icon",27),o.Dc(2),o.Ob()),2&e){const e=o.bc();o.xb(1),o.hc("icon",e.faCog),o.xb(1),o.Fc(" ",e.lang.admin,"")}}let U=(()=>{class e{constructor(e,t,n,o){this.router=e,this.auth=t,this.api=n,this.connectionService=o,this.faCog=m.g,this.faAdjust=m.a,this.faSignOutAlt=m.r,this.faConnection=m.j,this.accessLevel=this.auth.getAccessLevel(),this.lang={logout:getTranslation("logout"),saveChanges:getTranslation("saveChanges"),name:getTranslation("name"),edit:getTranslation("edit"),close:getTranslation("close"),remove:getTranslation("remove"),DASHBOARD:getTranslation("DASHBOARD"),ENVELOPES:getTranslation("ENVELOPES"),GOALS:getTranslation("GOALS"),BILLS:getTranslation("BILLS"),HISTORY:getTranslation("HISTORY"),UTILITIES:getTranslation("UTILITIES"),user:getTranslation("user"),settings:getTranslation("settings"),appearance:getTranslation("appearance"),light:getTranslation("light"),dark:getTranslation("dark"),admin:getTranslation("admin")}}ngOnInit(){this.auth.userLoggedIn&&(this.pfpImg=this.getImage(),loadDarkMode(),this.api.getUser().then(e=>{this.defaultLanguage=e.language,this.refreshLanguage(this.defaultLanguage)}).catch(e=>{this.auth.logout(),this.router.navigate(["/"])}))}hasConnection(){return this.connectionService.hasConnection}refreshLanguage(e){setLanguage(e),this.lang.logout=getTranslation("logout"),this.lang.saveChanges=getTranslation("saveChanges"),this.lang.name=getTranslation("name"),this.lang.edit=getTranslation("edit"),this.lang.close=getTranslation("close"),this.lang.remove=getTranslation("remove"),this.lang.DASHBOARD=getTranslation("DASHBOARD"),this.lang.ENVELOPES=getTranslation("ENVELOPES"),this.lang.GOALS=getTranslation("GOALS"),this.lang.BILLS=getTranslation("BILLS"),this.lang.HISTORY=getTranslation("HISTORY"),this.lang.UTILITIES=getTranslation("UTILITIES"),this.lang.user=getTranslation("user"),this.lang.settings=getTranslation("settings"),this.lang.appearance=getTranslation("appearance"),this.lang.light=getTranslation("light"),this.lang.dark=getTranslation("dark")}logout(){removeForLogout(),this.auth.logout(),this.router.navigate(["/"])}getImage(){this.api.getPfp().then(e=>{let t=new FileReader;t.addEventListener("load",()=>{this.imageToShow=t.result},!1),e&&"application/pdf"!==e.type&&t.readAsDataURL(e)}).catch(e=>{})}handleDarkMode(){toggleDarkMode()}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(b.b),o.Kb(y),o.Kb(x),o.Kb(D))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-header"]],inputs:{component:"component"},decls:56,vars:26,consts:[[1,"navbar","navbar-expand-lg","fixed-top","navbar-dark","navbar-left","bg-dark"],["routerLink","../dashboard",1,"navbar-brand"],["alt","Logonavbar","src","assets/images/dragon.svg","width","25vh","height","25vh"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"button","collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["class","nav-link active","routerLink","../dashboard",4,"ngIf","ngIfElse"],["dashboardBlock",""],["class","nav-link active","routerLink","../envelopes",4,"ngIf","ngIfElse"],["envelopesBlock",""],["class","nav-link active","routerLink","../goals",4,"ngIf","ngIfElse"],["goalsBlock",""],["class","nav-link active","routerLink","../bills",4,"ngIf","ngIfElse"],["billsBlock",""],["class","nav-link active","routerLink","../history",4,"ngIf","ngIfElse"],["historyBlock",""],["class","nav-link active","routerLink","../utilities",4,"ngIf","ngIfElse"],["utilitiesBlock",""],[1,"navbar-nav","ml-auto"],["class","fa-3x","style","color:#f89406;",3,"icon",4,"ngIf"],[1,"nav-item","dropdown"],["id","navbarDropdownMenuLink-4","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle",2,"padding-top","0px","padding-bottom","0px"],["id","pfpNavBar","alt","Profile pic",3,"src"],["id","dropdown-user","aria-labelledby","navbarDropdownMenuLink-4",1,"dropdown-menu","dropdown-menu-right","dropdown-info"],["routerLink","../account",1,"dropdown-item"],[3,"icon"],["class","dropdown-item","routerLink","../db",4,"ngIf"],["id","appearanceDark",1,"dropdown-item",2,"display","none",3,"click"],["id","appearanceLight",1,"dropdown-item",3,"click"],[1,"dropdown-item",3,"click"],["routerLink","../dashboard",1,"nav-link","active"],[1,"sr-only"],["routerLink","../dashboard",1,"nav-link"],["routerLink","../envelopes",1,"nav-link","active"],["routerLink","../envelopes",1,"nav-link"],["routerLink","../goals",1,"nav-link","active"],["routerLink","../goals",1,"nav-link"],["routerLink","../bills",1,"nav-link","active"],["routerLink","../bills",1,"nav-link"],["routerLink","../history",1,"nav-link","active"],["routerLink","../history",1,"nav-link"],["routerLink","../utilities",1,"nav-link","active"],["routerLink","../utilities",1,"nav-link"],[1,"fa-3x",2,"color","#f89406",3,"icon"],["routerLink","../db",1,"dropdown-item"]],template:function(e,t){if(1&e&&(o.Pb(0,"p"),o.Dc(1),o.Ob(),o.Pb(2,"nav",0),o.Pb(3,"a",1),o.Lb(4,"img",2),o.Pb(5,"b"),o.Dc(6,"SMAUG"),o.Ob(),o.Dc(7,"budget "),o.Ob(),o.Pb(8,"button",3),o.Lb(9,"span",4),o.Ob(),o.Pb(10,"div",5),o.Pb(11,"ul",6),o.Pb(12,"li",7),o.Bc(13,_,4,1,"a",8),o.Bc(14,T,2,1,"ng-template",null,9,o.Cc),o.Ob(),o.Pb(16,"li",7),o.Bc(17,k,4,1,"a",10),o.Bc(18,L,2,1,"ng-template",null,11,o.Cc),o.Ob(),o.Pb(20,"li",7),o.Bc(21,I,4,1,"a",12),o.Bc(22,A,2,1,"ng-template",null,13,o.Cc),o.Ob(),o.Pb(24,"li",7),o.Bc(25,S,4,1,"a",14),o.Bc(26,B,2,1,"ng-template",null,15,o.Cc),o.Ob(),o.Pb(28,"li",7),o.Bc(29,N,4,1,"a",16),o.Bc(30,G,2,1,"ng-template",null,17,o.Cc),o.Ob(),o.Pb(32,"li",7),o.Bc(33,j,4,1,"a",18),o.Bc(34,F,2,1,"ng-template",null,19,o.Cc),o.Ob(),o.Ob(),o.Pb(36,"ul",20),o.Bc(37,H,1,1,"fa-icon",21),o.Pb(38,"li",22),o.Pb(39,"div",23),o.Lb(40,"img",24),o.Ob(),o.Pb(41,"div",25),o.Pb(42,"a",26),o.Lb(43,"fa-icon",27),o.Dc(44),o.Ob(),o.Bc(45,R,3,2,"a",28),o.Pb(46,"a",29),o.Zb("click",function(){return t.handleDarkMode()}),o.Lb(47,"fa-icon",27),o.Dc(48),o.Ob(),o.Pb(49,"a",30),o.Zb("click",function(){return t.handleDarkMode()}),o.Lb(50,"fa-icon",27),o.Dc(51),o.Ob(),o.Lb(52,"hr"),o.Pb(53,"a",31),o.Zb("click",function(){return t.logout()}),o.Lb(54,"fa-icon",27),o.Dc(55),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()),2&e){const e=o.pc(15),n=o.pc(19),a=o.pc(23),r=o.pc(27),i=o.pc(31),s=o.pc(35);o.xb(1),o.Ec(t.component),o.xb(12),o.hc("ngIf","dashboard"==t.component)("ngIfElse",e),o.xb(4),o.hc("ngIf","envelopes"==t.component)("ngIfElse",n),o.xb(4),o.hc("ngIf","goals"==t.component)("ngIfElse",a),o.xb(4),o.hc("ngIf","bills"==t.component)("ngIfElse",r),o.xb(4),o.hc("ngIf","history"==t.component)("ngIfElse",i),o.xb(4),o.hc("ngIf","utilities"==t.component)("ngIfElse",s),o.xb(4),o.hc("ngIf",!t.hasConnection()),o.xb(3),o.hc("src",t.imageToShow,o.tc),o.xb(3),o.hc("icon",t.faCog),o.xb(1),o.Fc(" ",t.lang.settings,""),o.xb(1),o.hc("ngIf",t.accessLevel>=3),o.xb(2),o.hc("icon",t.faAdjust),o.xb(1),o.Gc(" ",t.lang.appearance,": ",t.lang.dark,""),o.xb(2),o.hc("icon",t.faAdjust),o.xb(1),o.Gc(" ",t.lang.appearance,": ",t.lang.light,""),o.xb(3),o.hc("icon",t.faSignOutAlt),o.xb(1),o.Fc(" ",t.lang.logout,"")}},directives:[d.b,b.c,p.k,c.a],styles:["@media screen and (max-height:450px) and (max-width:900px){.navbar-collapse[_ngcontent-%COMP%]{max-height:90vh;overflow-y:auto;padding-bottom:5vh}}nav[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px;font-family:Open Sans;text-align:center;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.container[_ngcontent-%COMP%]{position:relative;padding-top:10vh}.navbar-light[_ngcontent-%COMP%]{text-decoration:none}.nav-link[_ngcontent-%COMP%]{transition:text-shadow .3s}.nav-link[_ngcontent-%COMP%]:hover{text-shadow:0 0 1px #fff,0 0 1px #fff}.nav-item[_ngcontent-%COMP%]{padding:1vh}.navbar-brand[_ngcontent-%COMP%]{font-family:Open Sans}.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-3%;padding:0}.toast-body[_ngcontent-%COMP%]{color:#212529;opacity:1!important}.active[_ngcontent-%COMP%]{text-shadow:0 0 1px #fff,0 0 1px #fff}.fas[_ngcontent-%COMP%]{user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;cursor:pointer;font-family:Open Sans}.dropdown-info[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:25vh}.dropdown-info[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{margin-right:10%}.dropdown-info[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:1vh}.center[_ngcontent-%COMP%]{margin:auto;width:50%;padding:10px}@keyframes slideInFromLeft{0%{width:0}}.progress-bar[_ngcontent-%COMP%]{animation:slideInFromLeft .75s ease-out 0s 1}.goals[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:slideInFromLeft .9s ease-out 0s 1}.container[_ngcontent-%COMP%]{overflow:hidden}.toast[_ngcontent-%COMP%]{display:none;opacity:1!important}.toastek[_ngcontent-%COMP%]{z-index:999999!important}.tekst[_ngcontent-%COMP%]{vertical-align:sub}#pfpNavBar[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}"]}),e})(),z=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["app-footer"]],decls:29,vars:0,consts:[[1,"footer"],[1,"row"],[1,"col-12","col-sm-12","col-md-12","col-lg-0","col-xl-3","footer-col"],[1,"col-6","col-sm-6","col-md-6","col-lg-4","col-xl-1","footer-col"],["routerLink","../dashboard","href","/dashboard"],["routerLink","../envelopes","href","/envelopes"],["routerLink","../goals","href","/goals"],["routerLink","../bills","href","/bills"],["routerLink","../history","href","/history"],["routerLink","../utilities","href","/utilities"],[1,"col-6","col-sm-0","col-md-6","col-lg-0","col-xl-3","footer-col"],[1,"col-6","col-sm-0","col-md-6","col-lg-0","col-xl-5","footer-col"],[1,"col-6","col-sm-6","col-md-6","col-lg-6","col-xl-1","footer-col","bottom-row-footer"],["routerLink","../account","href","/account"],["routerLink",""]],template:function(e,t){1&e&&(o.Pb(0,"div",0),o.Pb(1,"div",1),o.Lb(2,"div",2),o.Pb(3,"div",3),o.Pb(4,"a",4),o.Dc(5,"Dashboard"),o.Ob(),o.Ob(),o.Pb(6,"div",3),o.Pb(7,"a",5),o.Dc(8,"Envelopes"),o.Ob(),o.Ob(),o.Pb(9,"div",3),o.Pb(10,"a",6),o.Dc(11,"Goals"),o.Ob(),o.Ob(),o.Pb(12,"div",3),o.Pb(13,"a",7),o.Dc(14,"Bills"),o.Ob(),o.Ob(),o.Pb(15,"div",3),o.Pb(16,"a",8),o.Dc(17,"History"),o.Ob(),o.Ob(),o.Pb(18,"div",3),o.Pb(19,"a",9),o.Dc(20,"Utilities"),o.Ob(),o.Ob(),o.Lb(21,"div",10),o.Lb(22,"div",11),o.Pb(23,"div",12),o.Pb(24,"a",13),o.Dc(25,"Settings"),o.Ob(),o.Ob(),o.Pb(26,"div",12),o.Pb(27,"a",14),o.Dc(28,"Back to top"),o.Ob(),o.Ob(),o.Ob(),o.Ob())},directives:[b.c],styles:[""]}),e})();class K{constructor(e,t,n,o,a,r){this.id=e,this.color=t,this.icon=n,this.count=o,this.title=a,this.comment=r}}class Z{constructor(e,t,n,o,a,r,i,s,c,l,d){this._id=e,this.title=t,this.progress=n,this.target=o,this.targetLeft=a,this.color=r,this.monthlyTarget=i,this.categoryName=s,this.year=c,this.month=l,this.day=d}}const q=["nameGoal"],J=["categoryGoal"],Y=["amountGoal"],V=["dateGoal"],Q=["addAmount"],W=["addMoneyModal"],X=["addGoalModal"];function ee(e,t){if(1&e&&(o.Pb(0,"option",67),o.Dc(1),o.Ob()),2&e){const e=t.$implicit;o.jc("id","category",e._id,""),o.xb(1),o.Ec(e.name)}}function te(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.goalMessage)}}function ne(e,t){if(1&e&&(o.Pb(0,"option",67),o.Dc(1),o.Ob()),2&e){const e=o.bc().$implicit;o.jc("id","category",e._id,""),o.xb(1),o.Ec(e.title)}}function oe(e,t){if(1&e&&(o.Nb(0),o.Bc(1,ne,2,2,"option",68),o.Mb()),2&e){const e=t.$implicit,n=o.bc();o.xb(1),o.hc("ngIf",n.hasTargetLeft(e.targetLeft))}}function ae(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.expenseMessage)}}function re(e,t){if(1&e&&(o.Pb(0,"div",69),o.Lb(1,"card",70),o.Ob()),2&e){const e=t.$implicit;o.jc("id","card",e.id,""),o.xb(1),o.hc("card",e)}}function ie(e,t){if(1&e&&o.Lb(0,"app-goals-progress-bar",71),2&e){const e=t.$implicit,n=o.bc();o.hc("item",e)("currency",n.currency)("category",n.categories)}}let se=(()=>{class e{constructor(e,t,n,o,a){this.api=e,this.renderer=t,this.router=n,this.authentication=o,this.connectionService=a,this.faPlusSquare=m.p,this.hasExpenseMessage=!1,this.expenseMessage="",this.hasGoalMessage=!1,this.goalMessage="",this.goalsDateHint=getTranslation("goalsDateHint"),this.goalsInputGoal=getTranslation("goalsInputGoal"),this.goalsInputGamount=getTranslation("goalsInputGamount"),this.goalsPlanDate=getTranslation("goalsPlanDate"),this.goalsAdd=getTranslation("goalsAdd"),this.goalsTitle=getTranslation("goalsTitle"),this.goalsAddMoney=getTranslation("goalsAddMoney"),this.HINT=getTranslation("HINT"),this.envelopestt2=getTranslation("envelopestt2"),this.envelopestt3=getTranslation("envelopestt3"),this.envelopesCategory=getTranslation("envelopesCategory"),this.envelopesSelCat=getTranslation("envelopesSelCat"),this.envelopesAdd=getTranslation("envelopesAdd"),this.envelopesAmount=getTranslation("envelopesAmount"),this.data={fileName:"goals",message:"Welcome to Goals!",welcomeMessage:"Here you can add saving goals you want to achieve. Click 'Add Goal', fill in the form, submit and you`re done!",logout:"Logout",DASHBOARD:"DASHBOARD",ENVELOPES:"ENVELOPES",GOALS:"GOALS",BILLS:"BILLS",HISTORY:"HISTORY",UTILITIES:"UTILITIES",year:2020,month:12,day:21,selectCategory:"Select Category",user:"User",settings:"Settings",appearance:"Appearance",light:"Light",dark:"Dark"}}hasConnection(){return this.connectionService.hasConnection}ngOnInit(){this.api.getUser().then(e=>{this.refreshLanguage(e.language),this.goals=this.generateGoals(e.goals),this.cards=this.generateCards(),this.categories=this.generateCategories(e.categories),this.currency=e.defaultCurrency,this.message=getTranslation("messageGoals"),this.welcomeMessage=getTranslation("welcomeMessageGoals")}).catch(e=>{this.authentication.logout(),this.router.navigate(["/"])})}hasTargetLeft(e){return e>0}areEqual(e,t){return e===t}refreshLanguage(e){setLanguage(e),this.goalsDateHint=getTranslation("goalsDateHint"),this.goalsInputGoal=getTranslation("goalsInputGoal"),this.goalsInputGamount=getTranslation("goalsInputGamount"),this.goalsPlanDate=getTranslation("goalsPlanDate"),this.goalsAdd=getTranslation("goalsAdd"),this.goalsTitle=getTranslation("goalsTitle"),this.goalsAddMoney=getTranslation("goalsAddMoney"),this.HINT=getTranslation("HINT"),this.envelopestt2=getTranslation("envelopestt2"),this.envelopestt3=getTranslation("envelopestt3"),this.envelopesCategory=getTranslation("envelopesCategory"),this.envelopesSelCat=getTranslation("envelopesSelCat"),this.envelopesAdd=getTranslation("envelopesAdd"),this.envelopesAmount=getTranslation("envelopesAmount")}nameAddGoals(){const e=this.nameGoal.nativeElement;var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,16}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt4").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt4").toast("show"),0)}categoryCheckAddGoal(){const e=this.categoryGoal.nativeElement;return"Select Category"==e.value?(e.style.setProperty("border-color","red","important"),$(".tt69").toast("show"),0):(e.style.borderColor="#ced4da",$(".tt69").toast("hide"),1)}amountGoals(){const e=this.amountGoal.nativeElement;var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt3").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt3").toast("show"),0)}dateCheckAddGoal(){const e=this.dateGoal.nativeElement;var t=new Date,n=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),r=e.value.split("-");return""==r?($("#mjav").toast("show"),e.style.setProperty("border-color","red","important"),0):r[0]>a?($("#mjav").toast("hide"),e.style.borderColor="#ced4da",1):r[0]==a?r[1]>o||r[1]==o&&r[2]>=n?($("#mjav").toast("hide"),e.style.borderColor="#ced4da",1):($("#mjav").toast("show"),e.style.setProperty("border-color","red","important"),0):($("#date-hint").toast("show"),e.style.setProperty("border-color","red","important"),0)}amountGoalsAddMoney(){const e=this.addAmount.nativeElement;var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".toastAddMoneyForm").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".toastAddMoneyForm").toast("show"),0)}buttonAddGoal(e,t,n,o){var a=this.nameAddGoals(),r=this.categoryCheckAddGoal(),i=this.amountGoals(),s=this.dateCheckAddGoal();0==a||0==r||0==i||0==s||this.addGoal(e,t,n,o)}buttonGoalsAddMoney(e,t){0==this.amountGoalsAddMoney()||this.addMoneyToGoal(e,t)}generateCards(){var e=this.goals.length,t=this.getCompletedGoals(),n=this.generateComment(t);return[new K(1,"bg-primary","faBullseye",e,getTranslation("goalsCard1"),null),new K(21,"green-panel","faCheckCircle",t,getTranslation("goalsCard2"),n)]}getCompletedGoals(){var e=0;for(var t of this.goals)t.targetLeft<=0&&e++;return e}generateComment(e){var t="";if(0==e)t=getTranslation("goalsCard2Txt1");else if(e>2)t=getTranslation("goalsCard2Txt2");else{for(var n of this.goals)n.targetLeft<=0&&(t+=n.title+", ");t=t.substring(0,t.length-2),t+=getTranslation("goalsCard2Txt3")}return t}generateGoals(e){var t=[];for(var n of e){var o=n.date.split("-");o[2]=o[2].substring(0,2);var a=Math.ceil(n.saved/n.target*100),r=n.target-n.saved,i=this.calculateDailyTarget(n.date,r),s="#2f7cfe";r<=0&&(s="#00cf1d"),t.push(new Z(n._id,n.title,a,n.target,r,s,i,n.category.name,o[0],o[1],o[2]))}return t}calculateDailyTarget(e,t){var n=new Date,o=e.split("-"),a=parseInt(o[0],10),r=parseInt(o[1],10),i=parseInt(o[2],10),s=new Date(a,r-1,i);let c=Math.abs(new Date(n).valueOf()-new Date(s).valueOf());const l=Math.ceil(c/864e5);return l<1?t:Math.ceil(t/l)}addGoal(e,t,n,o){this.hasGoalMessage=!0,this.goalMessage="Saving goal",this.api.addGoal(e,t,n,o).then(e=>{this.addGoalModal.nativeElement.click(),this.afterAddGoal(e),this.hasGoalMessage=!1}).catch(e=>{this.goalMessage="Failed to save goal!"})}afterAddGoal(e){var t=e.date.split("-");t[2]=t[2].substring(0,2);var n=Math.ceil(e.saved/e.target*100),o=e.target-e.saved,a=this.calculateDailyTarget(e.date,o),r="#2f7cfe";o<=0&&(r="#00cf1d"),this.goals.push(new Z(e._id,e.title,n,e.target,o,r,a,e.category.name,t[0],t[1],t[2])),this.cards=this.generateCards(),console.log()}addMoneyToGoal(e,t){this.hasExpenseMessage=!0,this.expenseMessage="Saving expense",this.api.addMoneyToGoal(e,t).then(e=>{this.addMoneyModal.nativeElement.click(),this.afterAddMoneyToGoal(e),this.hasExpenseMessage=!1}).catch(e=>{this.expenseMessage="Failed to save!"})}afterAddMoneyToGoal(e){var t=this.goals.find(t=>t._id===e._id),n=Math.ceil(e.saved/e.target*100),o=e.target-e.saved,a=this.calculateDailyTarget(e.date,o),r="#2f7cfe";o<=0&&(r="#00cf1d"),t.targetLeft=o,t.progress=n,t.monthlyTarget=a,t.color=r,this.cards=this.generateCards()}afterDelete(e){const t=this.goals.findIndex(t=>t._id===e);t>-1&&this.goals.splice(t,1),this.cards=this.generateCards()}afterEdit(e){var t=this.goals.find(t=>t._id===e._id),n=e.date.split("-");n[2]=n[2].substring(0,2);var o=Math.ceil(e.saved/e.target*100),a=e.target-e.saved,r=this.calculateDailyTarget(e.date,a),i="#2f7cfe";a<=0&&(i="#00cf1d"),t._id=e._id,t.title=e.title,t.progress=o,t.target=e.target,t.targetLeft=a,t.color=i,t.monthlyTarget=r,t.categoryName=e.category.name,t.year=n[0],t.month=n[1],t.day=n[2],this.cards=this.generateCards()}generateCategories(e){var t=[];for(var n of e)t.push({_id:n._id,name:n.name,color:n.color,basic:n.basic});return t}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(x),o.Kb(o.D),o.Kb(b.b),o.Kb(y),o.Kb(D))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-goals"]],viewQuery:function(e,t){if(1&e&&(o.Hc(q,!0),o.Hc(J,!0),o.Hc(Y,!0),o.Hc(V,!0),o.Hc(Q,!0),o.Hc(W,!0),o.Hc(X,!0)),2&e){let e;o.oc(e=o.ac())&&(t.nameGoal=e.first),o.oc(e=o.ac())&&(t.categoryGoal=e.first),o.oc(e=o.ac())&&(t.amountGoal=e.first),o.oc(e=o.ac())&&(t.dateGoal=e.first),o.oc(e=o.ac())&&(t.addAmount=e.first),o.oc(e=o.ac())&&(t.addMoneyModal=e.first),o.oc(e=o.ac())&&(t.addGoalModal=e.first)}},decls:140,vars:36,consts:[[3,"component"],["id","addGoalForm","tabindex","-1","role","dialog","aria-labelledby","modalCenterTitle","aria-hidden","true",1,"modal","fade"],["addGoalModal",""],[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],[1,"w-25","toastek"],["role","alert","data-delay","3000","data-autohide","false",1,"toast","ml-auto","tt4"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],["aria-hidden","true"],[1,"toast-body"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt3"],["id","mjav","role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt7"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt69"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["type","hidden","name","formType","value","addGoal"],[1,"modal-body"],["for","inputGoal"],["type","text","id","Goal","name","goal","placeholder","e.g. new car","required","required",1,"form-control",3,"focusout"],["nameGoal",""],["id","txt1"],["for","inputCategory"],["id","inputCategory","name","inputCategory","required","required",1,"form-control",3,"focusout"],["categoryGoal",""],["selected","","disabled",""],[3,"id",4,"ngFor","ngForOf"],["for","inputAmount"],[1,"input-group","mb-3"],[1,"input-group-prepend",2,"max-height","38px"],[1,"input-group-text"],["type","number","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","id","Amount","name","amount","placeholder","e.g. 1500","step","any","required","required",1,"form-control",3,"focusout"],["amountGoal",""],["id","amm"],["for","inputDate"],["type","date","placeholder","2020-01-01","id","inputDateAddGoal","name","inputDateAddGoal","required","required",1,"form-control",3,"focusout"],["dateGoal",""],[1,"modal-footer"],[4,"ngIf"],["id","buttonAddGoal",1,"btn","btn-primary",3,"click"],["id","addMoneyForm","tabindex","-1","role","dialog","aria-labelledby","modalCenterTitle","aria-hidden","true",1,"modal","fade"],["addMoneyModal",""],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","toastAddMoneyForm"],["name","addExpense"],["addExpenseForm",""],["type","hidden","name","formType","value","addToGoalWithCategory"],[1,"ena"],["id","selectMoney","name","inputCategory",1,"form-control"],["titleGoal",""],[4,"ngFor","ngForOf"],["for","inputAmount","id",""],["type","number","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","id","Amount2","name","inputAmount","placeholder","0.00","step","any","required","",1,"form-control",3,"focusout"],["addAmount",""],["id","buttonAddMoneyToGoal",1,"btn","btn-primary",3,"click"],[3,"message","welcomeMessage"],["id","cards-section",1,"container"],[1,"row"],["class","col-xl-3 col-lg-4 col-md-12 col-sm-12 aos-init aos-animate","data-aos","flip-down","data-aos-duration","500","style","margin: 0 auto",3,"id",4,"ngFor","ngForOf"],["id","goals-section",1,"container"],[1,"row",2,"padding-bottom","3vh"],[1,"col-6","col-sm-6","col-md-6","col-lg-6","col-xl-6"],["type","button","data-toggle","modal","href","#addMoneyForm","role","button","aria-expanded","false","aria-controls","about",1,"btn","btn-success",2,"float","left",3,"disabled"],[3,"icon"],["type","button","data-toggle","modal","href","#addGoalForm","role","button","aria-expanded","false","aria-controls","about",1,"btn","btn-primary",2,"float","right",3,"disabled"],[3,"item","currency","category",4,"ngFor","ngForOf"],[3,"id"],[3,"id",4,"ngIf"],["data-aos","flip-down","data-aos-duration","500",1,"col-xl-3","col-lg-4","col-md-12","col-sm-12","aos-init","aos-animate",2,"margin","0 auto",3,"id"],[3,"card"],[3,"item","currency","category"]],template:function(e,t){if(1&e){const e=o.Qb();o.Pb(0,"main"),o.Lb(1,"app-header",0),o.Pb(2,"div",1,2),o.Pb(4,"div",3),o.Pb(5,"div",4),o.Pb(6,"div",5),o.Pb(7,"div",6),o.Pb(8,"strong",7),o.Dc(9),o.Ob(),o.Pb(10,"button",8),o.Pb(11,"span",9),o.Dc(12,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(13,"div",10),o.Dc(14),o.Ob(),o.Ob(),o.Pb(15,"div",11),o.Pb(16,"div",6),o.Pb(17,"strong",7),o.Dc(18),o.Ob(),o.Pb(19,"button",8),o.Pb(20,"span",9),o.Dc(21,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(22,"div",10),o.Dc(23),o.Ob(),o.Ob(),o.Pb(24,"div",12),o.Pb(25,"div",6),o.Pb(26,"strong",7),o.Dc(27),o.Ob(),o.Pb(28,"button",8),o.Pb(29,"span",9),o.Dc(30,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(31,"div",10),o.Dc(32),o.Ob(),o.Ob(),o.Pb(33,"div",13),o.Pb(34,"div",6),o.Pb(35,"strong",7),o.Dc(36),o.Ob(),o.Pb(37,"button",8),o.Pb(38,"span",9),o.Dc(39,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(40,"div",10),o.Dc(41),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(42,"div",14),o.Pb(43,"div",15),o.Pb(44,"div",16),o.Pb(45,"button",17),o.Pb(46,"span",9),o.Dc(47,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Lb(48,"input",18),o.Pb(49,"div",19),o.Pb(50,"label",20),o.Dc(51),o.Ob(),o.Pb(52,"input",21,22),o.Zb("focusout",function(){return t.nameAddGoals()}),o.Ob(),o.Lb(54,"div",23),o.Pb(55,"label",24),o.Dc(56),o.Ob(),o.Pb(57,"select",25,26),o.Zb("focusout",function(){return t.categoryCheckAddGoal()}),o.Pb(59,"option",27),o.Dc(60),o.Ob(),o.Bc(61,ee,2,2,"option",28),o.Ob(),o.Lb(62,"br"),o.Pb(63,"label",29),o.Dc(64),o.Ob(),o.Pb(65,"div",30),o.Pb(66,"div",31),o.Pb(67,"span",32),o.Dc(68),o.Ob(),o.Ob(),o.Pb(69,"input",33,34),o.Zb("focusout",function(){return t.amountGoals()}),o.Ob(),o.Lb(71,"div",35),o.Ob(),o.Pb(72,"label",36),o.Dc(73),o.Ob(),o.Pb(74,"input",37,38),o.Zb("focusout",function(){return t.dateCheckAddGoal()}),o.Ob(),o.Ob(),o.Pb(76,"div",39),o.Bc(77,te,3,1,"p",40),o.Pb(78,"button",41),o.Zb("click",function(){o.rc(e);const n=o.pc(53),a=o.pc(58),r=o.pc(70),i=o.pc(75);return t.buttonAddGoal(n.value,a.value,r.value,i.value)}),o.Dc(79),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(80,"div",42,43),o.Pb(82,"div",3),o.Pb(83,"div",4),o.Pb(84,"div",44),o.Pb(85,"div",6),o.Pb(86,"strong",7),o.Dc(87),o.Ob(),o.Pb(88,"button",8),o.Pb(89,"span",9),o.Dc(90,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(91,"div",10),o.Dc(92),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(93,"div",14),o.Pb(94,"div",15),o.Pb(95,"div",16),o.Pb(96,"button",17),o.Pb(97,"span",9),o.Dc(98,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(99,"form",45,46),o.Lb(101,"input",47),o.Pb(102,"div",19),o.Pb(103,"div",48),o.Pb(104,"label",20),o.Dc(105),o.Ob(),o.Lb(106,"br"),o.Pb(107,"select",49,50),o.Bc(109,oe,2,1,"ng-container",51),o.Ob(),o.Ob(),o.Pb(110,"div",48),o.Pb(111,"label",52),o.Dc(112),o.Ob(),o.Lb(113,"br"),o.Pb(114,"div",30),o.Pb(115,"div",31),o.Pb(116,"span",32),o.Dc(117),o.Ob(),o.Ob(),o.Pb(118,"input",53,54),o.Zb("focusout",function(){return t.amountGoalsAddMoney()}),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(120,"div",39),o.Bc(121,ae,3,1,"p",40),o.Pb(122,"button",55),o.Zb("click",function(){o.rc(e);const n=o.pc(119),a=o.pc(108);return t.buttonGoalsAddMoney(n.value,a.value)}),o.Dc(123),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Lb(124,"app-welcome",56),o.Pb(125,"div",57),o.Pb(126,"div",58),o.Bc(127,re,2,2,"div",59),o.Ob(),o.Ob(),o.Pb(128,"div",60),o.Pb(129,"div",61),o.Pb(130,"div",62),o.Pb(131,"button",63),o.Dc(132),o.Lb(133,"fa-icon",64),o.Ob(),o.Ob(),o.Pb(134,"div",62),o.Pb(135,"button",65),o.Dc(136),o.Lb(137,"fa-icon",64),o.Ob(),o.Ob(),o.Ob(),o.Bc(138,ie,1,3,"app-goals-progress-bar",66),o.Ob(),o.Lb(139,"app-footer"),o.Ob()}2&e&&(o.xb(1),o.hc("component","goals"),o.xb(8),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopestt2,"16 "),o.xb(4),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopestt3," "),o.xb(4),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.goalsDateHint," "),o.xb(4),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopesSelCat,". "),o.xb(10),o.Ec(t.goalsInputGoal),o.xb(5),o.Ec(t.envelopesSelCat),o.xb(4),o.Ec(t.envelopesSelCat),o.xb(1),o.hc("ngForOf",t.categories),o.xb(3),o.Ec(t.goalsInputGamount),o.xb(4),o.Ec(t.currency),o.xb(5),o.Ec(t.goalsPlanDate),o.xb(4),o.hc("ngIf",t.hasGoalMessage),o.xb(2),o.Ec(t.goalsAdd),o.xb(8),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopestt3," "),o.xb(13),o.Ec(t.goalsTitle),o.xb(4),o.hc("ngForOf",t.goals),o.xb(3),o.Ec(t.envelopesAmount),o.xb(5),o.Ec(t.currency),o.xb(4),o.hc("ngIf",t.hasExpenseMessage),o.xb(2),o.Ec(t.envelopesAdd),o.xb(1),o.hc("message",t.message)("welcomeMessage",t.welcomeMessage),o.xb(3),o.hc("ngForOf",t.cards),o.xb(4),o.hc("disabled",!t.hasConnection()),o.xb(1),o.Fc(" ",t.goalsAddMoney," "),o.xb(1),o.hc("icon",t.faPlusSquare),o.xb(2),o.hc("disabled",!t.hasConnection()),o.xb(1),o.Fc(" ",t.goalsAdd," "),o.xb(1),o.hc("icon",t.faPlusSquare),o.xb(1),o.hc("ngForOf",t.goals))},styles:["main[_ngcontent-%COMP%]{background:#ededed}.container[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 15px 1px #d1d1d1;padding:0}@media only screen and (min-width:900px){.footer[_ngcontent-%COMP%]{padding-top:12vh}}.row[_ngcontent-%COMP%]{margin:0}@media only screen and (min-width:900px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:15vh}}@media only screen and (max-width:991px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:10vh}}#welcome-alert-section[_ngcontent-%COMP%]{padding:4vh}#cards-section[_ngcontent-%COMP%], #goals-section[_ngcontent-%COMP%]{padding:4vh;margin-top:2vh}#cards-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], #main-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], #welcome-alert-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}.goal-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;text-align:center}.goal-p[_ngcontent-%COMP%]{position:relative;padding:0;margin:0 auto;float:none;display:block}.goal-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .goal-p[_ngcontent-%COMP%]{font-family:Open Sans Bold}.modal-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:5%}.edit-btn[_ngcontent-%COMP%]{float:right}.p-date[_ngcontent-%COMP%]{font-family:Open Sans Bold;font-size:small;color:grey}.green-panel[_ngcontent-%COMP%]{background:#00c851}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:#000}a[_ngcontent-%COMP%]:hover{text-decoration:none}#card2[_ngcontent-%COMP%]:hover   #replies2[_ngcontent-%COMP%]{display:none}#comments2[_ngcontent-%COMP%]{opacity:0}#card2[_ngcontent-%COMP%]:hover   #comments2[_ngcontent-%COMP%]{opacity:1}#card2-after[_ngcontent-%COMP%]{text-align:center;font-size:2.5vh}#pfpNavBar[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}"]}),e})();const ce=["editNameGoal"],le=["editAmountGoal"],de=["editDateGoal"],be=["editGoalModal"];function ge(e,t){if(1&e&&(o.Pb(0,"b"),o.Dc(1),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.rowMessage)}}function pe(e,t){if(1&e&&(o.Pb(0,"option",53),o.Dc(1),o.Ob()),2&e){const e=t.$implicit;o.jc("id","category",e._id,""),o.xb(1),o.Ec(e.name)}}function ue(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.editMessage)}}let he=(()=>{class e{constructor(e,t,n,o){this.api=e,this.goalsComponent=t,this.renderer=n,this.connectionService=o,this.faMinusSquare=m.l,this.faPencilAlt=m.n,this.hasRowMessage=!1,this.rowMessage="",this.hasEditMessage=!1,this.editMessage=""}ngOnInit(){}hasConnection(){return this.connectionService.hasConnection}nameEditGoal(){const e=this.editNameGoal.nativeElement;var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,16}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}amountEditGoal(){const e=this.editAmountGoal.nativeElement;var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}dateCheckEdit(){const e=this.editDateGoal.nativeElement;var t=new Date,n=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),r=e.value.split("-");return""==r?($(".toastEditDate").toast("show"),e.style.setProperty("border-color","red","important"),0):r[0]>a||r[0]==a&&(r[1]>o||r[1]==o&&r[2]>=n)?($(e.id).toast("hide"),e.style.borderColor="#ced4da",1):($(e.id).toast("show"),e.style.setProperty("border-color","red","important"),0)}buttonEditGoal(e,t,n,o){var a=this.nameEditGoal(),r=this.amountEditGoal(),i=this.dateCheckEdit();0==a||0==r||0==i||this.editGoal(e,t,n,o)}editGoal(e,t,n,o){this.hasEditMessage=!0,this.editMessage="Saving goal",this.api.editGoal(this.item._id,e,t,n,o).then(e=>{this.editGoalModal.nativeElement.click(),this.goalsComponent.afterEdit(e),this.hasEditMessage=!1}).catch(e=>{this.editMessage="Failed to save!"})}buttonDeleteGoal(){this.item._id&&this.deleteGoal()}deleteGoal(){1==confirm("Are you sure you want to delete goal "+this.item.title+"?")&&(this.hasRowMessage=!0,this.rowMessage="Deleting row",this.api.deleteGoal(this.item._id).then(e=>{this.goalsComponent.afterDelete(this.item._id),this.hasRowMessage=!1}).catch(e=>{this.rowMessage="Failed to delete row!"}))}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(x),o.Kb(se),o.Kb(o.D),o.Kb(D))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-goals-progress-bar"]],viewQuery:function(e,t){if(1&e&&(o.Hc(ce,!0),o.Hc(le,!0),o.Hc(de,!0),o.Hc(be,!0)),2&e){let e;o.oc(e=o.ac())&&(t.editNameGoal=e.first),o.oc(e=o.ac())&&(t.editAmountGoal=e.first),o.oc(e=o.ac())&&(t.editDateGoal=e.first),o.oc(e=o.ac())&&(t.editGoalModal=e.first)}},inputs:{item:"item",currency:"currency",category:"category"},decls:104,vars:44,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-2","goal-col"],[1,"goal-p"],[1,"w-100"],[1,"p-date"],[1,"col-sm-12","col-md-12","col-lg-6","col-xl-5","goal-col"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100","data-toggle","tooltip","data-placement","top",1,"progress-bar"],[2,"color","gray","font-family","Open Sans","margin-left","2%"],["type","submit","aria-label","Delete","data-toggle","modal",1,"btn","edit-btn",3,"disabled","click"],[3,"icon"],["type","button","aria-label","Edit","data-toggle","modal",1,"btn","edit-btn",3,"disabled"],["tabindex","-1","role","dialog","aria-labelledby","modalCenterTitle","aria-hidden","true",1,"modal","fade","goalModal",3,"id"],["editGoalModal",""],[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],[1,"w-25","toastek"],["role","alert","data-delay","3000","data-autohide","false"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],["aria-hidden","true"],[1,"toast-body"],["role","alert","data-delay","1000","data-autohide","false"],["id","date-hint","role","alert","data-delay","1000","data-autohide","false"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt420"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["name","editGoal"],[1,"modal-body"],["type","hidden","name","formType","value","editGoal"],["type","hidden","name","id",3,"value"],["for","inputGoal"],["type","text","name","goal","required","required",1,"form-control",3,"id","value","focusout"],["editNameGoal",""],["for","inputCategory"],["id","inputCategory","name","inputCategory","required","required",1,"form-control"],["editCategoryGoal",""],["selected","","disabled",""],[3,"id",4,"ngFor","ngForOf"],["for","inputAmount"],[1,"input-group","mb-3"],[1,"input-group-prepend",2,"max-height","38px"],[1,"input-group-text"],["type","number","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","name","Amount3","step","any","required","required",1,"form-control",3,"id","value","focusout"],["editAmountGoal",""],["for","inputDate"],["type","date","name","inputDate","required","required",1,"form-control",3,"value","id","focusout"],["editDateGoal",""],[1,"modal-footer"],[1,"btn","btn-primary",3,"id","click"],[3,"id"]],template:function(e,t){if(1&e){const e=o.Qb();o.Bc(0,ge,2,1,"b",0),o.Pb(1,"div",1),o.Pb(2,"div",2),o.Pb(3,"p",3),o.Dc(4),o.Ob(),o.Lb(5,"div",4),o.Lb(6,"p",5),o.Ob(),o.Pb(7,"div",6),o.Pb(8,"div",7),o.Pb(9,"div",8),o.Dc(10),o.Ob(),o.Ob(),o.Ob(),o.Pb(11,"div",6),o.Pb(12,"p",3),o.Dc(13),o.Pb(14,"span"),o.Dc(15),o.Ob(),o.Ob(),o.Pb(16,"p",9),o.Dc(17),o.Pb(18,"b"),o.Dc(19),o.Ob(),o.Dc(20,"/day) "),o.Ob(),o.Pb(21,"button",10),o.Zb("click",function(){return t.buttonDeleteGoal()}),o.Lb(22,"fa-icon",11),o.Ob(),o.Pb(23,"button",12),o.Lb(24,"fa-icon",11),o.Ob(),o.Ob(),o.Ob(),o.Pb(25,"div",13,14),o.Pb(27,"div",15),o.Pb(28,"div",16),o.Pb(29,"div",17),o.Pb(30,"div",18),o.Pb(31,"strong",19),o.Dc(32,"HINT"),o.Ob(),o.Pb(33,"button",20),o.Pb(34,"span",21),o.Dc(35,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(36,"div",22),o.Dc(37," Input may only contain letters, numbers, some special characters (_@./#&+-: ) and whitespaces. Length allowed: 1-20 "),o.Ob(),o.Ob(),o.Pb(38,"div",23),o.Pb(39,"div",18),o.Pb(40,"strong",19),o.Dc(41,"HINT"),o.Ob(),o.Pb(42,"button",20),o.Pb(43,"span",21),o.Dc(44,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(45,"div",22),o.Dc(46," Input may only contain decimal numbers separated by . with max 2 decimal places. "),o.Ob(),o.Ob(),o.Pb(47,"div",24),o.Pb(48,"div",18),o.Pb(49,"strong",19),o.Dc(50,"HINT"),o.Ob(),o.Pb(51,"button",20),o.Pb(52,"span",21),o.Dc(53,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(54,"div",22),o.Dc(55," Input a valid date (today or in the future). "),o.Ob(),o.Ob(),o.Pb(56,"div",25),o.Pb(57,"div",18),o.Pb(58,"strong",19),o.Dc(59,"HINT"),o.Ob(),o.Pb(60,"button",20),o.Pb(61,"span",21),o.Dc(62,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(63,"div",22),o.Dc(64," Select a category. "),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(65,"div",26),o.Pb(66,"div",27),o.Pb(67,"div",28),o.Pb(68,"button",29),o.Pb(69,"span",21),o.Dc(70,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(71,"form",30),o.Pb(72,"div",31),o.Lb(73,"input",32),o.Lb(74,"input",33),o.Pb(75,"div",31),o.Pb(76,"label",34),o.Dc(77,"What's your goal?"),o.Ob(),o.Pb(78,"input",35,36),o.Zb("focusout",function(){return t.nameEditGoal()}),o.Ob(),o.Pb(80,"label",37),o.Dc(81,"Choose a Category"),o.Ob(),o.Pb(82,"select",38,39),o.Pb(84,"option",40),o.Dc(85),o.Ob(),o.Bc(86,pe,2,2,"option",41),o.Ob(),o.Lb(87,"br"),o.Pb(88,"label",42),o.Dc(89,"How much do you want to save?"),o.Ob(),o.Pb(90,"div",43),o.Pb(91,"div",44),o.Pb(92,"span",45),o.Dc(93),o.Ob(),o.Ob(),o.Pb(94,"input",46,47),o.Zb("focusout",function(){return t.amountEditGoal()}),o.Ob(),o.Ob(),o.Pb(96,"label",48),o.Dc(97,"Planned Date"),o.Ob(),o.Pb(98,"input",49,50),o.Zb("focusout",function(){return t.dateCheckEdit()}),o.Ob(),o.Ob(),o.Ob(),o.Pb(100,"div",51),o.Bc(101,ue,3,1,"p",0),o.Pb(102,"button",52),o.Zb("click",function(){o.rc(e);const n=o.pc(79),a=o.pc(83),r=o.pc(95),i=o.pc(99);return t.buttonEditGoal(n.value,a.value,r.value,i.value)}),o.Dc(103,"Save Changes"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()}2&e&&(o.hc("ngIf",t.hasRowMessage),o.xb(4),o.Ec(t.item.title),o.xb(5),o.zc("width:",t.item.progress,"%; height:auto; background-color:",t.item.color,"; border-color:",t.item.color,";"),o.yb("aria-valuenow",t.item.progress),o.xb(1),o.Fc(" ",t.item.progress,"% "),o.xb(3),o.Ec(t.item.targetLeft),o.xb(2),o.Fc(" ",t.currency,""),o.xb(2),o.Gc(" of ",t.item.target," ",t.currency," ( "),o.xb(2),o.Gc("",t.item.monthlyTarget," ",t.currency,""),o.xb(2),o.hc("disabled",!t.hasConnection()),o.xb(1),o.hc("icon",t.faMinusSquare),o.xb(1),o.hc("disabled",!t.hasConnection()),o.yb("data-target","#editForm"+t.item._id),o.xb(1),o.hc("icon",t.faPencilAlt),o.xb(1),o.jc("id","editForm",t.item._id,""),o.xb(4),o.Ab("toast ml-auto toastEditName",t.item._id,""),o.xb(9),o.Ab("toast ml-auto toastEditAmount",t.item._id,""),o.xb(9),o.Ab("toast ml-auto toastEditDate",t.item._id,""),o.xb(27),o.ic("value",t.item._id),o.xb(4),o.jc("id",".toastEditName",t.item._id,""),o.ic("value",t.item.title),o.xb(7),o.Ec(t.item.categoryName),o.xb(1),o.hc("ngForOf",t.category),o.xb(7),o.Ec(t.currency),o.xb(1),o.jc("id",".toastEditAmount",t.item._id,""),o.ic("value",t.item.target),o.xb(4),o.kc("value","",t.item.year,"-",t.item.month,"-",t.item.day,""),o.jc("id",".toastEditDate",t.item._id,""),o.xb(3),o.hc("ngIf",t.hasEditMessage),o.xb(1),o.jc("id","buttonEditGoal",t.item._id,""))},directives:[p.k,c.a,i.m,i.f,i.g,i.i,i.l,p.j],styles:["body[_ngcontent-%COMP%]{background:#ededed}.container[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 15px 1px #d1d1d1;padding:0}@media only screen and (min-width:900px){.footer[_ngcontent-%COMP%]{padding-top:12vh}}.row[_ngcontent-%COMP%]{margin:0}@media only screen and (min-width:900px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:15vh}}@media only screen and (max-width:991px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:10vh}}#welcome-alert-section[_ngcontent-%COMP%]{padding:4vh}#cards-section[_ngcontent-%COMP%], #goals-section[_ngcontent-%COMP%]{padding:4vh;margin-top:2vh}#cards-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], #main-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], #welcome-alert-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}.goal-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;text-align:center}.goal-p[_ngcontent-%COMP%]{position:relative;padding:0;margin:0 auto;float:none;display:block}.goal-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .goal-p[_ngcontent-%COMP%]{font-family:Open Sans Bold}.modal-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:5%}.edit-btn[_ngcontent-%COMP%]{float:right}.p-date[_ngcontent-%COMP%]{font-family:Open Sans Bold;font-size:small;color:grey}.green-panel[_ngcontent-%COMP%]{background:#00c851}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:#000}a[_ngcontent-%COMP%]:hover{text-decoration:none}#card2[_ngcontent-%COMP%]:hover   #replies2[_ngcontent-%COMP%]{display:none}#comments2[_ngcontent-%COMP%]{opacity:0}#card2[_ngcontent-%COMP%]:hover   #comments2[_ngcontent-%COMP%]{opacity:1}#card2-after[_ngcontent-%COMP%]{text-align:center;font-size:2.5vh}#pfpNavBar[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}"]}),e})();const me=["groupName"],Pe=["memberName"],ve=["counter"],Oe=["addGroupModal"];function fe(e,t){1&e&&o.Lb(0,"tr",90),2&e&&o.hc("group",t.$implicit)}function ye(e,t){if(1&e&&(o.Pb(0,"div",91),o.Pb(1,"b",92),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.converterMessage)}}function xe(e,t){1&e&&o.Lb(0,"app-utilities-edit-modal",93),2&e&&o.hc("group",t.$implicit)}function Ce(e,t){if(1&e){const e=o.Qb();o.Pb(0,"div"),o.Pb(1,"input",94,95),o.Zb("focusout",function(){o.rc(e);const t=o.bc(),n=o.pc(298);return t.createGroup(n,1)}),o.cc(3,"inputMemberPipe"),o.cc(4,"inputMemberPipe"),o.Ob(),o.Ob()}if(2&e){const e=t.$implicit;o.xb(1),o.jc("placeholder","Member ",e.value,""),o.ic("name",o.dc(3,3,e.value)),o.ic("id",o.dc(4,5,e.value))}}function Me(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.createGroupMessage)}}let we=(()=>{class e{constructor(e,t,n,o,a,r){this.api=e,this.pit=t,this.renderer=n,this.router=o,this.authentication=a,this.connectionService=r,this.data={},this.faPlusSquare=m.p,this.groupMembers=[{value:1}],this.utilGroups=getTranslation("utilGroups"),this.utilCreate=getTranslation("utilCreate"),this.utilName=getTranslation("utilName"),this.utilNext=getTranslation("utilNext"),this.utilBalance=getTranslation("utilBalance"),this.utilConverter=getTranslation("utilConverter"),this.utilFrom=getTranslation("utilFrom"),this.utilTo=getTranslation("utilTo"),this.utilConvert=getTranslation("utilConvert"),this.utilInputName=getTranslation("utilInputName"),this.utilAddMem=getTranslation("utilAddMem"),this.utilAddGroup=getTranslation("utilAddGroup"),this.HINT=getTranslation("HINT"),this.envelopestt2=getTranslation("envelopestt2"),this.hasConverterMessage=!1,this.converterMessage="",this.hasCreateGroupMessage=!1,this.createGroupMessage="",this.counter=1}hasConnection(){return this.connectionService.hasConnection}ngOnInit(){this.api.getUser().then(e=>{this.refreshLanguage(e.language),this.data={utility:!0,fileName:"utilities",message:getTranslation("messageUtilities"),welcomeMessage:getTranslation("welcomeMessageUtilities"),logout:"Logout",DASHBOARD:"DASHBOARD",ENVELOPES:"ENVELOPES",GOALS:"GOALS",BILLS:"BILLS",HISTORY:"HISTORY",UTILITIES:"UTILITIES",user:"User",settings:"Settings",appearance:"Appearance",light:"Light",dark:"Dark"},this.userId=e._id,this.groups=this.generateGroups(e.friendgroups)}).catch(e=>{this.authentication.logout(),this.router.navigate(["/"])})}refreshLanguage(e){setLanguage(e),this.utilGroups=getTranslation("utilGroups"),this.utilCreate=getTranslation("utilCreate"),this.utilName=getTranslation("utilName"),this.utilNext=getTranslation("utilNext"),this.utilBalance=getTranslation("utilBalance"),this.utilConverter=getTranslation("utilConverter"),this.utilFrom=getTranslation("utilFrom"),this.utilTo=getTranslation("utilTo"),this.utilConvert=getTranslation("utilConvert"),this.utilInputName=getTranslation("utilInputName"),this.utilAddMem=getTranslation("utilAddMem"),this.utilAddGroup=getTranslation("utilAddGroup"),this.HINT=getTranslation("HINT"),this.envelopestt2=getTranslation("envelopestt2")}generateGroups(e){var t=[];for(var n of e){var o=[],a=n.friends,r="Me",i=n.balance;for(var s of a)s.balance<i&&(r=s.name,i=s.balance),o.push({id:s._id,name:s.name,amount:s.balance});t.push({id:n._id,Group:n.name,Next:r,Balance:n.balance,groupMember:o})}return t}insertMe(e,t){return e.push({id:this.userId,name:"Me",amount:t}),e}converter(e,t,n){this.api.converter(e,t,n).then(e=>{this.hasConverterMessage=!1,this.resultValue=e.value}).catch(e=>{this.hasConverterMessage=!0,this.converterMessage="Error converting currencies!"})}addGroupUtilities(){const e=this.groupName.nativeElement;var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,16}$");return e.value.match(t)?(e.style.borderColor="#ced4da",1):(e.style.setProperty("border-color","red","important"),0)}checkMemberName(e,t){const n=document.getElementById("inputMember"+t);var o=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,16}$");return e.match(o)?(n.style.borderColor="#ced4da",1):(n.style.setProperty("border-color","red","important"),0)}buttonAddGroupUtilities(e,t,n){var o=this.addGroupUtilities(),a=1,r=1;for(var i of t)0==this.checkMemberName(i,a)&&(r=0),a++;0==o||0==r||1==n?0==o||0==r?$(".tt5").toast("show"):$(".tt5").toast("hide"):($(".tt5").toast("hide"),this.addFriendGroup(e,t))}addGroupMember(e){this.counter>=10?alert("Only 10 members allowed"):(this.counter++,this.groupMembers.push({value:this.counter}))}createGroup(e,t){const n=e.form.value;var o,a=[];for(const[r,i]of Object.entries(n))"inputGroupName"===r?o=n[r]:a.push(n[r]);this.buttonAddGroupUtilities(o,a,t)}addFriendGroup(e,t){this.hasCreateGroupMessage=!0,this.createGroupMessage="Saving group",this.api.addFriendGroup(e,t).then(e=>{this.addGroupModal.nativeElement.click(),this.hasCreateGroupMessage=!1,this.afterAddFriedGroup(e)}).catch(e=>{this.createGroupMessage="Failed to save!"})}afterAddFriedGroup(e){var t=[],n=e.friends;t=this.insertMe(t,e.balance);var o="Me",a=e.balance;for(var r of n)r.balance<a&&(o=r.name,a=r.balance),t.push({id:r._id,name:r.name,amount:r.balance});this.groups.push({id:e._id,Group:e.name,Next:o,Balance:e.balance,groupMember:t})}afterDelete(e){const t=this.groups.findIndex(t=>t.id===e);t>-1&&this.groups.splice(t,1)}afterCalculatingBalances(e){var t=this.groups.find(t=>t.id===e._id);t.Balance=e.balance;var n=e.balance,o="Me";for(var a of e.friends){for(var r of t.groupMember)a.name==r.name&&(r.amount=a.balance);a.balance<n&&(n=a.amount,o=a.name)}t.Next=o}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(x),o.Kb(b.a),o.Kb(o.D),o.Kb(b.b),o.Kb(y),o.Kb(D))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-utilities"]],viewQuery:function(e,t){if(1&e&&(o.Hc(me,!0),o.Hc(Pe,!0),o.Hc(ve,!0),o.Hc(Oe,!0)),2&e){let e;o.oc(e=o.ac())&&(t.groupName=e.first),o.oc(e=o.ac())&&(t.memberName=e.first),o.oc(e=o.ac())&&(t.counter1=e.first),o.oc(e=o.ac())&&(t.addGroupModal=e.first)}},decls:319,vars:244,consts:[[3,"component"],[3,"message","welcomeMessage"],["id","cards-section",1,"container"],[1,"row",2,"margin-bottom","2vh","padding-left","15px"],[1,"col-sm-11","col-md-11","col-lg-11","col-xl-11"],[1,"col-sm-1","col-md-1","col-lg-1","col-xl-1"],["type","button","id","createGroup","data-toggle","modal","href","#addGroupModal",1,"btn","btn-primary",2,"text-align","right",3,"disabled"],[1,"row",2,"padding-left","25px"],[1,"table"],["scope","col"],["app-table-row","","data-toggle","modal",3,"group",4,"ngFor","ngForOf"],["id","converter",1,"container"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12"],[1,"col-md-0","col-sm-0","col-xl-2","col-lg-2"],[1,"col-xl-4","col-lg-4","col-md-6","col-sm-6"],["for","curr1"],["id","curr1",1,"form-control","curr1",3,"disabled"],["curr1",""],["value","EUR","selected","selected",3,"label"],["value","USD",3,"label"],["value","JPY",3,"label"],["value","GBP",3,"label"],["value","HRK",3,"label"],["disabled",""],["value","AUD",3,"label"],["value","BGN",3,"label"],["value","BRL",3,"label"],["value","CAD",3,"label"],["value","CHF",3,"label"],["value","CNY",3,"label"],["value","CZK",3,"label"],["value","EUR",3,"label"],["value","HKD",3,"label"],["value","HUF",3,"label"],["value","ILS",3,"label"],["value","INR",3,"label"],["value","ISK",3,"label"],["value","KRW",3,"label"],["value","MXN",3,"label"],["value","MYR",3,"label"],["value","NOK",3,"label"],["value","NZD",3,"label"],["value","PHP",3,"label"],["value","PLN",3,"label"],["value","RON",3,"label"],["value","RUB",3,"label"],["value","SEK",3,"label"],["value","SGD",3,"label"],["value","THB",3,"label"],["value","TRY",3,"label"],["for","curr2"],["id","curr2",1,"form-control","curr2",3,"disabled"],["curr2",""],["value","USD","selected","selected",3,"label"],["type","number","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","id","Amount","placeholder","Amount to convert",1,"form-control",3,"disabled"],["value",""],["type","number","id","Amount2","placeholder","Amount converted",1,"form-control",3,"value"],["class","row","style","text-align: center;",4,"ngIf"],[1,"row3"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12"],["type","button","id","convert",1,"btn","btn-primary",3,"disabled","click"],[3,"group",4,"ngFor","ngForOf"],["id","addGroupModal","tabindex","-1","role","dialog","aria-labelledby","modalCenterTitle","aria-hidden","true",1,"modal","fade"],["addGroupModal",""],[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],[1,"w-25","toastek"],["role","alert","data-delay","3000","data-autohide","false",1,"toast","ml-auto","tt5"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],["aria-hidden","true"],[1,"toast-body"],["role","alert","data-delay","3000","data-autohide","false",1,"toast","ml-auto","tt6"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[3,"ngSubmit"],["f","ngForm"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["id","inputMemberBody",1,"modal-body"],["for","inputGroupName"],["type","text","ngModel","","placeholder","Group Name","name","inputGroupName","id","inputGroupName","required","required",1,"form-control",3,"focusout"],["groupName",""],[4,"ngFor","ngForOf"],[1,"modal-footer"],[4,"ngIf"],["id","addGroup",1,"btn","btn-primary"],["type","button","id","addGroupMember",1,"btn","btn-primary",3,"click"],[3,"icon"],["app-table-row","","data-toggle","modal",3,"group"],[1,"row",2,"text-align","center"],[1,"col-md-12","col-sm-12","col-xl-12","col-lg-12"],[3,"group"],["type","text","ngModel","",1,"form-control",2,"margin-top","1%",3,"placeholder","name","id","focusout"],["memberName",""]],template:function(e,t){if(1&e){const e=o.Qb();o.Pb(0,"main"),o.Lb(1,"app-header",0),o.Lb(2,"app-welcome",1),o.Pb(3,"div",2),o.Pb(4,"div",3),o.Pb(5,"div",4),o.Pb(6,"h2"),o.Dc(7),o.Ob(),o.Ob(),o.Pb(8,"div",5),o.Pb(9,"button",6),o.Dc(10),o.Ob(),o.Ob(),o.Ob(),o.Pb(11,"div",7),o.Pb(12,"table",8),o.Pb(13,"thead"),o.Pb(14,"tr"),o.Pb(15,"th",9),o.Dc(16),o.Ob(),o.Pb(17,"th",9),o.Dc(18),o.Ob(),o.Pb(19,"th",9),o.Dc(20),o.Ob(),o.Lb(21,"th",9),o.Ob(),o.Ob(),o.Pb(22,"tbody"),o.Bc(23,fe,1,1,"tr",10),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(24,"div",11),o.Pb(25,"div",12),o.Pb(26,"div",13),o.Pb(27,"h2"),o.Dc(28),o.Ob(),o.Ob(),o.Ob(),o.Pb(29,"div",12),o.Lb(30,"div",14),o.Pb(31,"div",15),o.Pb(32,"label",16),o.Dc(33),o.Ob(),o.Pb(34,"select",17,18),o.Pb(36,"option",19),o.cc(37,"currencyTranslator"),o.Dc(38,"EUR"),o.Ob(),o.Pb(39,"option",20),o.cc(40,"currencyTranslator"),o.Dc(41,"USD"),o.Ob(),o.Pb(42,"option",21),o.cc(43,"currencyTranslator"),o.Dc(44,"JPY"),o.Ob(),o.Pb(45,"option",22),o.cc(46,"currencyTranslator"),o.Dc(47,"GBP"),o.Ob(),o.Pb(48,"option",23),o.cc(49,"currencyTranslator"),o.Dc(50,"HRK"),o.Ob(),o.Pb(51,"option",24),o.Dc(52,"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"),o.Ob(),o.Pb(53,"option",25),o.cc(54,"currencyTranslator"),o.Dc(55,"AUD"),o.Ob(),o.Pb(56,"option",26),o.cc(57,"currencyTranslator"),o.Dc(58,"BGN"),o.Ob(),o.Pb(59,"option",27),o.cc(60,"currencyTranslator"),o.Dc(61,"BRL"),o.Ob(),o.Pb(62,"option",28),o.cc(63,"currencyTranslator"),o.Dc(64,"CAD"),o.Ob(),o.Pb(65,"option",29),o.cc(66,"currencyTranslator"),o.Dc(67,"CHF"),o.Ob(),o.Pb(68,"option",30),o.cc(69,"currencyTranslator"),o.Dc(70,"CNY"),o.Ob(),o.Pb(71,"option",31),o.cc(72,"currencyTranslator"),o.Dc(73,"CZK"),o.Ob(),o.Pb(74,"option",32),o.cc(75,"currencyTranslator"),o.Dc(76,"EUR"),o.Ob(),o.Pb(77,"option",22),o.cc(78,"currencyTranslator"),o.Dc(79,"GBP"),o.Ob(),o.Pb(80,"option",33),o.cc(81,"currencyTranslator"),o.Dc(82,"HKD"),o.Ob(),o.Pb(83,"option",23),o.cc(84,"currencyTranslator"),o.Dc(85,"HRK"),o.Ob(),o.Pb(86,"option",34),o.cc(87,"currencyTranslator"),o.Dc(88,"HUF"),o.Ob(),o.Pb(89,"option",35),o.cc(90,"currencyTranslator"),o.Dc(91,"ILS"),o.Ob(),o.Pb(92,"option",36),o.cc(93,"currencyTranslator"),o.Dc(94,"INR"),o.Ob(),o.Pb(95,"option",37),o.cc(96,"currencyTranslator"),o.Dc(97,"ISK"),o.Ob(),o.Pb(98,"option",21),o.cc(99,"currencyTranslator"),o.Dc(100,"JPY"),o.Ob(),o.Pb(101,"option",38),o.cc(102,"currencyTranslator"),o.Dc(103,"KRW"),o.Ob(),o.Pb(104,"option",39),o.cc(105,"currencyTranslator"),o.Dc(106,"MXN"),o.Ob(),o.Pb(107,"option",40),o.cc(108,"currencyTranslator"),o.Dc(109,"MYR"),o.Ob(),o.Pb(110,"option",41),o.cc(111,"currencyTranslator"),o.Dc(112,"NOK"),o.Ob(),o.Pb(113,"option",42),o.cc(114,"currencyTranslator"),o.Dc(115,"NZD"),o.Ob(),o.Pb(116,"option",43),o.cc(117,"currencyTranslator"),o.Dc(118,"PHP"),o.Ob(),o.Pb(119,"option",44),o.cc(120,"currencyTranslator"),o.Dc(121,"PLN"),o.Ob(),o.Pb(122,"option",45),o.cc(123,"currencyTranslator"),o.Dc(124,"RON"),o.Ob(),o.Pb(125,"option",46),o.cc(126,"currencyTranslator"),o.Dc(127,"RUB"),o.Ob(),o.Pb(128,"option",47),o.cc(129,"currencyTranslator"),o.Dc(130,"SEK"),o.Ob(),o.Pb(131,"option",48),o.cc(132,"currencyTranslator"),o.Dc(133,"SGD"),o.Ob(),o.Pb(134,"option",49),o.cc(135,"currencyTranslator"),o.Dc(136,"THB"),o.Ob(),o.Pb(137,"option",50),o.cc(138,"currencyTranslator"),o.Dc(139,"TRY"),o.Ob(),o.Pb(140,"option",20),o.cc(141,"currencyTranslator"),o.Dc(142,"USD"),o.Ob(),o.Ob(),o.Ob(),o.Pb(143,"div",15),o.Pb(144,"label",51),o.Dc(145),o.Ob(),o.Pb(146,"select",52,53),o.Pb(148,"option",32),o.cc(149,"currencyTranslator"),o.Dc(150,"EUR"),o.Ob(),o.Pb(151,"option",54),o.cc(152,"currencyTranslator"),o.Dc(153,"USD"),o.Ob(),o.Pb(154,"option",21),o.cc(155,"currencyTranslator"),o.Dc(156,"JPY"),o.Ob(),o.Pb(157,"option",22),o.cc(158,"currencyTranslator"),o.Dc(159,"GBP"),o.Ob(),o.Pb(160,"option",23),o.cc(161,"currencyTranslator"),o.Dc(162,"HRK"),o.Ob(),o.Pb(163,"option",24),o.Dc(164,"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"),o.Ob(),o.Pb(165,"option",25),o.cc(166,"currencyTranslator"),o.Dc(167,"AUD"),o.Ob(),o.Pb(168,"option",26),o.cc(169,"currencyTranslator"),o.Dc(170,"BGN"),o.Ob(),o.Pb(171,"option",27),o.cc(172,"currencyTranslator"),o.Dc(173,"BRL"),o.Ob(),o.Pb(174,"option",28),o.cc(175,"currencyTranslator"),o.Dc(176,"CAD"),o.Ob(),o.Pb(177,"option",29),o.cc(178,"currencyTranslator"),o.Dc(179,"CHF"),o.Ob(),o.Pb(180,"option",30),o.cc(181,"currencyTranslator"),o.Dc(182,"CNY"),o.Ob(),o.Pb(183,"option",31),o.cc(184,"currencyTranslator"),o.Dc(185,"CZK"),o.Ob(),o.Pb(186,"option",32),o.cc(187,"currencyTranslator"),o.Dc(188,"EUR"),o.Ob(),o.Pb(189,"option",22),o.cc(190,"currencyTranslator"),o.Dc(191,"GBP"),o.Ob(),o.Pb(192,"option",33),o.cc(193,"currencyTranslator"),o.Dc(194,"HKD"),o.Ob(),o.Pb(195,"option",23),o.cc(196,"currencyTranslator"),o.Dc(197,"HRK"),o.Ob(),o.Pb(198,"option",34),o.cc(199,"currencyTranslator"),o.Dc(200,"HUF"),o.Ob(),o.Pb(201,"option",35),o.cc(202,"currencyTranslator"),o.Dc(203,"ILS"),o.Ob(),o.Pb(204,"option",36),o.cc(205,"currencyTranslator"),o.Dc(206,"INR"),o.Ob(),o.Pb(207,"option",37),o.cc(208,"currencyTranslator"),o.Dc(209,"ISK"),o.Ob(),o.Pb(210,"option",21),o.cc(211,"currencyTranslator"),o.Dc(212,"JPY"),o.Ob(),o.Pb(213,"option",38),o.cc(214,"currencyTranslator"),o.Dc(215,"KRW"),o.Ob(),o.Pb(216,"option",39),o.cc(217,"currencyTranslator"),o.Dc(218,"MXN"),o.Ob(),o.Pb(219,"option",40),o.cc(220,"currencyTranslator"),o.Dc(221,"MYR"),o.Ob(),o.Pb(222,"option",41),o.cc(223,"currencyTranslator"),o.Dc(224,"NOK"),o.Ob(),o.Pb(225,"option",42),o.cc(226,"currencyTranslator"),o.Dc(227,"NZD"),o.Ob(),o.Pb(228,"option",43),o.cc(229,"currencyTranslator"),o.Dc(230,"PHP"),o.Ob(),o.Pb(231,"option",44),o.cc(232,"currencyTranslator"),o.Dc(233,"PLN"),o.Ob(),o.Pb(234,"option",45),o.cc(235,"currencyTranslator"),o.Dc(236,"RON"),o.Ob(),o.Pb(237,"option",46),o.cc(238,"currencyTranslator"),o.Dc(239,"RUB"),o.Ob(),o.Pb(240,"option",47),o.cc(241,"currencyTranslator"),o.Dc(242,"SEK"),o.Ob(),o.Pb(243,"option",48),o.cc(244,"currencyTranslator"),o.Dc(245,"SGD"),o.Ob(),o.Pb(246,"option",49),o.cc(247,"currencyTranslator"),o.Dc(248,"THB"),o.Ob(),o.Pb(249,"option",50),o.cc(250,"currencyTranslator"),o.Dc(251,"TRY"),o.Ob(),o.Pb(252,"option",20),o.cc(253,"currencyTranslator"),o.Dc(254,"USD"),o.Ob(),o.Ob(),o.Ob(),o.Lb(255,"div",14),o.Ob(),o.Pb(256,"div",12),o.Lb(257,"div",14),o.Pb(258,"div",15),o.Lb(259,"input",55,56),o.Ob(),o.Pb(261,"div",15),o.Lb(262,"output",57),o.cc(263,"number"),o.Ob(),o.Lb(264,"div",14),o.Ob(),o.Bc(265,ye,3,1,"div",58),o.Pb(266,"div",59),o.Pb(267,"div",60),o.Pb(268,"button",61),o.Zb("click",function(){o.rc(e);const n=o.pc(35),a=o.pc(147),r=o.pc(260);return t.converter(n.value,a.value,r.value)}),o.Dc(269),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Bc(270,xe,1,1,"app-utilities-edit-modal",62),o.Pb(271,"div",63,64),o.Pb(273,"div",65),o.Pb(274,"div",66),o.Pb(275,"div",67),o.Pb(276,"div",68),o.Pb(277,"strong",69),o.Dc(278),o.Ob(),o.Pb(279,"button",70),o.Pb(280,"span",71),o.Dc(281,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(282,"div",72),o.Dc(283),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(284,"div",65),o.Pb(285,"div",66),o.Pb(286,"div",73),o.Pb(287,"div",68),o.Pb(288,"strong",69),o.Dc(289),o.Ob(),o.Pb(290,"button",70),o.Pb(291,"span",71),o.Dc(292,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(293,"div",72),o.Dc(294),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(295,"div",74),o.Pb(296,"div",75),o.Pb(297,"form",76,77),o.Zb("ngSubmit",function(){o.rc(e);const n=o.pc(298);return t.createGroup(n,0)}),o.Pb(299,"div",78),o.Pb(300,"button",79),o.Pb(301,"span",71),o.Dc(302,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(303,"div",80),o.Pb(304,"label",81),o.Dc(305),o.Ob(),o.Pb(306,"input",82,83),o.Zb("focusout",function(){o.rc(e);const n=o.pc(298);return t.createGroup(n,1)}),o.Ob(),o.Lb(308,"br"),o.Pb(309,"label",81),o.Dc(310),o.Ob(),o.Bc(311,Ce,5,7,"div",84),o.Ob(),o.Pb(312,"div",85),o.Bc(313,Me,3,1,"p",86),o.Pb(314,"button",87),o.Dc(315),o.Ob(),o.Pb(316,"button",88),o.Zb("click",function(){o.rc(e);const n=o.pc(307);return t.addGroupMember(n.value)}),o.Lb(317,"fa-icon",89),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Lb(318,"app-footer"),o.Ob()}2&e&&(o.xb(1),o.hc("component","utilities"),o.xb(1),o.hc("message",t.data.message)("welcomeMessage",t.data.welcomeMessage),o.xb(5),o.Ec(t.utilGroups),o.xb(2),o.hc("disabled",!t.hasConnection()),o.xb(1),o.Ec(t.utilCreate),o.xb(6),o.Ec(t.utilName),o.xb(2),o.Ec(t.utilNext),o.xb(2),o.Ec(t.utilBalance),o.xb(3),o.hc("ngForOf",t.groups),o.xb(5),o.Ec(t.utilConverter),o.xb(5),o.Ec(t.utilFrom),o.xb(1),o.hc("disabled",!t.hasConnection()),o.xb(2),o.ic("label",o.dc(37,101,"EUR")),o.xb(3),o.ic("label",o.dc(40,103,"USD")),o.xb(3),o.ic("label",o.dc(43,105,"JPY")),o.xb(3),o.ic("label",o.dc(46,107,"GBP")),o.xb(3),o.ic("label",o.dc(49,109,"HRK")),o.xb(5),o.ic("label",o.dc(54,111,"AUD")),o.xb(3),o.ic("label",o.dc(57,113,"BGN")),o.xb(3),o.ic("label",o.dc(60,115,"BRL")),o.xb(3),o.ic("label",o.dc(63,117,"CAD")),o.xb(3),o.ic("label",o.dc(66,119,"CHF")),o.xb(3),o.ic("label",o.dc(69,121,"CNY")),o.xb(3),o.ic("label",o.dc(72,123,"CZK")),o.xb(3),o.ic("label",o.dc(75,125,"EUR")),o.xb(3),o.ic("label",o.dc(78,127,"GBP")),o.xb(3),o.ic("label",o.dc(81,129,"HKD")),o.xb(3),o.ic("label",o.dc(84,131,"HRK")),o.xb(3),o.ic("label",o.dc(87,133,"HUF")),o.xb(3),o.ic("label",o.dc(90,135,"ILS")),o.xb(3),o.ic("label",o.dc(93,137,"INR")),o.xb(3),o.ic("label",o.dc(96,139,"ISK")),o.xb(3),o.ic("label",o.dc(99,141,"JPY")),o.xb(3),o.ic("label",o.dc(102,143,"KRW")),o.xb(3),o.ic("label",o.dc(105,145,"MXN")),o.xb(3),o.ic("label",o.dc(108,147,"MYR")),o.xb(3),o.ic("label",o.dc(111,149,"NOK")),o.xb(3),o.ic("label",o.dc(114,151,"NZD")),o.xb(3),o.ic("label",o.dc(117,153,"PHP")),o.xb(3),o.ic("label",o.dc(120,155,"PLN")),o.xb(3),o.ic("label",o.dc(123,157,"RON")),o.xb(3),o.ic("label",o.dc(126,159,"RUB")),o.xb(3),o.ic("label",o.dc(129,161,"SEK")),o.xb(3),o.ic("label",o.dc(132,163,"SGD")),o.xb(3),o.ic("label",o.dc(135,165,"THB")),o.xb(3),o.ic("label",o.dc(138,167,"TRY")),o.xb(3),o.ic("label",o.dc(141,169,"USD")),o.xb(5),o.Ec(t.utilTo),o.xb(1),o.hc("disabled",!t.hasConnection()),o.xb(2),o.ic("label",o.dc(149,171,"EUR")),o.xb(3),o.ic("label",o.dc(152,173,"USD")),o.xb(3),o.ic("label",o.dc(155,175,"JPY")),o.xb(3),o.ic("label",o.dc(158,177,"GBP")),o.xb(3),o.ic("label",o.dc(161,179,"HRK")),o.xb(5),o.ic("label",o.dc(166,181,"AUD")),o.xb(3),o.ic("label",o.dc(169,183,"BGN")),o.xb(3),o.ic("label",o.dc(172,185,"BRL")),o.xb(3),o.ic("label",o.dc(175,187,"CAD")),o.xb(3),o.ic("label",o.dc(178,189,"CHF")),o.xb(3),o.ic("label",o.dc(181,191,"CNY")),o.xb(3),o.ic("label",o.dc(184,193,"CZK")),o.xb(3),o.ic("label",o.dc(187,195,"EUR")),o.xb(3),o.ic("label",o.dc(190,197,"GBP")),o.xb(3),o.ic("label",o.dc(193,199,"HKD")),o.xb(3),o.ic("label",o.dc(196,201,"HRK")),o.xb(3),o.ic("label",o.dc(199,203,"HUF")),o.xb(3),o.ic("label",o.dc(202,205,"ILS")),o.xb(3),o.ic("label",o.dc(205,207,"INR")),o.xb(3),o.ic("label",o.dc(208,209,"ISK")),o.xb(3),o.ic("label",o.dc(211,211,"JPY")),o.xb(3),o.ic("label",o.dc(214,213,"KRW")),o.xb(3),o.ic("label",o.dc(217,215,"MXN")),o.xb(3),o.ic("label",o.dc(220,217,"MYR")),o.xb(3),o.ic("label",o.dc(223,219,"NOK")),o.xb(3),o.ic("label",o.dc(226,221,"NZD")),o.xb(3),o.ic("label",o.dc(229,223,"PHP")),o.xb(3),o.ic("label",o.dc(232,225,"PLN")),o.xb(3),o.ic("label",o.dc(235,227,"RON")),o.xb(3),o.ic("label",o.dc(238,229,"RUB")),o.xb(3),o.ic("label",o.dc(241,231,"SEK")),o.xb(3),o.ic("label",o.dc(244,233,"SGD")),o.xb(3),o.ic("label",o.dc(247,235,"THB")),o.xb(3),o.ic("label",o.dc(250,237,"TRY")),o.xb(3),o.ic("label",o.dc(253,239,"USD")),o.xb(7),o.hc("disabled",!t.hasConnection()),o.xb(3),o.ic("value",o.ec(263,241,t.resultValue,"1.2-2")),o.xb(3),o.hc("ngIf",t.hasConverterMessage),o.xb(3),o.hc("disabled",!t.hasConnection()),o.xb(1),o.Ec(t.utilConvert),o.xb(1),o.hc("ngForOf",t.groups),o.xb(8),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopestt2,"20 "),o.xb(6),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopestt2,"20 "),o.xb(11),o.Ec(t.utilInputName),o.xb(5),o.Ec(t.utilAddMem),o.xb(1),o.hc("ngForOf",t.groupMembers),o.xb(2),o.hc("ngIf",t.hasCreateGroupMessage),o.xb(2),o.Ec(t.utilAddGroup),o.xb(2),o.hc("icon",t.faPlusSquare))},styles:["main[_ngcontent-%COMP%]{background:#ededed}.container[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 15px 1px #d1d1d1;padding:0}.row[_ngcontent-%COMP%]{margin:0}@media only screen and (min-width:900px){.footer[_ngcontent-%COMP%]{padding-top:12vh}}@media only screen and (min-width:900px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:15vh}}@media only screen and (max-width:991px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:10vh}}#welcome-alert-section[_ngcontent-%COMP%]{padding:4vh}#cards-section[_ngcontent-%COMP%], #converter[_ngcontent-%COMP%]{padding:4vh;margin-top:2vh}#converter[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], #main-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], #welcome-alert-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}.row3[_ngcontent-%COMP%]{text-align:center}.clickable[_ngcontent-%COMP%]{cursor:pointer}#pfpNavBar[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}"]}),e})();const Ee=["app-table-row",""];function De(e,t){if(1&e&&(o.Pb(0,"ng",10),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.DeleteGroupMessage)}}let _e=(()=>{class e{constructor(e,t,n){this.api=e,this.UtilitiesComponent=t,this.connectionService=n,this.faMinusSquare=m.l,this.faPencilAlt=m.n,this.hasDeleteGroupMessage=!1,this.DeleteGroupMessage=""}hasConnection(){return this.connectionService.hasConnection}ngOnInit(){}buttonDeleteGroup(){this.group.id&&this.deleteGroup()}deleteGroup(){1==confirm("Are you sure you want to delete group "+this.group.Group+"?")&&(this.hasDeleteGroupMessage=!0,this.DeleteGroupMessage="Deleting group",this.api.deleteGroup(this.group.id).then(e=>{this.UtilitiesComponent.afterDelete(this.group.id),this.hasDeleteGroupMessage=!1}).catch(e=>{this.DeleteGroupMessage="Failed to delete group!"}))}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(x),o.Kb(we),o.Kb(D))},e.\u0275cmp=o.Eb({type:e,selectors:[["tr","app-table-row",""]],inputs:{group:"group"},attrs:Ee,decls:14,vars:9,consts:[["id","group"],["id","next"],["id","balance"],[2,"float","left","width","40%"],[2,"float","right","width","60%"],["style","text-align: right;",4,"ngIf"],["id","delete"],["type","button","aria-label","Edit","data-toggle","modal",1,"btn","edit-btn",3,"disabled"],[3,"icon"],["aria-label","Delete","data-toggle","modal",1,"btn","edit-btn",3,"disabled","click"],[2,"text-align","right"]],template:function(e,t){1&e&&(o.Pb(0,"td",0),o.Dc(1),o.Ob(),o.Pb(2,"td",1),o.Dc(3),o.Ob(),o.Pb(4,"td",2),o.Pb(5,"div",3),o.Dc(6),o.Ob(),o.Pb(7,"div",4),o.Bc(8,De,3,1,"ng",5),o.Ob(),o.Ob(),o.Pb(9,"td",6),o.Pb(10,"button",7),o.Lb(11,"fa-icon",8),o.Ob(),o.Pb(12,"button",9),o.Zb("click",function(){return t.deleteGroup()}),o.Lb(13,"fa-icon",8),o.Ob(),o.Ob()),2&e&&(o.xb(1),o.Ec(t.group.Group),o.xb(2),o.Ec(t.group.Next),o.xb(3),o.Ec(t.group.Balance),o.xb(2),o.hc("ngIf",t.hasDeleteGroupMessage),o.xb(2),o.hc("disabled",!t.hasConnection()),o.yb("data-target","#showGroup"+t.group.id),o.xb(1),o.hc("icon",t.faPencilAlt),o.xb(1),o.hc("disabled",!t.hasConnection()),o.xb(1),o.hc("icon",t.faMinusSquare))},directives:[p.k,c.a],styles:["#balance[_ngcontent-%COMP%], #group[_ngcontent-%COMP%], #next[_ngcontent-%COMP%]{width:30%}#delete[_ngcontent-%COMP%]{text-align:right}"]}),e})();const Te=["price"],ke=["paid"],Le=["showGroupModal"];function Ie(e,t){if(1&e){const e=o.Qb();o.Pb(0,"tr"),o.Pb(1,"td"),o.Dc(2),o.Ob(),o.Pb(3,"td"),o.Pb(4,"input",30),o.Zb("focusout",function(){o.rc(e);const t=o.bc(),n=o.pc(32);return t.formCalculateBalances(n,1)}),o.Ob(),o.Ob(),o.Pb(5,"td"),o.Pb(6,"input",31),o.Zb("focusout",function(){o.rc(e);const t=o.bc(),n=o.pc(32);return t.formCalculateBalances(n,1)}),o.Ob(),o.Ob(),o.Pb(7,"td"),o.Dc(8),o.Ob(),o.Ob()}if(2&e){const e=t.$implicit;o.xb(2),o.Ec(e.name),o.xb(2),o.jc("id",".price",e.id,""),o.jc("name","price",e.id,""),o.xb(2),o.jc("id",".paid",e.id,""),o.jc("name","paid",e.id,""),o.xb(2),o.Ec(e.amount)}}function Ae(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.editGroupMessage)}}let Se=(()=>{class e{constructor(e,t,n,o){this.renderer=e,this.elementRef=t,this.api=n,this.UtilitiesComponent=o,this.pricePaidArray=[],this.hasEditGroupMessage=!0,this.editGroupMessage=""}ngOnInit(){}valueGroupsUtilities(){const e=this.price.nativeElement;return new RegExp("^[0-9]+(.[0-9]{1,2})?$").test(e.value)?(e.style.borderColor="#ced4da",1):(e.style.setProperty("border-color","red","important"),0)}valueGroupsUtilities2(){const e=this.paid.nativeElement;return new RegExp("^[0-9]+(.[0-9]{1,2})?$").test(e.value)?(e.style.borderColor="#ced4da",1):(e.style.setProperty("border-color","red","important"),0)}priceFieldCheckMembers(e,t){const n=document.getElementById(".price"+e);return new RegExp("^[0-9]+(.[0-9]{1,2})?$").test(t)?(n.style.borderColor="#ced4da",1):(n.style.setProperty("border-color","red","important"),0)}paidFieldCheckMembers(e,t){const n=document.getElementById(".paid"+e);return new RegExp("^[0-9]+(.[0-9]{1,2})?$").test(t)?(n.style.borderColor="#ced4da",1):(n.style.setProperty("border-color","red","important"),0)}checkSumPricePaid(e){for(var t=0,n=0,o=0;o<e.length;o++)t+=Number(e[o][0]),n+=Number(e[o][1]);return t==n?1:0}disableButtonMember(e,t){var n=this.valueGroupsUtilities(),o=this.valueGroupsUtilities2(),a=this.checkSumPricePaid(e),r=1,i=1;for(var s of(0!=n&&0!=o||(i=0),this.group.groupMember)){var c=s.id;n=this.priceFieldCheckMembers(c,e[r][0]),o=this.paidFieldCheckMembers(c,e[r][1]),0!=n&&0!=o||(i=0),r++}0==i||0==a||1==t?(0==i&&$(".tt1"+this.group.id).toast("show"),0==a&&$(".tt2"+this.group.id).toast("show"),1==i&&$(".tt1"+this.group.id).toast("hide"),1==a&&$(".tt2"+this.group.id).toast("hide")):($(".tt2"+this.group.id).toast("hide"),$(".tt1"+this.group.id).toast("hide"),this.calculateBalances(e))}formCalculateBalances(e,t){const n=e.form.value;var o=[],a=0,r=0;for(const[c,l]of Object.entries(n))r++;for(var i=0;i<r/2;i++){o[i]=[];for(var s=0;s<2;s++)o[i][s]=0}r=0;for(const[c,l]of Object.entries(n))a%2==0?o[r][0]=n[c]:(o[r][1]=n[c],r++),a++;this.disableButtonMember(o,t)}calculateBalances(e){this.hasEditGroupMessage=!0,this.editGroupMessage="Calculating balances",this.api.calculateBalances(JSON.stringify(e),this.group.id).then(e=>{this.showGroupModal.nativeElement.click(),this.UtilitiesComponent.afterCalculatingBalances(e),this.hasEditGroupMessage=!1}).catch(e=>{this.editGroupMessage="Failed to calculate balances!"})}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(o.D),o.Kb(o.l),o.Kb(x),o.Kb(we))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-utilities-edit-modal"]],viewQuery:function(e,t){if(1&e&&(o.Hc(Te,!0),o.Hc(ke,!0),o.Hc(Le,!0)),2&e){let e;o.oc(e=o.ac())&&(t.price=e.first),o.oc(e=o.ac())&&(t.paid=e.first),o.oc(e=o.ac())&&(t.showGroupModal=e.first)}},inputs:{group:"group"},decls:65,vars:13,consts:[["tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"id"],["showGroupModal",""],[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],[1,"w-25","toastek"],["role","alert","data-delay","1000","data-autohide","false"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],["aria-hidden","true"],[1,"toast-body"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[3,"ngSubmit"],["f","ngForm"],[1,"modal-body"],[1,"row"],[1,"table",3,"id"],["scope","col"],["type","number","ngModel","","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","id",".price","name","price","placeholder","Bill amount","step","any","required","",1,"form-control","price",3,"focusout"],["price",""],["type","number","ngModel","","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","id",".paid","name","paid","placeholder","Money paid","step","any","required","",1,"form-control","paid",3,"focusout"],["paid",""],[4,"ngFor","ngForOf"],[1,"modal-footer"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"id"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","number","ngModel","","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","placeholder","Bill amount","step","any","required","",1,"form-control","price",3,"id","name","focusout"],["type","number","ngModel","","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","placeholder","Money paid","step","any","required","",1,"form-control","paid",3,"id","name","focusout"]],template:function(e,t){if(1&e){const e=o.Qb();o.Pb(0,"div",0,1),o.Dc(2),o.Pb(3,"div",2),o.Pb(4,"div",3),o.Pb(5,"div",4),o.Pb(6,"div",5),o.Pb(7,"strong",6),o.Dc(8,"HINT"),o.Ob(),o.Pb(9,"button",7),o.Pb(10,"span",8),o.Dc(11,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(12,"div",9),o.Dc(13," Input may only contain decimal numbers separated by . with max 2 decimal places. "),o.Ob(),o.Ob(),o.Pb(14,"div",4),o.Pb(15,"div",5),o.Pb(16,"strong",6),o.Dc(17,"HINT"),o.Ob(),o.Pb(18,"button",7),o.Pb(19,"span",8),o.Dc(20,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(21,"div",9),o.Dc(22," Sum of prices must be equal to money paid "),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(23,"div",10),o.Pb(24,"div",11),o.Pb(25,"div",12),o.Pb(26,"h5",13),o.Dc(27,"Group Details"),o.Ob(),o.Pb(28,"button",14),o.Pb(29,"span",8),o.Dc(30,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(31,"form",15,16),o.Zb("ngSubmit",function(){o.rc(e);const n=o.pc(32);return t.formCalculateBalances(n,0)}),o.Pb(33,"div",17),o.Pb(34,"div",18),o.Pb(35,"table",19),o.Pb(36,"thead"),o.Pb(37,"tr"),o.Pb(38,"th",20),o.Dc(39,"Name"),o.Ob(),o.Pb(40,"th",20),o.Dc(41,"Price"),o.Ob(),o.Pb(42,"th",20),o.Dc(43,"Paid"),o.Ob(),o.Pb(44,"th",20),o.Dc(45,"Balance"),o.Ob(),o.Ob(),o.Ob(),o.Pb(46,"tbody"),o.Pb(47,"tr"),o.Pb(48,"td"),o.Dc(49,"Me"),o.Ob(),o.Pb(50,"td"),o.Pb(51,"input",21,22),o.Zb("focusout",function(){o.rc(e);const n=o.pc(32);return t.formCalculateBalances(n,1)}),o.Ob(),o.Ob(),o.Pb(53,"td"),o.Pb(54,"input",23,24),o.Zb("focusout",function(){o.rc(e);const n=o.pc(32);return t.formCalculateBalances(n,1)}),o.Ob(),o.Ob(),o.Pb(56,"td"),o.Dc(57),o.Ob(),o.Ob(),o.Bc(58,Ie,9,6,"tr",25),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(59,"div",26),o.Bc(60,Ae,3,1,"p",27),o.Pb(61,"button",28),o.Dc(62,"Save changes"),o.Ob(),o.Pb(63,"button",29),o.Dc(64,"Close"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()}2&e&&(o.jc("id","showGroup",t.group.id,""),o.xb(2),o.Fc(" ",t.group.id," "),o.xb(3),o.Ab("toast ml-auto tt1",t.group.id,""),o.xb(9),o.Ab("toast ml-auto tt2",t.group.id,""),o.xb(21),o.jc("id","table",t.group.id,""),o.xb(22),o.Ec(t.group.Balance),o.xb(1),o.hc("ngForOf",t.group.groupMember),o.xb(2),o.hc("ngIf",t.hasEditGroupMessage),o.xb(1),o.jc("id","sum",t.group.id,""))},directives:[i.m,i.f,i.g,i.j,i.a,i.e,i.h,i.k,p.j,p.k],styles:[""]}),e})();const Be=["nameAdd"],Ne=["amountAdd"],Ge=["dateAdd"],je=["addBillModal"];function Fe(e,t){if(1&e&&(o.Pb(0,"div",66),o.Lb(1,"card",67),o.Ob()),2&e){const e=t.$implicit;o.jc("id","card",e.id,""),o.xb(1),o.hc("card",e)}}function He(e,t){if(1&e&&o.Lb(0,"tr",68),2&e){const e=t.$implicit,n=o.bc();o.hc("data",e)("Currency",n.currency)("Categories",n.categories)}}function Re(e,t){if(1&e&&(o.Pb(0,"option",69),o.Dc(1),o.Ob()),2&e){const e=t.$implicit;o.ic("id",e._id),o.ic("value",e._id),o.xb(1),o.Ec(e.name)}}function Ue(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.addMessage)}}let ze=(()=>{class e{constructor(e,t,n,o,a){this.api=e,this.renderer=t,this.router=n,this.authentication=o,this.connectionService=a,this.fileName="bills",this.message=getTranslation("messageBills"),this.welcomeMessage=getTranslation("welcomeMessageBills"),this.logout="Logout",this.DASHBOARD="DASHBOARD",this.ENVELOPES="ENVELOPES",this.GOALS="GOALS",this.BILLS="BILLS",this.HISTORY="HISTORY",this.UTILITIES="UTILITIES",this.user="User",this.settings="Settings",this.appearance="Appearance",this.light="Light",this.dark="Dark",this.billsAll=getTranslation("billsAll"),this.billAdd=getTranslation("billAdd"),this.billsPayee=getTranslation("billsPayee"),this.billsDue=getTranslation("billsDue"),this.billsOften=getTranslation("billsOften"),this.billsOnce=getTranslation("billsOnce"),this.billsMonth=getTranslation("billsMonth"),this.billsYear=getTranslation("billsYear"),this.HINT=getTranslation("HINT"),this.envelopestt2=getTranslation("envelopestt2"),this.envelopestt3=getTranslation("envelopestt3"),this.goalsDateHint=getTranslation("goalsDateHint"),this.envelopesCategory=getTranslation("envelopesCategory"),this.envelopesSelCat=getTranslation("envelopesSelCat"),this.envelopesAmount=getTranslation("envelopesAmount"),this.hasAddMessage=!1,this.addMessage="",this.faPlusSquare=m.p}hasConnection(){return this.connectionService.hasConnection}ngOnInit(){this.api.getUser().then(e=>{this.refreshLanguage(e.language),this.bills=this.generateBills(e.bills),this.cards=this.generateCards(),this.categories=e.categories,this.currency=e.defaultCurrency}).catch(e=>{this.authentication.logout(),this.router.navigate(["/"])})}refreshLanguage(e){setLanguage(e),this.message=getTranslation("messageBills"),this.welcomeMessage=getTranslation("welcomeMessageBills"),this.billsAll=getTranslation("billsAll"),this.billAdd=getTranslation("billAdd"),this.billsPayee=getTranslation("billsPayee"),this.billsDue=getTranslation("billsDue"),this.billsOften=getTranslation("billsOften"),this.billsOnce=getTranslation("billsOnce"),this.billsMonth=getTranslation("billsMonth"),this.billsYear=getTranslation("billsYear"),this.HINT=getTranslation("HINT"),this.envelopestt2=getTranslation("envelopestt2"),this.envelopestt3=getTranslation("envelopestt3"),this.goalsDateHint=getTranslation("goalsDateHint"),this.envelopesCategory=getTranslation("envelopesCategory"),this.envelopesSelCat=getTranslation("envelopesSelCat"),this.envelopesAmount=getTranslation("envelopesAmount")}generateBills(e){var t=[];for(var n of e){var o=n.date.split("T")[0].split("-"),a={_id:n._id,recipient:n.recipient,value:n.value,category:n.category.name,currency:n.currency,repeat:n.repeating,year:o[0],month:o[1],day:o[2],monthName:this.translateMonth(o[1]),date:n.date};t.push(a)}return t.sort(this.compare),t}compare(e,t){return t.year<e.year||t.year==e.year&&(t.month<e.month||t.month==e.month&&t.day<e.day)?1:-1}translateMonth(e){switch(e){case"01":return"JAN";case"02":return"FEB";case"03":return"MAR";case"04":return"APR";case"05":return"MAY";case"06":return"JUN";case"07":return"JUL";case"08":return"AUG";case"09":return"SEP";case"10":return"OCT";case"11":return"NOV";case"12":return"DEC"}}nameAddBills(){const e=this.nameAdd.nativeElement;var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,20}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt1").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt1").toast("show"),0)}amountAddBills(){const e=this.amountAdd.nativeElement;var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt2").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt2").toast("show"),0)}dateAddBills(){const e=this.dateAdd.nativeElement;var t=new Date,n=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),r=e.value.split("-");return r[0]>a||r[0]==a&&(r[1]>o||r[1]==o&&r[2]>=n)?($(".tt5").toast("hide"),e.style.borderColor="#ced4da",1):($(".tt5").toast("show"),e.style.setProperty("border-color","red","important"),0)}buttonAddBills(e,t,n,o,a){var r=this.amountAddBills(),i=this.nameAddBills(),s=this.dateAddBills();if(0==r||0==i||0==s)return!1;this.addBill(e,t,n,o,a)}addBill(e,t,n,o,a){this.hasAddMessage=!0,this.addMessage="Saving bill",this.api.addBill(e,t,n,o,a).then(e=>{this.addBillModal.nativeElement.click(),this.afterAddBill(e),this.hasAddMessage=!1}).catch(e=>{this.addMessage="Failed to save!"})}afterAddBill(e){var t=e.date.split("T")[0].split("-"),n={_id:e._id,recipient:e.recipient,value:e.value,category:e.category.name,currency:e.currency,repeat:e.repeating,year:t[0],month:t[1],day:t[2],monthName:this.translateMonth(t[1]),date:e.date};this.bills.push(n),this.bills.sort(this.compare),this.cards=this.generateCards()}generateCards(){const e=this.getBillsInTheNext7Days();return[new K(1,"bg-primary","faPaperclip",this.bills.length,getTranslation("billsTotal"),null),new K(21,"bg-warning","faCalendar",e.length,getTranslation("billsWeek"),this.generateComment(e))]}getBillsInTheNext7Days(){const e=new Date;var t=[];for(var n of this.bills)(new Date(n.date).getTime()-e.getTime())/864e5<7&&t.push(n);return t}generateComment(e){var t=getTranslation("billsNone"),n=this.findClosestBill(e);if(!n)return t;const o=new Date(Date.parse(n.date)),a=new Intl.DateTimeFormat("UK",{month:"2-digit",day:"2-digit"});return getTranslation("billsClose")+":\n"+n.recipient+" - "+a.format(o)}findClosestBill(e){var t=null;const n=new Date;var o=null;for(var a of e){const e=new Date(Date.parse(a.date)).getTime()-n.getTime();(!o||e<o)&&(o=e,t=a)}return t}afterDelete(e){const t=this.bills.findIndex(t=>t._id===e);t>-1&&this.bills.splice(t,1),this.cards=this.generateCards()}afterEdit(e){var t=this.bills.find(t=>t._id===e._id),n=e.date.split("T")[0].split("-");t._id=e._id,t.category=e.category.name,t.currency=e.currency,t.date=e.date,t.day=n[2],t.month=n[1],t.monthName=this.translateMonth(n[1]),t.recipient=e.recipient,t.repeat=e.repeating,t.value=e.value,t.year=n[0],this.cards=this.generateCards()}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(x),o.Kb(o.D),o.Kb(b.b),o.Kb(y),o.Kb(D))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-bills"]],viewQuery:function(e,t){if(1&e&&(o.Hc(Be,!0),o.Hc(Ne,!0),o.Hc(Ge,!0),o.Hc(je,!0)),2&e){let e;o.oc(e=o.ac())&&(t.nameAdd=e.first),o.oc(e=o.ac())&&(t.amountAdd=e.first),o.oc(e=o.ac())&&(t.dateAdd=e.first),o.oc(e=o.ac())&&(t.addBillModal=e.first)}},decls:124,vars:28,consts:[[3,"component"],[3,"message","welcomeMessage"],["id","cards-section",1,"container"],[1,"row"],["class","col-xl-3 col-lg-4 col-md-12 col-sm-12 aos-init aos-animate","data-aos","flip-down","data-aos-duration","500","style","margin: 0 auto",3,"id",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-6","col-lg-6","col-xl-6"],["id","search","type","text","placeholder","Search","aria-label","Search",1,"form-control","search"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12"],[1,"table-responsive"],["id","table",1,"table"],[1,"headertop"],["app-bill-table","",3,"data","Currency","Categories",4,"ngFor","ngForOf"],["data-toggle","modal","href","#modalForm","role","button","aria-expanded","false","aria-controls","about",1,"btn","btn-primary","addbill",3,"disabled"],[3,"icon"],["id","modalForm","tabindex","-1","role","dialog","aria-labelledby","modalCenterTitle","aria-hidden","true",1,"modal","fade"],["addBillModal",""],[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],[1,"w-25","toastek"],["role","alert","data-delay","3000","data-autohide","false",1,"toast","ml-auto","tt1"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],["aria-hidden","true"],[1,"toast-body"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt2"],["id","date-hintAdd","role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt5"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["name","addBill"],["type","hidden","name","formType","value","addBill"],[1,"modal-body"],[1,"ena"],["for","inputGoal"],["id","inputCategory","name","inputCategory","required","",1,"form-control"],["addBillCategory",""],["value","","selected","","disabled",""],["name","category",3,"id","value",4,"ngFor","ngForOf"],[1,"checker"],["for","Payee"],["type","text","id","Payee","name","Payee","placeholder","e.g. Elektro Ljubljana d.d.","required","",1,"form-control",3,"focusout"],["addBillPayee","","nameAdd",""],["id","alerts"],["for","Amount"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","number","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","id","Amount","name","Amount","placeholder","e.g. 15","step","any","required","required",1,"form-control",3,"focusout"],["addBillAmount","","amountAdd",""],["id","amm"],["for","date"],["type","date","placeholder","2020-01-01","id","inputDateAddBill","name","inputDateAddBill","required","required",1,"form-control",3,"focusout"],["addBillDate","","dateAdd",""],["for","once"],["type","radio","id","once","name","rad","value","once","required",""],["billRepeat1",""],["type","radio","id","monthly","name","rad","value","monthly"],["billRepeat2",""],["for","monthly"],["type","radio","id","yearly","name","rad","value","yearly"],["billRepeat3",""],["for","yearly"],[1,"modal-footer"],[4,"ngIf"],["id","buttonAddBill",1,"btn","btn-primary",3,"click"],["data-aos","flip-down","data-aos-duration","500",1,"col-xl-3","col-lg-4","col-md-12","col-sm-12","aos-init","aos-animate",2,"margin","0 auto",3,"id"],[3,"card"],["app-bill-table","",3,"data","Currency","Categories"],["name","category",3,"id","value"]],template:function(e,t){if(1&e){const e=o.Qb();o.Pb(0,"main"),o.Lb(1,"app-header",0),o.Lb(2,"app-welcome",1),o.Pb(3,"div",2),o.Pb(4,"div",3),o.Bc(5,Fe,2,2,"div",4),o.Ob(),o.Ob(),o.Pb(6,"div",2),o.Pb(7,"div",3),o.Pb(8,"div",5),o.Pb(9,"h3"),o.Dc(10),o.Ob(),o.Ob(),o.Pb(11,"div",5),o.Lb(12,"input",6),o.Ob(),o.Ob(),o.Pb(13,"div",3),o.Pb(14,"div",7),o.Pb(15,"div",8),o.Pb(16,"table",9),o.Lb(17,"thead",10),o.Pb(18,"tbody"),o.Bc(19,He,1,3,"tr",11),o.Ob(),o.Ob(),o.Ob(),o.Pb(20,"button",12),o.Dc(21),o.Lb(22,"fa-icon",13),o.Ob(),o.Lb(23,"br"),o.Ob(),o.Ob(),o.Ob(),o.Pb(24,"div",14,15),o.Pb(26,"div",16),o.Pb(27,"div",17),o.Pb(28,"div",18),o.Pb(29,"div",19),o.Pb(30,"strong",20),o.Dc(31),o.Ob(),o.Pb(32,"button",21),o.Pb(33,"span",22),o.Dc(34,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(35,"div",23),o.Dc(36),o.Ob(),o.Ob(),o.Pb(37,"div",24),o.Pb(38,"div",19),o.Pb(39,"strong",20),o.Dc(40),o.Ob(),o.Pb(41,"button",21),o.Pb(42,"span",22),o.Dc(43,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(44,"div",23),o.Dc(45),o.Ob(),o.Ob(),o.Pb(46,"div",25),o.Pb(47,"div",19),o.Pb(48,"strong",20),o.Dc(49),o.Ob(),o.Pb(50,"button",21),o.Pb(51,"span",22),o.Dc(52,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(53,"div",23),o.Dc(54),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(55,"div",26),o.Pb(56,"div",27),o.Pb(57,"div",28),o.Pb(58,"button",29),o.Pb(59,"span",22),o.Dc(60,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(61,"form",30),o.Lb(62,"input",31),o.Pb(63,"div",32),o.Pb(64,"div",33),o.Pb(65,"label",34),o.Dc(66),o.Ob(),o.Lb(67,"br"),o.Pb(68,"select",35,36),o.Pb(70,"option",37),o.Dc(71),o.Ob(),o.Bc(72,Re,2,3,"option",38),o.Ob(),o.Ob(),o.Pb(73,"div",39),o.Pb(74,"label",40),o.Dc(75),o.Ob(),o.Lb(76,"br"),o.Pb(77,"input",41,42),o.Zb("focusout",function(){return t.nameAddBills()}),o.Ob(),o.Ob(),o.Lb(80,"div",43),o.Pb(81,"div",33),o.Pb(82,"label",44),o.Dc(83),o.Ob(),o.Lb(84,"br"),o.Pb(85,"div",45),o.Pb(86,"div",46),o.Pb(87,"span",47),o.Dc(88),o.Ob(),o.Ob(),o.Pb(89,"input",48,49),o.Zb("focusout",function(){return t.amountAddBills()}),o.Ob(),o.Ob(),o.Lb(92,"div",50),o.Ob(),o.Pb(93,"div",33),o.Pb(94,"label",51),o.Dc(95),o.Ob(),o.Lb(96,"br"),o.Pb(97,"input",52,53),o.Zb("focusout",function(){return t.dateAddBills()}),o.Ob(),o.Ob(),o.Pb(100,"div",33),o.Pb(101,"label",54),o.Dc(102),o.Ob(),o.Lb(103,"br"),o.Lb(104,"input",55,56),o.Pb(106,"label",54),o.Dc(107),o.Ob(),o.Lb(108,"br"),o.Lb(109,"input",57,58),o.Pb(111,"label",59),o.Dc(112),o.Ob(),o.Lb(113,"br"),o.Lb(114,"input",60,61),o.Pb(116,"label",62),o.Dc(117),o.Ob(),o.Lb(118,"br"),o.Ob(),o.Ob(),o.Pb(119,"div",63),o.Bc(120,Ue,3,1,"p",64),o.Pb(121,"button",65),o.Zb("click",function(){o.rc(e);const n=o.pc(69),a=o.pc(78),r=o.pc(90),i=o.pc(98),s=o.pc(105),c=o.pc(110);return t.buttonAddBills(n.value,a.value,r.value,i.value,s.checked?s.value:c.checked?c.value:"yearly")}),o.Dc(122),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Lb(123,"app-footer"),o.Ob()}2&e&&(o.xb(1),o.hc("component","bills"),o.xb(1),o.hc("message",t.message)("welcomeMessage",t.welcomeMessage),o.xb(3),o.hc("ngForOf",t.cards),o.xb(5),o.Ec(t.billsAll),o.xb(9),o.hc("ngForOf",t.bills),o.xb(1),o.hc("disabled",!t.hasConnection()),o.xb(1),o.Fc("",t.billAdd," "),o.xb(1),o.hc("icon",t.faPlusSquare),o.xb(9),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopestt2,"20 "),o.xb(4),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopestt3," "),o.xb(4),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.goalsDateHint," "),o.xb(12),o.Ec(t.envelopesCategory),o.xb(5),o.Ec(t.envelopesSelCat),o.xb(1),o.hc("ngForOf",t.categories),o.xb(3),o.Ec(t.billsPayee),o.xb(8),o.Ec(t.envelopesAmount),o.xb(5),o.Ec(t.currency),o.xb(7),o.Ec(t.billsDue),o.xb(7),o.Ec(t.billsOften),o.xb(5),o.Ec(t.billsOnce),o.xb(5),o.Ec(t.billsMonth),o.xb(5),o.Ec(t.billsYear),o.xb(3),o.hc("ngIf",t.hasAddMessage),o.xb(2),o.Ec(t.billAdd))},styles:["main[_ngcontent-%COMP%]{background-color:#ededed}.date[_ngcontent-%COMP%]{text-align:center}td[_ngcontent-%COMP%]{text-align:left}.cena[_ngcontent-%COMP%]{text-align:center;font-family:Open Sans Bold}.bi-plus-square-fill[_ngcontent-%COMP%]:hover, .p[_ngcontent-%COMP%]:hover{color:#00f}.addbill[_ngcontent-%COMP%]{float:right}.headleft[_ngcontent-%COMP%]{text-align:left}.ena[_ngcontent-%COMP%]{padding-bottom:10px}@media only screen and (min-width:900px){.footer[_ngcontent-%COMP%]{padding-top:12vh}}.add[_ngcontent-%COMP%]:active{position:relative;top:2px}.zadnji[_ngcontent-%COMP%]{text-align:right}.date[_ngcontent-%COMP%]{width:5vw}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.search[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{margin:0}.container[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 15px 1px #d1d1d1;padding:0}#cards-section[_ngcontent-%COMP%]{padding:4vh;margin-top:2vh}#cards-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}.container[_ngcontent-%COMP%]   #cards-section[_ngcontent-%COMP%]{margin-top:5vh;margin-bottom:5vh}@media only screen and (min-width:900px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:15vh}}@media only screen and (max-width:991px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:10vh}}#welcome-alert-section[_ngcontent-%COMP%]{margin-top:15vh;padding:4vh}#welcome-alert-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}.yellow-panel[_ngcontent-%COMP%]{background:#fb3}#card2[_ngcontent-%COMP%]:hover   #replies2[_ngcontent-%COMP%]{display:none}#comments2[_ngcontent-%COMP%]{opacity:0}#card2[_ngcontent-%COMP%]:hover   #comments2[_ngcontent-%COMP%]{opacity:1}#card2-after[_ngcontent-%COMP%]{text-align:center;font-size:2.5vh}[_ngcontent-%COMP%]:root{color-scheme:light dark}#pfpNavBar[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}.hover-red[_ngcontent-%COMP%]:hover{color:red}.card-counter[_ngcontent-%COMP%]{margin:2.5%;padding:2vh 1vh;color:#fff;height:12vh;border-radius:5px}.card-counter[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8vh;opacity:.3}.card-counter[_ngcontent-%COMP%]   .count-numbers[_ngcontent-%COMP%]{position:absolute;right:15%;top:15%;font-size:5vh}.card-counter[_ngcontent-%COMP%]   .count-name[_ngcontent-%COMP%]{position:absolute;right:15%;top:65%;opacity:.5;font-size:2vh}"]}),e})(),Ke=(()=>{class e{getMonthName(e){var t=new Array;return t[0]="JAN",t[1]="FEB",t[2]="MAR",t[3]="APR",t[4]="MAY",t[5]="JUN",t[6]="JUL",t[7]="AUG",t[8]="SEP",t[9]="OCT",t[10]="NOV",t[11]="DEC",t[e]}transform(e){return this.getMonthName(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Jb({name:"monthNumberPipe",type:e,pure:!0}),e})();const $e=["editBillPayee"],Ze=["editBillAmount"],qe=["editBillDate"],Je=["editBillModal"],Ye=["app-bill-table",""];function Ve(e,t){if(1&e&&(o.Pb(0,"b"),o.Dc(1),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.deleteMessage)}}function Qe(e,t){if(1&e&&(o.Pb(0,"option",39),o.Dc(1),o.Ob()),2&e){const e=t.$implicit;o.jc("id","categoryName",e._id,""),o.xb(1),o.Ec(e.name)}}function We(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.editMessage)}}let Xe=(()=>{class e{constructor(e,t,n,o){this.api=e,this.BillsComponent=t,this.renderer=n,this.connectionService=o,this.hasDeleteMessage=!1,this.deleteMessage="",this.hasEditMessage=!1,this.editMessage="",this.faMinusSquare=m.l,this.faPencilAlt=m.n,this.data={_id:"",year:"",month:0,monthName:"",day:"",category:"",recipient:"",value:0,currency:"",repeat:""},this.Categories={color:"",basic:!0,_id:"",name:""}}hasConnection(){return this.connectionService.hasConnection}ngOnInit(){}nameEditBills(){const e=this.editBillPayee.nativeElement;var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,20}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}amountEditBills(){const e=this.editBillAmount.nativeElement;var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}dateEditBills(){const e=this.editBillDate.nativeElement;var t=new Date,n=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),r=e.value.split("-");return r[0]>a||r[0]==a&&(r[1]>o||r[1]==o&&r[2]>=n)?($(e.id).toast("hide"),e.style.borderColor="#ced4da",1):($(e.id).toast("show"),e.style.setProperty("border-color","red","important"),0)}buttonEditBills(e,t,n,o,a){var r=this.amountEditBills(),i=this.nameEditBills(),s=this.dateEditBills();0==r||0==i||0==s||this.editBill(e,t,n,o,a)}editBill(e,t,n,o,a){this.hasEditMessage=!0,this.editMessage="Saving bill",this.api.editBill(this.data._id,e,t,n,o,a).then(e=>{this.editBillModal.nativeElement.click(),this.BillsComponent.afterEdit(e),this.hasEditMessage=!1}).catch(e=>{this.editMessage="Failed to save"})}buttonDeleteBill(){this.data._id&&this.deleteBill()}deleteBill(){1==confirm("Are you sure you want to delete bill "+this.data.recipient+"?")&&(this.hasDeleteMessage=!0,this.deleteMessage="Deleting bill",this.api.deleteBill(this.data._id).then(e=>{this.BillsComponent.afterDelete(this.data._id),this.hasDeleteMessage=!1}).catch(e=>{this.deleteMessage="Failed to delete!"}))}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(x),o.Kb(ze),o.Kb(o.D),o.Kb(D))},e.\u0275cmp=o.Eb({type:e,selectors:[["tr","app-bill-table",""]],viewQuery:function(e,t){if(1&e&&(o.Hc($e,!0),o.Hc(Ze,!0),o.Hc(qe,!0),o.Hc(Je,!0)),2&e){let e;o.oc(e=o.ac())&&(t.editBillPayee=e.first),o.oc(e=o.ac())&&(t.editBillAmount=e.first),o.oc(e=o.ac())&&(t.editBillDate=e.first),o.oc(e=o.ac())&&(t.editBillModal=e.first)}},inputs:{data:"data",Currency:"Currency",Categories:"Categories"},attrs:Ye,decls:117,vars:43,consts:[[1,"date","align-middle"],[1,"text-muted"],[1,"text-muted","font-weight-bold"],[1,"align-middle"],[1,"cena","align-middle"],[1,"zadnji","align-middle"],["type","button","aria-label","Edit","data-toggle","modal",1,"btn","p",3,"disabled"],[4,"ngIf"],[3,"icon"],["type","submit","aria-label","Delete","data-toggle","modal",1,"btn","edit-btn",3,"disabled","click"],["tabindex","-1","role","dialog","aria-labelledby","modalCenterTitle","aria-hidden","true",1,"modal","fade","billModal",3,"id"],["editBillModal",""],[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],[1,"w-25","toastek"],["role","alert","data-delay","3000","data-autohide","false"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],["aria-hidden","true"],[1,"toast-body"],["role","alert","data-delay","1000","data-autohide","false"],["role","alert","data-delay","1000","data-autohide","false",3,"id"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["name","editBill"],["type","hidden","value","editBill","name","formType"],["type","hidden","name","billId",3,"value"],[1,"modal-body"],[1,"ena"],["for","Category"],["name","inputCategory",1,"form-control",3,"id"],["editBillCategory",""],["selected",""],[3,"id",4,"ngFor","ngForOf"],["for","Payee"],["type","text","name","Payee2","required","required",1,"form-control",3,"id","value","focusout"],["editBillPayee",""],[3,"id"],["for","Amount"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","number","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","name","Amount2","step","any","required","required",1,"form-control",3,"id","value","focusout"],["editBillAmount",""],["for","date"],["type","date","name","inputDate","required","required",1,"form-control",3,"value","id","focusout"],["editBillDate",""],["type","radio","name","radio","value","once","required",""],["editBillRepeat1",""],["for","once"],["type","radio","name","radio","value","monthly"],["editBillRepeat2",""],["for","monthly"],["type","radio","name","radio","value","yearly"],["editBillRepeat3",""],["for","yearly"],[1,"modal-footer"],[1,"btn","btn-primary",3,"id","click"]],template:function(e,t){if(1&e){const e=o.Qb();o.Pb(0,"td",0),o.Pb(1,"div",1),o.Dc(2),o.Ob(),o.Pb(3,"div",2),o.Dc(4),o.cc(5,"monthNumberPipe"),o.Ob(),o.Pb(6,"div",2),o.Dc(7),o.Ob(),o.Ob(),o.Pb(8,"td",3),o.Dc(9),o.Ob(),o.Pb(10,"td",3),o.Dc(11),o.Ob(),o.Pb(12,"td",4),o.Dc(13),o.Ob(),o.Pb(14,"td",5),o.Pb(15,"button",6),o.Bc(16,Ve,2,1,"b",7),o.Lb(17,"fa-icon",8),o.Ob(),o.Pb(18,"button",9),o.Zb("click",function(){return t.buttonDeleteBill()}),o.Lb(19,"fa-icon",8),o.Ob(),o.Ob(),o.Pb(20,"div",10,11),o.Pb(22,"div",12),o.Pb(23,"div",13),o.Pb(24,"div",14),o.Pb(25,"div",15),o.Pb(26,"strong",16),o.Dc(27,"HINT"),o.Ob(),o.Pb(28,"button",17),o.Pb(29,"span",18),o.Dc(30,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(31,"div",19),o.Dc(32," Input may only contain letters, numbers, some special characters (_@./#&+-: ) and whitespaces. Length allowed: 1-20 "),o.Ob(),o.Ob(),o.Pb(33,"div",20),o.Pb(34,"div",15),o.Pb(35,"strong",16),o.Dc(36,"HINT"),o.Ob(),o.Pb(37,"button",17),o.Pb(38,"span",18),o.Dc(39,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(40,"div",19),o.Dc(41," Input may only contain decimal numbers separated by . with max 2 decimal places. "),o.Ob(),o.Ob(),o.Pb(42,"div",21),o.Pb(43,"div",15),o.Pb(44,"strong",16),o.Dc(45,"HINT"),o.Ob(),o.Pb(46,"button",17),o.Pb(47,"span",18),o.Dc(48,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(49,"div",19),o.Dc(50," Input a valid date (today or in the future). "),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(51,"div",22),o.Pb(52,"div",23),o.Pb(53,"div",24),o.Pb(54,"button",25),o.Pb(55,"span",18),o.Dc(56,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(57,"form",26),o.Lb(58,"input",27),o.Lb(59,"input",28),o.Pb(60,"div",29),o.Pb(61,"div",30),o.Pb(62,"label",31),o.Dc(63,"Category"),o.Ob(),o.Lb(64,"br"),o.Pb(65,"select",32,33),o.Pb(67,"option",34),o.Dc(68),o.Ob(),o.Bc(69,Qe,2,2,"option",35),o.Ob(),o.Ob(),o.Pb(70,"div",30),o.Pb(71,"label",36),o.Dc(72,"Payee"),o.Ob(),o.Lb(73,"br"),o.Pb(74,"input",37,38),o.Zb("focusout",function(){return t.nameEditBills()}),o.Ob(),o.Lb(76,"div",39),o.Ob(),o.Pb(77,"div",30),o.Pb(78,"label",40),o.Dc(79,"Amount"),o.Ob(),o.Lb(80,"br"),o.Pb(81,"div",41),o.Pb(82,"div",42),o.Pb(83,"span",43),o.Dc(84),o.Ob(),o.Ob(),o.Pb(85,"input",44,45),o.Zb("focusout",function(){return t.amountEditBills()}),o.Ob(),o.Ob(),o.Lb(87,"div",39),o.Ob(),o.Pb(88,"div",30),o.Pb(89,"label",46),o.Dc(90,"Date due"),o.Ob(),o.Lb(91,"br"),o.Pb(92,"input",47,48),o.Zb("focusout",function(){return t.dateEditBills()}),o.Ob(),o.Ob(),o.Pb(94,"div",30),o.Pb(95,"b"),o.Dc(96,"How often?"),o.Ob(),o.Lb(97,"br"),o.Lb(98,"input",49,50),o.Pb(100,"label",51),o.Dc(101,"Once"),o.Ob(),o.Lb(102,"br"),o.Lb(103,"input",52,53),o.Pb(105,"label",54),o.Dc(106,"Monthly"),o.Ob(),o.Lb(107,"br"),o.Lb(108,"input",55,56),o.Pb(110,"label",57),o.Dc(111,"Yearly"),o.Ob(),o.Lb(112,"br"),o.Ob(),o.Ob(),o.Pb(113,"div",58),o.Bc(114,We,3,1,"p",7),o.Pb(115,"button",59),o.Zb("click",function(){o.rc(e);const n=o.pc(66),a=o.pc(75),r=o.pc(86),i=o.pc(93),s=o.pc(99),c=o.pc(104);return t.buttonEditBills(n.value,a.value,r.value,i.value,s.checked?s.value:c.checked?c.value:"yearly")}),o.Dc(116,"Save Changes"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()}2&e&&(o.xb(2),o.Ec(t.data.year),o.xb(2),o.Ec(o.dc(5,41,t.data.month-1)),o.xb(3),o.Ec(t.data.day),o.xb(2),o.Ec(t.data.category),o.xb(2),o.Ec(t.data.recipient),o.xb(2),o.Gc(" ",t.data.value," ",t.data.currency,"\n"),o.xb(2),o.hc("disabled",!t.hasConnection()),o.yb("data-target","#editForm"+t.data._id),o.xb(1),o.hc("ngIf",t.hasDeleteMessage),o.xb(1),o.hc("icon",t.faPencilAlt),o.xb(1),o.hc("disabled",!t.hasConnection()),o.xb(1),o.hc("icon",t.faMinusSquare),o.xb(1),o.jc("id","editForm",t.data._id,""),o.xb(4),o.Ab("toast ml-auto billEditNameToast",t.data._id,""),o.xb(9),o.Ab("toast ml-auto billEditAmountToast",t.data._id,""),o.xb(9),o.Ab("toast ml-auto billEditDateToast",t.data._id,""),o.jc("id","date-hintEdit",t.data._id,""),o.xb(17),o.ic("value",t.data._id),o.xb(6),o.jc("id","inputCategory",t.data._id,""),o.xb(3),o.Ec(t.data.category),o.xb(1),o.hc("ngForOf",t.Categories),o.xb(5),o.jc("id",".billEditNameToast",t.data._id,""),o.ic("value",t.data.recipient),o.xb(2),o.jc("id","alarm",t.data._id,""),o.xb(8),o.Ec(t.Currency),o.xb(1),o.jc("id",".billEditAmountToast",t.data._id,""),o.ic("value",t.data.value),o.xb(2),o.jc("id","amm",t.data._id,""),o.xb(5),o.kc("value","",t.data.year,"-",t.data.month,"-",t.data.day,""),o.jc("id",".billEditDateToast",t.data._id,""),o.xb(22),o.hc("ngIf",t.hasEditMessage),o.xb(1),o.jc("id","buttonEditBill",t.data._id,""))},directives:[p.k,c.a,i.m,i.f,i.g,i.i,i.l,p.j],pipes:[Ke],styles:["main[_ngcontent-%COMP%]{background:#ededed}.date[_ngcontent-%COMP%]{text-align:center}td[_ngcontent-%COMP%]{text-align:left}.cena[_ngcontent-%COMP%]{text-align:center;font-family:Open Sans Bold}.bi-plus-square-fill[_ngcontent-%COMP%]:hover, .p[_ngcontent-%COMP%]:hover{color:#00f}.addbill[_ngcontent-%COMP%]{float:right}.headleft[_ngcontent-%COMP%]{text-align:left}.ena[_ngcontent-%COMP%]{padding-bottom:10px}@media only screen and (min-width:900px){.footer[_ngcontent-%COMP%]{padding-top:12vh}}.add[_ngcontent-%COMP%]:active{position:relative;top:2px}.zadnji[_ngcontent-%COMP%]{text-align:right}.date[_ngcontent-%COMP%]{width:5vw}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.search[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{margin:0}.container[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 15px 1px #d1d1d1;padding:0}#cards-section[_ngcontent-%COMP%]{padding:4vh;margin-top:2vh}#cards-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}.container[_ngcontent-%COMP%]   #cards-section[_ngcontent-%COMP%]{margin-top:5vh;margin-bottom:5vh}@media only screen and (min-width:900px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:15vh}}@media only screen and (max-width:991px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:10vh}}#welcome-alert-section[_ngcontent-%COMP%]{margin-top:15vh;padding:4vh}#welcome-alert-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}.yellow-panel[_ngcontent-%COMP%]{background:#fb3}#card2[_ngcontent-%COMP%]:hover   #replies2[_ngcontent-%COMP%]{display:none}#comments2[_ngcontent-%COMP%]{opacity:0}#card2[_ngcontent-%COMP%]:hover   #comments2[_ngcontent-%COMP%]{opacity:1}#card2-after[_ngcontent-%COMP%]{text-align:center;font-size:2.5vh}[_ngcontent-%COMP%]:root{color-scheme:light dark}#pfpNavBar[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}.hover-red[_ngcontent-%COMP%]:hover{color:red}.card-counter[_ngcontent-%COMP%]{margin:2.5%;padding:2vh 1vh;color:#fff;height:12vh;border-radius:5px}.card-counter[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8vh;opacity:.3}.card-counter[_ngcontent-%COMP%]   .count-numbers[_ngcontent-%COMP%]{position:absolute;right:15%;top:15%;font-size:5vh}.card-counter[_ngcontent-%COMP%]   .count-name[_ngcontent-%COMP%]{position:absolute;right:15%;top:65%;opacity:.5;font-size:2vh}.table-row-style[_ngcontent-%COMP%]{width:100vw}"]}),e})();const et=["modalone"],tt=["modaltwo"];function nt(e,t){if(1&e&&(o.Pb(0,"b"),o.Dc(1),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.changeUserMessage)}}function ot(e,t){if(1&e&&(o.Pb(0,"div",39),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.changeLanguageMessage)}}function at(e,t){if(1&e){const e=o.Qb();o.Pb(0,"a",42),o.Zb("click",function(){o.rc(e);const n=t.$implicit;return o.bc().changeCurrency(n.key)}),o.Dc(1),o.Ob()}if(2&e){const e=t.$implicit;o.xb(1),o.Gc("",e.name," (",e.key,")")}}function rt(e,t){if(1&e&&(o.Pb(0,"div",39),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.changeCurrencyMessage)}}function it(e,t){if(1&e){const e=o.Qb();o.Pb(0,"div"),o.Pb(1,"form",82),o.Pb(2,"div",83),o.Pb(3,"label",84),o.Dc(4),o.Ob(),o.Ob(),o.Pb(5,"div",85),o.Lb(6,"input",86),o.Ob(),o.Pb(7,"div",87),o.Pb(8,"button",88),o.Zb("click",function(){o.rc(e);const n=t.$implicit;return o.bc().changeColor(n._id)}),o.Lb(9,"fa-icon",27),o.Ob(),o.Pb(10,"button",89),o.Zb("click",function(){o.rc(e);const n=t.$implicit;return o.bc().removeCategory(n._id)}),o.Lb(11,"fa-icon",27),o.Ob(),o.Lb(12,"input",90),o.Lb(13,"input",91),o.Ob(),o.Ob(),o.Ob()}if(2&e){const e=t.$implicit,n=o.bc();o.xb(1),o.jc("name","editColor",e._id,""),o.jc("id","editColor",e._id,""),o.xb(2),o.jc("for","color-picker",e._id,""),o.xb(1),o.Ec(e.name),o.xb(2),o.jc("id","color",e._id,""),o.jc("name","colorPicker",e._id,""),o.ic("value",e.color),o.hc("disabled",!n.hasConnection()),o.xb(2),o.hc("disabled",!n.hasConnection()),o.xb(1),o.hc("icon",n.faPencilAlt),o.xb(1),o.hc("disabled",!n.hasConnection()),o.xb(1),o.hc("icon",n.faTrashAlt),o.xb(1),o.ic("value",e._id)}}function st(e,t){if(1&e&&(o.Pb(0,"b"),o.Dc(1),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.changePasswordMessage)}}function ct(e,t){if(1&e&&(o.Pb(0,"b"),o.Dc(1),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.changePfpMessage)}}let lt=(()=>{class e{constructor(e,t,n,o,a,r,i){this.api=e,this.router=t,this.authentication=n,this.renderer=o,this.elementRef=a,this.connectionService=r,this.document=i,this.modalOpen=!1,this.hasUrl=!1,this.faTrashAlt=m.s,this.faCamera=m.e,this.faPencilAlt=m.n,this.hasChangeLanguageMessage=!1,this.changeLanguageMessage="",this.hasChangeCurrencyMessage=!1,this.changeCurrencyMessage="",this.hasChangeUserMessage=!1,this.changeUserMessage="",this.hasChangeColorMessage=!1,this.changeColorMessage="",this.haschangePasswordMessage=!1,this.changePasswordMessage="",this.haschangePfpMessage=!1,this.changePfpMessage="",this.data={HINT:getTranslation("HINT"),nameHint:getTranslation("nameHint"),surnameHint:getTranslation("surnameHint"),title:getTranslation("account_title"),firstName:getTranslation("firstName"),data_firstName:"data_firstName",lastName:getTranslation("lastName"),data_lastName:"data_lastName",password:getTranslation("password"),changePassword:getTranslation("changePassword"),email:getTranslation("email"),data_email:"data_email",changeImage:getTranslation("changeImage"),saveChanges:getTranslation("saveChanges"),application:getTranslation("application"),darkMode:getTranslation("darkMode"),language:getTranslation("language"),selLanguage:"selLanguage",currency:getTranslation("currency"),data_defCurrency:"data_defCurrency",data_currency:[{key:"EUR",name:"EURO"},{key:"USD",name:"US Dollar"},{key:"INR",name:"Indian Rupee"},{key:"AUD",name:"Australian Dollar"},{key:"CAD",name:"Canadian Dollar"},{key:"SGD",name:"Singapore Dollar"},{key:"RUB",name:"Russian Ruble"},{key:"BGN",name:"Bulgarian Lev"},{key:"BRL",name:"Brazilian Real"},{key:"CHF",name:"Swis Franc"},{key:"CNY",name:"Chinese Yuan Renmibi"},{key:"CZK",name:"Czech Koruna"},{key:"DKK",name:"Danish Krone"},{key:"HKD",name:"Hong Kong Dollar"},{key:"HRK",name:"Croatian Kuna"},{key:"HUF",name:"Hungarian Forint"},{key:"IDR",name:"Indonesian Rupiah"},{key:"ILS",name:"Israeli Shekel"},{key:"ISK",name:"Icelandic Krona"},{key:"JPY",name:"Japanese Yen"},{key:"KRW",name:"South Korean Won"},{key:"MXN",name:"Mexican Peso"},{key:"MYR",name:"Malaysian Ringgit"},{key:"NOK",name:"Norwegian Krone"},{key:"NZD",name:"New Zeland Dollar"},{key:"PHP",name:"Philipine Peso"},{key:"PLN",name:"Polish Zloty"},{key:"RON",name:"Romanian Leu"},{key:"SEK",name:"Swedish Krona"},{key:"THB",name:"Thai Baht"},{key:"TRY",name:"Turkish Lira"},{key:"ZAR",name:"South African Rand"}],categories:getTranslation("categories"),data_categories:[{id:"id",name:"name",hexColor:"#fcba03"}],passwordHint:getTranslation("passwordHint"),passwordNoMatch:getTranslation("passwordNoMatch"),oldPassword:getTranslation("oldPassword"),newPassword:getTranslation("newPassword"),confirmPassword:getTranslation("confirmPassword"),close:getTranslation("close"),changeProfilePicture:getTranslation("changeImage"),dragAndDropOr:getTranslation("dragAndDropOr")},this.fileToUpload=null}ngOnInit(){this.darkEnabled="false"!==localStorage.getItem("dark"),this.api.getUser().then(e=>{this.uID=e._id,this.firstName=e.firstname,this.lastName=e.lastname,this.email=e.email,this.defaultCurrency=e.defaultCurrency,this.defaultLanguage=e.language,this.categories=this.fixRGBValues(e.categories),this.refreshLanguage(e.language),this.pfpImg=this.getImage()}).catch(e=>{this.authentication.logout(),this.router.navigate(["/"])})}hasConnection(){return this.connectionService.hasConnection}fixRGBValues(e){for(var t=0;t<e.length;t++)e[t].color=rgbToHex(e[t].color);return e}refreshLanguage(e){setLanguage(e),this.data.HINT=getTranslation("HINT"),this.data.nameHint=getTranslation("nameHint"),this.data.surnameHint=getTranslation("surnameHint"),this.data.title=getTranslation("account_title"),this.data.firstName=getTranslation("firstName"),this.data.lastName=getTranslation("lastName"),this.data.password=getTranslation("password"),this.data.changePassword=getTranslation("changePassword"),this.data.email=getTranslation("email"),this.data.changeImage=getTranslation("changeImage"),this.data.saveChanges=getTranslation("saveChanges"),this.data.application=getTranslation("application"),this.data.darkMode=getTranslation("darkMode"),this.data.language=getTranslation("language"),this.data.currency=getTranslation("currency"),this.data.categories=getTranslation("categories"),this.data.passwordHint=getTranslation("passwordHint"),this.data.passwordNoMatch=getTranslation("passwordNoMatch"),this.data.oldPassword=getTranslation("oldPassword"),this.data.newPassword=getTranslation("newPassword"),this.data.confirmPassword=getTranslation("confirmPassword"),this.data.close=getTranslation("close"),this.data.changeProfilePicture=getTranslation("changeImage"),this.data.dragAndDropOr=getTranslation("dragAndDropOr")}changeLanguage(e){setInnerTextById("languageChange",e),this.hasChangeLanguageMessage=!0,this.changeLanguageMessage="Saving language",this.api.setLanguage(e).then(e=>{this.refreshLanguage(e.language),this.hasChangeLanguageMessage=!1}).catch(e=>{this.changeLanguageMessage="Failed to save!"})}getImage(){this.api.getPfp().then(e=>{let t=new FileReader;t.addEventListener("load",()=>{this.imageToShow=t.result},!1),e&&"application/pdf"!==e.type&&t.readAsDataURL(e)}).catch(e=>{})}changeColor(e){this.hasChangeColorMessage=!0,this.changeColorMessage="Saving color",this.api.changeColor(e,getValueById("color"+e)).then(e=>{this.hasChangeColorMessage=!1}).catch(e=>{this.changeColorMessage="Failed to save!"})}changeCurrency(e){setInnerTextById("currencyChange",e),this.hasChangeCurrencyMessage=!0,this.changeCurrencyMessage="Saving currency",this.api.setDefaultCurrency(e).then(e=>{this.hasChangeCurrencyMessage=!1}).catch(e=>{this.changeCurrencyMessage="Failed to save!"})}updateUserInfo(){this.hasChangeUserMessage=!0,this.changeUserMessage="Saving user",this.api.updateUser(getValueById("emailInput"),getValueById("nameInput"),getValueById("lastnameInput")).then(e=>{try{var t=this.document.querySelectorAll(".modal-backdrop");for(let e=0;e<t.length;e++)t[e].removeAttribute("class")}catch(n){}try{t=this.document.querySelectorAll(".modal-open");for(let e=0;e<t.length;e++)document.removeChild(t[e])}catch(o){}this.hasChangeUserMessage=!1}).catch(e=>{this.changeUserMessage="Failed to save!"})}readURL(e){this.fileToUpload=e.item(0),this.hasUrl=!!this.fileToUpload}uploadFileToActivity(){this.haschangePfpMessage=!0,this.changePfpMessage="Saving image",this.api.postFile(this.fileToUpload).then(e=>{this.pfpImg=this.getImage(),this.haschangePfpMessage=!1,this.modal2.hide()}).catch(e=>{console.log(e),this.changePfpMessage="Failed to upload!"})}disableButton(){var e=this.nameRegex(),t=this.surnameRegex();return 0!=e&&0!=t&&(this.updateUserInfo(),!0)}nameRegex(){var e=document.getElementById("nameInput"),t=new RegExp("^([a-zA-Z])+$");return getValueById("nameInput").match(t)?(e.style.borderColor="#ced4da",$(".tt1").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt1").toast("show"),0)}surnameRegex(){var e=document.getElementById("lastnameInput"),t=new RegExp("^([a-zA-Z])+$");return getValueById("lastnameInput").match(t)?(e.style.borderColor="#ced4da",$(".tt3").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt2").toast("show"),0)}passwordStrength(e){var t=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),n=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"),o=this.elementRef.nativeElement.querySelector("#"+e);return o.value.match(t)?(o.style.setProperty("border-color","green","important"),$(".tt3").toast("hide"),1):o.value.match(n)?(o.style.setProperty("border-color","orange","important"),$(".tt3").toast("hide"),1):(o.style.setProperty("border-color","red","important"),$(".tt3").toast("show"),0)}passwordCheckSignUp(){var e=this.elementRef.nativeElement.querySelector("#newPassword"),t=this.elementRef.nativeElement.querySelector("#confirmPassword");return getValueById("newPassword")!=getValueById("confirmPassword")?(e.style.setProperty("border-color","red","important"),t.style.setProperty("border-color","red","important"),$(".tt4").toast("show"),0):(e.style.borderColor="#ced4da",t.style.borderColor="#ced4da",$(".tt4").toast("hide"),1)}removeCategory(e){confirm("Deleting category will remove all related envelopes and goals!")&&(this.hasChangeColorMessage=!0,this.changeColorMessage="Removing category",this.api.deleteCategory(e).then(t=>{this.elementRef.nativeElement.querySelector("#editColor"+e).parentNode.remove(),this.hasChangeColorMessage=!1}).catch(e=>{this.changeColorMessage="Failed to remove!"}))}removeUser(){confirm("Do you want to remove your account?")&&this.api.deleteUser().then(e=>{this.router.navigate(["/"])}).catch(e=>{this.changeColorMessage="Failed to remove!"})}passwordSubmit(){this.passwordStrength("newPassword")&&this.passwordCheckSignUp()&&(this.haschangePasswordMessage=!0,this.changePasswordMessage="Saving password!",this.api.updatePassword(getValueById("oldPassword"),getValueById("newPassword"),getValueById("confirmPassword")).then(e=>{try{this.haschangePasswordMessage=!1,this.modal.hide()}catch(t){}}).catch(e=>{this.changePasswordMessage="Failed to save!"}))}darkModeButton(){toggleDarkMode()}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(x),o.Kb(b.b),o.Kb(y),o.Kb(o.D),o.Kb(o.l),o.Kb(D),o.Kb(p.c))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-account"]],viewQuery:function(e,t){if(1&e&&(o.Hc(et,!0),o.Hc(tt,!0)),2&e){let e;o.oc(e=o.ac())&&(t.modal=e.first),o.oc(e=o.ac())&&(t.modal2=e.first)}},decls:170,vars:61,consts:[[3,"component"],[1,"position-absolute","w-100","Zind"],[1,"w-25","toast-front"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt1"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],["aria-hidden","true"],[1,"toast-body"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt2"],["id","accountBody-container",1,"container"],["id","accountBody",1,"col-sm-12","col-md-12","col-lg-12","col-xl-12"],["name","userInfo"],[1,"row"],[1,"del-margin","col-sm-12","col-md-9","col-lg-9","col-xl-9"],["type","hidden","name","formType","value","changeName"],["id","nameInputLbl","for","nameInput",1,"col-sm-3","col-md-3","col-lg-2","col-xl-2"],["type","text","id","nameInput","name","firstName","required","required",1,"form-control","col-sm-3","col-md-3","col-lg-3","col-xl-3",3,"disabled","placeholder","value","focusout"],["id","lastnameInputLbl","for","lastnameInput",1,"col-sm-3","col-md-3","col-lg-4","col-xl-4"],["type","text","id","lastnameInput","name","lastName","required","required",1,"form-control","col-sm-3","col-md-3","col-lg-3","col-xl-3",3,"disabled","placeholder","value","focusout"],["id","passwordChangeLbl","for","passwordChange",1,"col-sm-3","col-md-3","col-lg-2","col-xl-2"],["id","passwordChange","type","button",1,"btn","btn-primary",3,"disabled","click"],["id","emailInputLbl","for","emailInput",1,"col-sm-3","col-md-3","col-lg-2","col-xl-2"],["type","email","id","emailInput","name","email","disabled","",1,"form-control","col-sm-9","col-md-9","col-lg-10","col-xl-10",3,"value"],["id","pfpImg","alt","Profile pic settings",1,"del-margin","col-sm-12","col-md-3","col-lg-3","col-xl-3"],["aria-label","Change Profile Picture",3,"disabled","click"],["id","profile-pic",1,"profile-pic"],[3,"icon"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12"],[4,"ngIf"],["type","button","id","userInfoButton",1,"btn","btn-primary",2,"float","right",3,"disabled","click"],["type","button","id","userRemoveButton",1,"btn","btn-danger",2,"float","right",3,"disabled","click"],["id","appSettings-container",1,"container"],["id","appSettings",1,"col-sm-12","col-md-12","col-lg-12","col-xl-12"],["id","darkmodeEnableLbl","for","darkmodeEnable",1,"col-5","col-sm-4","col-md-4","col-lg-4","col-xl-4",2,"padding-right","0px"],[1,"custom-control","custom-switch"],["type","checkbox","id","darkmodeEnable",1,"custom-control-input",3,"checked","change"],["for","darkmodeEnable",1,"custom-control-label"],["id","languageChangeLbl","for","languageChange",1,"col-5","col-sm-4","col-md-4","col-lg-4","col-xl-4"],[1,"dropdown","col-sm-4","col-md-4","col-lg-4","col-xl-4"],["type","button","id","languageChange","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","col-sm-12","col-md-12","col-lg-12","col-xl-12",3,"disabled"],["aria-labelledby","languageChange",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["class","dropdown col-sm-4 col-md-4 col-lg-4 col-xl-4",4,"ngIf"],["id","currencyChangeLbl","for","currencyChange",1,"col-5","col-sm-4","col-md-4","col-lg-4","col-xl-4"],["type","button","id","currencyChange","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","col-sm-12","col-md-12","col-lg-12","col-xl-12",3,"disabled"],["aria-labelledby","currencyChange",1,"dropdown-menu","dropdown-menu-right","scrollable-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],["id","categoriesColor-container",1,"container"],["id","categories-setting",1,"col-sm-12","col-md-12","col-lg-12","col-xl-12"],[4,"ngFor","ngForOf"],["bsModal","","id","changePassowrd","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["modalone","bs-modal"],[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt3"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt4"],["role","document",1,"modal-dialog"],["method","POST","action","/account"],["type","hidden","name","formType","value","changePassword"],["type","hidden","name","oldPassword","id","oldPasswordHash","value",""],["type","hidden","name","newPassword1","id","newPasswordHash1","value",""],["type","hidden","name","newPassword2","id","newPasswordHash2","value",""],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],["id","oldPasswordLbl","for","oldPassword",1,"col-sm-4","col-md-4","col-lg-4","col-xl-4"],["type","password","id","oldPassword",1,"form-control","col-sm-7","col-md-7","col-lg-7","col-xl-7",3,"placeholder"],["id","newPasswordLbl","for","newPassword",1,"col-sm-4","col-md-4","col-lg-4","col-xl-4"],["type","password","id","newPassword",1,"form-control","col-sm-7","col-md-7","col-lg-7","col-xl-7",3,"placeholder","focusout"],["id","confirmPasswordLbl","for","confirmPassword",1,"col-sm-4","col-md-4","col-lg-4","col-xl-4"],["type","password","id","confirmPassword",1,"form-control","col-sm-7","col-md-7","col-lg-7","col-xl-7",3,"placeholder","focusout"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["bsModal","","id","changePfp","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["modaltwo","bs-modal"],["name","userPfp","id","userPfp","method","post","action","/api/uploadPfp"],[1,"form-group"],["type","file","name","image","id","addPfp","accept","image/*",1,"form-control-file",3,"change"],["type","button","id","submitPfp",1,"btn","btn-primary",3,"disabled","click"],["method","post","action","/account",3,"name","id"],[1,"category-row","col-5","col-sm-6","col-md-5","col-lg-4","col-xl-4"],[2,"text-align","left",3,"for"],[1,"category-row","col-3","col-sm-5","col-md-5","col-lg-3","col-xl-3",2,"text-align","center"],["type","color",1,"color-picker",3,"disabled","id","name","value"],[1,"category-row","col-3","col-sm-12","col-md-1","col-lg-4","col-xl-4",2,"text-align","right"],["type","submit","aria-label","Edit",1,"btn","btn-primary",3,"disabled","click"],["type","submit","aria-label","Delete",1,"btn","btn-danger",3,"disabled","click"],["type","hidden","name","id",3,"value"],["type","hidden","name","formType","value","changeColorCategory"]],template:function(e,t){1&e&&(o.Pb(0,"main"),o.Lb(1,"app-header",0),o.Pb(2,"div",1),o.Pb(3,"div",2),o.Pb(4,"div",3),o.Pb(5,"div",4),o.Pb(6,"strong",5),o.Dc(7),o.Ob(),o.Pb(8,"button",6),o.Pb(9,"span",7),o.Dc(10,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(11,"div",8),o.Dc(12),o.Ob(),o.Ob(),o.Pb(13,"div",9),o.Pb(14,"div",4),o.Pb(15,"strong",5),o.Dc(16),o.Ob(),o.Pb(17,"button",6),o.Pb(18,"span",7),o.Dc(19,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(20,"div",8),o.Dc(21),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(22,"div",10),o.Pb(23,"div",11),o.Pb(24,"h2"),o.Dc(25),o.Ob(),o.Pb(26,"form",12),o.Pb(27,"div",13),o.Pb(28,"div",14),o.Pb(29,"div",13),o.Lb(30,"input",15),o.Pb(31,"label",16),o.Dc(32),o.Ob(),o.Pb(33,"input",17),o.Zb("focusout",function(){return t.nameRegex()}),o.Ob(),o.Pb(34,"label",18),o.Dc(35),o.Ob(),o.Pb(36,"input",19),o.Zb("focusout",function(){return t.surnameRegex()}),o.Ob(),o.Ob(),o.Pb(37,"div",13),o.Pb(38,"label",20),o.Dc(39),o.Ob(),o.Pb(40,"button",21),o.Zb("click",function(){return t.modal.show()}),o.Dc(41),o.Ob(),o.Ob(),o.Pb(42,"div",13),o.Pb(43,"label",22),o.Dc(44),o.Ob(),o.Lb(45,"input",23),o.Ob(),o.Ob(),o.Pb(46,"div",24),o.Pb(47,"button",25),o.Zb("click",function(){return t.modal2.show()}),o.Pb(48,"div",26),o.Lb(49,"fa-icon",27),o.Pb(50,"span"),o.Dc(51),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(52,"div",13),o.Pb(53,"div",28),o.Bc(54,nt,2,1,"b",29),o.Pb(55,"button",30),o.Zb("click",function(){return t.disableButton()}),o.Dc(56),o.Ob(),o.Pb(57,"button",31),o.Zb("click",function(){return t.removeUser()}),o.Dc(58,"Delete account"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(59,"div",32),o.Pb(60,"div",33),o.Pb(61,"h2"),o.Dc(62),o.Ob(),o.Pb(63,"div",13),o.Pb(64,"label",34),o.Dc(65),o.Ob(),o.Pb(66,"div",35),o.Pb(67,"input",36),o.Zb("change",function(){return t.darkModeButton()}),o.Ob(),o.Lb(68,"label",37),o.Ob(),o.Ob(),o.Pb(69,"div",13),o.Pb(70,"label",38),o.Dc(71),o.Ob(),o.Pb(72,"div",39),o.Pb(73,"button",40),o.Dc(74),o.Ob(),o.Pb(75,"div",41),o.Pb(76,"a",42),o.Zb("click",function(){return t.changeLanguage("English")}),o.Dc(77,"English"),o.Ob(),o.Pb(78,"a",42),o.Zb("click",function(){return t.changeLanguage("Slovenski")}),o.Dc(79,"Slovenski"),o.Ob(),o.Ob(),o.Ob(),o.Bc(80,ot,3,1,"div",43),o.Ob(),o.Pb(81,"div",13),o.Pb(82,"label",44),o.Dc(83),o.Ob(),o.Pb(84,"div",39),o.Pb(85,"button",45),o.Dc(86),o.Ob(),o.Pb(87,"div",46),o.Bc(88,at,2,2,"a",47),o.Ob(),o.Ob(),o.Bc(89,rt,3,1,"div",43),o.Ob(),o.Ob(),o.Ob(),o.Pb(90,"div",48),o.Pb(91,"div",49),o.Pb(92,"h2"),o.Dc(93),o.Ob(),o.Bc(94,it,14,13,"div",50),o.Ob(),o.Ob(),o.Pb(95,"div",51,52),o.Pb(97,"div",53),o.Pb(98,"div",2),o.Pb(99,"div",54),o.Pb(100,"div",4),o.Pb(101,"strong",5),o.Dc(102),o.Ob(),o.Pb(103,"button",6),o.Pb(104,"span",7),o.Dc(105,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(106,"div",8),o.Dc(107),o.Ob(),o.Ob(),o.Pb(108,"div",55),o.Pb(109,"div",4),o.Pb(110,"strong",5),o.Dc(111),o.Ob(),o.Pb(112,"button",6),o.Pb(113,"span",7),o.Dc(114,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(115,"div",8),o.Dc(116),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(117,"div",56),o.Pb(118,"form",57),o.Lb(119,"input",58),o.Lb(120,"input",59),o.Lb(121,"input",60),o.Lb(122,"input",61),o.Pb(123,"div",62),o.Pb(124,"div",63),o.Pb(125,"h5",64),o.Dc(126),o.Ob(),o.Pb(127,"button",65),o.Zb("click",function(){return t.modal.hide()}),o.Pb(128,"span",7),o.Dc(129,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(130,"div",66),o.Pb(131,"div",13),o.Pb(132,"label",67),o.Dc(133),o.Ob(),o.Lb(134,"input",68),o.Ob(),o.Pb(135,"div",13),o.Pb(136,"label",69),o.Dc(137),o.Ob(),o.Pb(138,"input",70),o.Zb("focusout",function(){return t.passwordStrength("newPassword")}),o.Ob(),o.Ob(),o.Pb(139,"div",13),o.Pb(140,"label",71),o.Dc(141),o.Ob(),o.Pb(142,"input",72),o.Zb("focusout",function(){return t.passwordCheckSignUp()}),o.Ob(),o.Ob(),o.Ob(),o.Pb(143,"div",73),o.Bc(144,st,2,1,"b",29),o.Pb(145,"button",74),o.Zb("click",function(){return t.passwordSubmit()}),o.Dc(146),o.Ob(),o.Pb(147,"button",75),o.Zb("click",function(){return t.modal.hide()}),o.Dc(148),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(149,"div",76,77),o.Pb(151,"div",56),o.Pb(152,"div",62),o.Pb(153,"div",63),o.Pb(154,"h5",64),o.Dc(155),o.Ob(),o.Pb(156,"button",65),o.Zb("click",function(){return t.modal2.hide()}),o.Pb(157,"span",7),o.Dc(158,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(159,"div",66),o.Pb(160,"form",78),o.Pb(161,"div",79),o.Pb(162,"input",80),o.Zb("change",function(e){return t.readURL(e.target.files)}),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(163,"div",73),o.Bc(164,ct,2,1,"b",29),o.Pb(165,"button",81),o.Zb("click",function(){return t.uploadFileToActivity()}),o.Dc(166),o.Ob(),o.Pb(167,"button",75),o.Zb("click",function(){return t.modal2.hide()}),o.Dc(168),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Lb(169,"app-footer"),o.Ob()),2&e&&(o.xb(1),o.hc("component","account"),o.xb(6),o.Ec(t.data.HINT),o.xb(5),o.Fc(" ",t.data.nameHint," "),o.xb(4),o.Ec(t.data.HINT),o.xb(5),o.Fc(" ",t.data.surnameHint," "),o.xb(4),o.Ec(t.data.title),o.xb(7),o.Fc("",t.data.firstName,":"),o.xb(1),o.ic("placeholder",t.data.firstName),o.ic("value",t.firstName),o.hc("disabled",!t.hasConnection()),o.xb(2),o.Fc("",t.data.lastName,":"),o.xb(1),o.ic("placeholder",t.data.lastName),o.ic("value",t.lastName),o.hc("disabled",!t.hasConnection()),o.xb(3),o.Fc("",t.data.password,":"),o.xb(1),o.hc("disabled",!t.hasConnection()),o.xb(1),o.Ec(t.data.changePassword),o.xb(3),o.Fc("",t.data.email,":"),o.xb(1),o.ic("value",t.email),o.xb(2),o.hc("disabled",!t.hasConnection()),o.xb(1),o.Ac("background-image","url("+t.imageToShow+")"),o.xb(1),o.hc("icon",t.faCamera),o.xb(2),o.Ec(t.data.changeImage),o.xb(3),o.hc("ngIf",t.hasChangeUserMessage),o.xb(1),o.hc("disabled",!t.hasConnection()),o.xb(1),o.Ec(t.data.saveChanges),o.xb(1),o.hc("disabled",!t.hasConnection()),o.xb(5),o.Ec(t.data.application),o.xb(3),o.Fc("",t.data.darkMode,":"),o.xb(2),o.hc("checked",t.darkEnabled),o.xb(4),o.Fc("",t.data.language,":"),o.xb(2),o.hc("disabled",!t.hasConnection()),o.xb(1),o.Fc(" ",t.defaultLanguage," "),o.xb(6),o.hc("ngIf",t.hasChangeLanguageMessage),o.xb(3),o.Fc("",t.data.currency,":"),o.xb(2),o.hc("disabled",!t.hasConnection()),o.xb(1),o.Fc(" ",t.defaultCurrency," "),o.xb(2),o.hc("ngForOf",t.data.data_currency),o.xb(1),o.hc("ngIf",t.hasChangeCurrencyMessage),o.xb(4),o.Ec(t.data.categories),o.xb(1),o.hc("ngForOf",t.categories),o.xb(8),o.Ec(t.data.HINT),o.xb(5),o.Fc(" ",t.data.passwordHint," "),o.xb(4),o.Ec(t.data.HINT),o.xb(5),o.Fc(" ",t.data.passwordNoMatch," "),o.xb(10),o.Ec(t.data.changePassword),o.xb(7),o.Fc("",t.data.oldPassword,":"),o.xb(1),o.ic("placeholder",t.data.oldPassword),o.xb(3),o.Fc("",t.data.newPassword,":"),o.xb(1),o.ic("placeholder",t.data.newPassword),o.xb(3),o.Fc("",t.data.confirmPassword,":"),o.xb(1),o.ic("placeholder",t.data.confirmPassword),o.xb(2),o.hc("ngIf",t.haschangePasswordMessage),o.xb(2),o.Ec(t.data.saveChanges),o.xb(2),o.Ec(t.data.close),o.xb(7),o.Ec(t.data.changeProfilePicture),o.xb(9),o.hc("ngIf",t.haschangePfpMessage),o.xb(1),o.hc("disabled",!t.hasUrl),o.xb(1),o.Ec(t.data.saveChanges),o.xb(2),o.Ec(t.data.close))},directives:[U,i.m,i.f,i.g,c.a,p.k,p.j,l.b,z],styles:['main[_ngcontent-%COMP%]{background:#ededed}h5[_ngcontent-%COMP%]{font-weight:700;height:23px}.row[_ngcontent-%COMP%]{padding:5px}.container[_ngcontent-%COMP%]{background:#fff}@media only screen and (min-width:900px){.footer[_ngcontent-%COMP%]{padding-top:12vh}}.container[_ngcontent-%COMP%]{box-shadow:0 1px 15px 1px #d1d1d1;padding:0}.dropdown[_ngcontent-%COMP%]{padding-left:0}#appSettings-container[_ngcontent-%COMP%]{overflow:visible!important}#cards-section[_ngcontent-%COMP%], #connectionsBody-container[_ngcontent-%COMP%]{padding:4vh;margin-top:2vh}#accountBody-container[_ngcontent-%COMP%]{padding:4vh}@media only screen and (min-width:900px){#accountBody-container[_ngcontent-%COMP%]{margin-top:15vh}}@media only screen and (max-width:991px){#accountBody-container[_ngcontent-%COMP%]{margin-top:10vh}}@media only screen and (max-height:768px) and (min-width:560px){#accountBody-container[_ngcontent-%COMP%]{margin-top:20vh}}#appSettings-container[_ngcontent-%COMP%]{margin-top:2vh;padding:4vh}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:200px;overflow-x:hidden}.sub1[_ngcontent-%COMP%]{padding-left:2vh}.transportation[_ngcontent-%COMP%]{background-color:#0096ff!important;border-color:#0096ff!important}.transportation[_ngcontent-%COMP%]:active, .transportation[_ngcontent-%COMP%]:focus, .transportation[_ngcontent-%COMP%]:hover, .transportation[_ngcontent-%COMP%]:visited{background-color:#9ebde3!important;border-color:#0096ff!important}.transportation[_ngcontent-%COMP%]:hover{cursor:pointer}.groceries[_ngcontent-%COMP%]{background-color:green!important;border-color:green!important}.groceries[_ngcontent-%COMP%]:hover{cursor:pointer}.groceries[_ngcontent-%COMP%]:active, .groceries[_ngcontent-%COMP%]:focus, .groceries[_ngcontent-%COMP%]:hover, .groceries[_ngcontent-%COMP%]:visited{background-color:#90ee90!important;border-color:green!important}.house-utilities[_ngcontent-%COMP%]{background-color:purple;border-color:purple!important}.house-utilities[_ngcontent-%COMP%]:hover{cursor:pointer}.house-utilities[_ngcontent-%COMP%]:active, .house-utilities[_ngcontent-%COMP%]:focus, .house-utilities[_ngcontent-%COMP%]:hover, .house-utilities[_ngcontent-%COMP%]:visited{background-color:plum!important;border-color:purple!important}.entertainment[_ngcontent-%COMP%]{background-color:red;border-color:red!important}.entertainment[_ngcontent-%COMP%]:hover{cursor:pointer}.entertainment[_ngcontent-%COMP%]:active, .entertainment[_ngcontent-%COMP%]:focus, .entertainment[_ngcontent-%COMP%]:hover, .entertainment[_ngcontent-%COMP%]:visited{background-color:#f08080!important;border-color:red!important}.label-info[_ngcontent-%COMP%]{padding:2px;vertical-align:middle;margin-bottom:2px;display:inline-block}.dropright[_ngcontent-%COMP%]{padding-left:0}.bootstrap-tagsinput[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);display:inline-block;padding:4px 6px;color:#555;vertical-align:middle;border-radius:4px;max-width:100%;line-height:22px;cursor:text}.bootstrap-tagsinput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:none;background-color:initial;padding:0 6px;margin:0;width:auto;max-width:inherit}.bootstrap-tagsinput.form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.bootstrap-tagsinput.form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.bootstrap-tagsinput.form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.bootstrap-tagsinput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap-tagsinput[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-right:2px;color:#fff}.bootstrap-tagsinput[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   [data-role=remove][_ngcontent-%COMP%]{margin-left:8px;cursor:pointer}.bootstrap-tagsinput[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   [data-role=remove][_ngcontent-%COMP%]:after{content:"x";padding:0 2px}.bootstrap-tagsinput[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   [data-role=remove][_ngcontent-%COMP%]:hover{box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05)}.bootstrap-tagsinput[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   [data-role=remove][_ngcontent-%COMP%]:hover:active{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}body[_ngcontent-%COMP%]{justify-content:center;align-items:center}body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.profile-pic[_ngcontent-%COMP%]{border-radius:50%;height:150px;width:150px;background-size:cover;background-position:50%;background-blend-mode:multiply;color:transparent!important;transition:all .3s ease;display:flex;justify-content:center;align-items:center;margin:auto}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;margin-top:50%}.profile-pic[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.5);z-index:10000;color:#fafafa!important;transition:all .3s ease;cursor:pointer}.profile-pic[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-flex;padding:.2em}#pfpNavBar[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}#pfpImg[_ngcontent-%COMP%]{margin:auto}@media only screen and (min-width:768px){#lastnameInputLbl[_ngcontent-%COMP%], #savingsInputLbl[_ngcontent-%COMP%]{text-align:right}}#categoriesColor-container[_ngcontent-%COMP%]{padding:4vh;margin-top:2vh}.category-row[_ngcontent-%COMP%]{padding-top:1vh;padding-left:15px;display:inline-block}.color-picker[_ngcontent-%COMP%]{border:none;border-radius:5px}.Zind[_ngcontent-%COMP%]{z-index:90000!important}input[type=color][_ngcontent-%COMP%]{width:100%}']}),e})(),dt=(()=>{class e{constructor(e,t,n,o){this.route=e,this.router=t,this.api=n,this.document=o}ngOnInit(){this.url=this.route.snapshot.paramMap.get("url"),this.code=this.route.snapshot.paramMap.get("code"),this.url&&this.code&&this.submit(this.code)}submit(e){this.api.confirm(this.url,e,e=>{this.router.navigate(["/"])},e=>{console.log(e);var t=this.document.querySelectorAll("#alert");for(let n=0;n<t.length;n++)t[n].removeAttribute("style")})}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(b.a),o.Kb(b.b),o.Kb(y),o.Kb(p.c))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-confirmation"]],decls:20,vars:0,consts:[["id","darkModeContainerFullWidth",1,"container"],["role","alert","id","alert",1,"alert","alert-danger",2,"display","none"],[1,"row","h-50"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12","align-self-end"],[1,"text1"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12","align-self-start"],["type","text","id","Verification","name","Verification","placeholder","Enter verification code","required","required",1,"form-control"],["code",""],[1,"spodnji"],["id","darkModeButton",1,"btn","btn-primary","btn-lg","gumbek",3,"click"]],template:function(e,t){if(1&e){const e=o.Qb();o.Pb(0,"main"),o.Pb(1,"div",0),o.Pb(2,"div",1),o.Pb(3,"b"),o.Dc(4,"Code is incorrect!"),o.Ob(),o.Ob(),o.Pb(5,"div",2),o.Pb(6,"div",3),o.Pb(7,"div",4),o.Pb(8,"p"),o.Dc(9,"Confirmation code was sent to your e-mail."),o.Ob(),o.Pb(10,"p"),o.Dc(11,"Please enter the code below."),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(12,"div",2),o.Pb(13,"div",5),o.Lb(14,"input",6,7),o.Lb(16,"br"),o.Pb(17,"div",8),o.Pb(18,"a",9),o.Zb("click",function(){o.rc(e);const n=o.pc(15);return t.submit(n.value)}),o.Dc(19,"Submit"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()}},styles:["main[_ngcontent-%COMP%]{background-color:#c8c8c8;text-align:center;vertical-align:center}.container[_ngcontent-%COMP%]{height:100vh}.text1[_ngcontent-%COMP%]{color:#727272;font-size:30pt}.btn-primary[_ngcontent-%COMP%]{color:#727272;background-color:#c8c8c8}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{border-color:#727272;border-width:3px;border-radius:30px}.btn-primary[_ngcontent-%COMP%]:hover{color:#c8c8c8;background-color:#727272}.btn-primary[_ngcontent-%COMP%]:focus{color:#727272;background-color:#c8c8c8}.btn-primary[_ngcontent-%COMP%]:focus, .btn-primary[_ngcontent-%COMP%]:focus:hover{border-color:#727272;border-width:3px;border-radius:30px}.btn-primary[_ngcontent-%COMP%]:focus:hover{color:#c8c8c8;background-color:#727272}.btn-primary[_ngcontent-%COMP%]:active{color:#c8c8c8!important;background-color:#727272!important;border-color:#727272!important;border-width:3px!important;border-radius:30px!important;text-shadow:0 0 1px #fff,0 0 1px #fff}.spodnji[_ngcontent-%COMP%]{margin-top:5vh}"]}),e})();class bt{constructor(e,t,n){this.type=e,this.name=t,this.text=n}}let gt=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["alert"]],inputs:{alert:"alert",type:"type",name:"name",text:"text"},decls:5,vars:5,consts:[[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12"],["role","alert"]],template:function(e,t){1&e&&(o.Pb(0,"div",0),o.Pb(1,"div",1),o.Pb(2,"b"),o.Dc(3),o.Ob(),o.Dc(4),o.Ob(),o.Ob()),2&e&&(o.xb(1),o.Ab("alert ",t.alert?t.alert.type:t.type,""),o.xb(2),o.Fc("",t.alert?t.alert.name:t.name,": "),o.xb(1),o.Fc(" ",t.alert?t.alert.text:t.text,"! "))},styles:[""]}),e})();const pt=["amountDashboard"],ut=["dateDashboard"],ht=["changeIncomeModal"];function mt(e,t){if(1&e&&(o.Pb(0,"div",40),o.Lb(1,"card",41),o.Ob()),2&e){const e=t.$implicit;o.jc("id","card",e.id,""),o.xb(1),o.hc("card",e)}}function Pt(e,t){if(1&e&&(o.Pb(0,"div",42),o.Lb(1,"alert",44),o.Ob()),2&e){const e=t.$implicit;o.xb(1),o.hc("alert",e)}}function vt(e,t){if(1&e&&(o.Pb(0,"div",8),o.Pb(1,"div",9),o.Pb(2,"div",42),o.Pb(3,"h2"),o.Dc(4),o.Ob(),o.Ob(),o.Ob(),o.Bc(5,Pt,2,1,"div",43),o.Ob()),2&e){const e=o.bc();o.xb(4),o.Ec(e.alertSection),o.xb(1),o.hc("ngForOf",e.alerts)}}const Ot=function(e){return{"background-color":e}};function ft(e,t){if(1&e&&(o.Pb(0,"tr"),o.Pb(1,"th"),o.Dc(2),o.Ob(),o.Pb(3,"td",50),o.Dc(4),o.Ob(),o.Ob()),2&e){const e=t.$implicit;o.xb(2),o.Ec(e.rowName),o.xb(1),o.hc("ngStyle",o.lc(3,Ot,e.color)),o.xb(1),o.Ec(e.category)}}function yt(e,t){if(1&e&&(o.Pb(0,"div",42),o.Pb(1,"div",42),o.Pb(2,"h4",45),o.Dc(3),o.Ob(),o.Ob(),o.Pb(4,"div",46),o.Pb(5,"table",47),o.Pb(6,"tbody",48),o.Bc(7,ft,5,5,"tr",49),o.Ob(),o.Ob(),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(3),o.Ec(e.analyticsField),o.xb(4),o.hc("ngForOf",e.analytics)}}function xt(e,t){if(1&e&&o.Lb(0,"canvas",51),2&e){const e=o.bc();o.hc("data",e.chartData)("colors",e.chartColors)("labels",e.chartLabels)("chartType","doughnut")}}function Ct(e,t){1&e&&(o.Pb(0,"h4",45),o.Dc(1,"No data!"),o.Ob())}function Mt(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc(2);o.xb(2),o.Ec(e.changeIncomeMessage)}}function wt(e,t){if(1&e){const e=o.Qb();o.Pb(0,"div",52),o.Pb(1,"div",3),o.Pb(2,"div",53),o.Pb(3,"h5",54),o.Dc(4),o.Ob(),o.Pb(5,"button",55),o.Zb("click",function(){return o.rc(e),o.bc().closeModal()}),o.Pb(6,"span",6),o.Dc(7,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(8,"div",56),o.Pb(9,"input",57,58),o.Zb("focusout",function(){o.rc(e);const t=o.pc(10);return o.bc().amountDashboard1(t)}),o.Ob(),o.Lb(11,"div",59),o.Lb(12,"br"),o.Pb(13,"input",60,61),o.Zb("focusout",function(){o.rc(e);const t=o.pc(14);return o.bc().dateDashboard1(t)}),o.Ob(),o.Lb(15,"div",62),o.Ob(),o.Pb(16,"div",63),o.Bc(17,Mt,3,1,"p",64),o.Pb(18,"button",65),o.Zb("click",function(){o.rc(e);const t=o.pc(10),n=o.pc(14),a=o.bc(),r=o.pc(73);return a.buttonDashboard(t,n,r)}),o.Dc(19),o.Ob(),o.Pb(20,"button",66),o.Zb("click",function(){return o.rc(e),o.bc().closeModal()}),o.Dc(21),o.Ob(),o.Ob(),o.Ob(),o.Ob()}if(2&e){const e=o.bc();o.xb(4),o.Ec(e.incomeModalTitle),o.xb(5),o.ic("placeholder",e.incomeModalPlaceholderIncome),o.xb(4),o.ic("placeholder",e.incomeModalPlaceholderDate),o.xb(4),o.hc("ngIf",e.hasChangeIncomeMessage),o.xb(2),o.Ec(e.incomeModalSaveButton),o.xb(2),o.Ec(e.incomeModalCloseButton)}}let Et=(()=>{class e{constructor(e,t,n,o,a){this.router=e,this.api=t,this.authentication=n,this.modalService=o,this.connectionService=a,this.pencilIcon=m.n,this.message=getTranslation("messageDashboard"),this.welcomeMessage=getTranslation("welcomeMessageDashboard"),this.cards=[],this.alerts=[],this.analytics=[],this.overview=getTranslation("overview"),this.incomeRow=getTranslation("incomeRow"),this.expensesRow=getTranslation("expensesRow"),this.balanceRow=getTranslation("balanceRow"),this.analyticsField=getTranslation("analyticsField"),this.noData=getTranslation("noData"),this.incomeModalTitle=getTranslation("incomeModalTitle"),this.incomeModalPlaceholderIncome=getTranslation("incomeModalPlaceholderIncome"),this.incomeModalPlaceholderDate=getTranslation("incomeModalPlaceholderDate"),this.incomeModalSaveButton=getTranslation("incomeModalSaveButton"),this.incomeModalCloseButton=getTranslation("incomeModalCloseButton"),this.chartData=[],this.chartColors=[],this.chartLabels=[],this.hasChangeIncomeMessage=!1,this.changeIncomeMessage=""}ngOnInit(){this.api.getUser().then(e=>{const t=e;this.refreshLanguage(e.language),this.cards=this.generateCards(t.bills,t.expense,t.paycheck,t.paycheckDate),this.alerts=this.generateAlerts(t.envelopes,t.bills,t.goals),this.analytics=this.generateAnalyitcs(e.expense,e.paycheckDate),this.currency=t.defaultCurrency,this.incomeLastMonth=t.paycheckLastMonth,this.expensesLastMonth=this.getTotalCost(this.getLastMonthExpenses(t.expense,t.paycheckDate))}).catch(e=>{this.authentication.logout(),this.router.navigate(["/"])})}hasConnection(){return this.connectionService.hasConnection}refreshLanguage(e){setLanguage(e),this.message=getTranslation("messageDashboard"),this.welcomeMessage=getTranslation("welcomeMessageDashboard"),this.overview=getTranslation("overview"),this.incomeRow=getTranslation("incomeRow"),this.expensesRow=getTranslation("expensesRow"),this.balanceRow=getTranslation("balanceRow"),this.analyticsField=getTranslation("analyticsField"),this.noData=getTranslation("noData"),this.incomeModalTitle=getTranslation("incomeModalTitle"),this.incomeModalPlaceholderIncome=getTranslation("incomeModalPlaceholderIncome"),this.incomeModalPlaceholderDate=getTranslation("incomeModalPlaceholderDate"),this.incomeModalSaveButton=getTranslation("incomeModalSaveButton"),this.incomeModalCloseButton=getTranslation("incomeModalCloseButton")}amountDashboard1(e){return new RegExp("^[0-9]+(.[0-9]{1,2})?$").test(e.value)?(e.style.borderColor="#ced4da",$(".tt1").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt1").toast("show"),0)}dateDashboard1(e){return e.value<1||e.value>28?(e.style.setProperty("border-color","red","important"),$(".tt2").toast("show"),0):(e.style.borderColor="#ced4da",$(".tt2").toast("hide"),1)}buttonDashboard(e,t,n){var o=this.amountDashboard1(e),a=this.dateDashboard1(t);0==o||0==a||(this.hasChangeIncomeMessage=!0,this.changeIncomeMessage="Saving income",this.api.changeIncome(e.value,t.value).then(e=>{this.modalRef.hide(),this.hasChangeIncomeMessage=!1}).catch(e=>{console.log(e),this.changeIncomeMessage="Saving failed!"}))}generateGraphs(e){var t=[];for(let n of e)this.chartData.push(n.value),t.push(n.category.color),this.chartLabels.push(n.category.name);this.chartColors=[{backgroundColor:t}]}generateCards(e,t,n,o){var a=this.getBillsUntilPaycheck(e,o),r=this.getExpensesSincePaycheck(t,o),i=this.getTotalCost(this.getExpensesAndBills(r,a)),s=this.getTotalCost(a),c=n-i;return[new K(1,"bg-primary","faUniversity",isNaN(c)?0:c,getTranslation("cardTitle1"),null),new K(2,"bg-primary","faCoins",s,getTranslation("cardTitle2"),null),new K(3,"bg-primary","faPiggyBank",isNaN(c-s)?0:c-s,getTranslation("cardTitle3"),null)]}getBillsUntilPaycheck(e,t){try{var n=[];const a=new Date,r=a.getMonth();a.setMonth(a.getMonth()+1);const i=a.getMonth();for(var o of e){const e=new Date(o.date),a=e.getDate(),s=e.getMonth();(s==r&&a>t||s==i&&a<=t)&&n.push(o)}return n}catch(a){return[]}}getExpensesSincePaycheck(e,t){try{var n=[];const a=new Date,r=a.getMonth();a.setMonth(a.getMonth()-1);const i=a.getMonth();for(var o of e){const e=new Date(o.date),a=e.getDate(),s=e.getMonth();(s==r&&a<=t||s==i&&a>t)&&n.push(o)}return n}catch(a){return[]}}getExpensesAndBills(e,t){return e.concat(t)}getTotalCost(e){var t=0;for(var n of e)t+=n.value;return t}generateAlerts(e,t,n){var o=[];for(var a of this.generateEnvelopeAlerts(e))o.push(a);for(var r of this.generateBillsAlerts(t))o.push(r);for(var i of this.generateGoalsAlerts(n))o.push(i);return o}generateEnvelopeAlerts(e){var t=[],n=new Date,o=this.getCurrentMonth(n.getMonth()),a=this.getTotalAlmostEmptyEnvelopes(e,o),r=this.getTotalEmptyEnvelopes(e,o);return a>0&&t.push(new bt("alert-warning",getTranslation("alertName1"),a+getTranslation("alertText1"))),r>0&&t.push(new bt("alert-danger",getTranslation("alertName1"),r+getTranslation("alertText1_1"))),t}generateBillsAlerts(e){var t=[];const n=this.getBillsInTheNext7Days(e);return n.length>0&&t.push(new bt("alert-warning",getTranslation("alertName2"),n.length+getTranslation("alertText2"))),t}generateGoalsAlerts(e){var t=this.goalsCompleted(e);return t?[new bt("alert-success",getTranslation("alertName3"),t+getTranslation("alertText3"))]:[]}getTotalAlmostEmptyEnvelopes(e,t){for(var n=0,o=0;o<e.length;o++)e[o].progress<100&&e[o].progress>74&&e[o].month===t&&n++;return n}getTotalEmptyEnvelopes(e,t){for(var n=0,o=0;o<e.length;o++)e[o].progress>=100&&e[o].month===t&&n++;return n}getBillsInTheNext7Days(e){const t=new Date;var n=[];for(var o of e)(new Date(Date.parse(o.date)).getTime()-t.getTime())/864e5<7&&n.push(o);return n}goalsCompleted(e){for(var t=0,n=0;n<e.length;n++)e[n].saved>=e[n].target&&t++;return t}generateAnalyitcs(e,t){var n=this.getLastMonthExpenses(e,t),o=this.getExpenseAnalysis(n),a=this.getMostMoneySpentOn(o),r=this.getMostTimesPurchased(o);return this.generateGraphs(n),a&&r?[{rowName:getTranslation("analyticsRowName1"),color:a.color,category:a.name},{rowName:getTranslation("analyticsRowName2"),color:r.color,category:r.name}]:[]}getLastMonthExpenses(e,t){var n=[];const o=new Date;o.setMonth(o.getMonth()-1);const a=o.getMonth();o.setMonth(o.getMonth()-2);const r=o.getMonth();for(var i of e){const e=new Date(i.date),s=e.getDate(),c=e.getMonth();o>t?(c==a+1&&s<=t||c==r&&s>t)&&n.push(i):(c==a&&s<=t||c==r&&s>t)&&n.push(i)}return n}getExpenseAnalysis(e){var t=new Map;for(var n of e)t.get(n.category.name)?(t.get(n.category.name).sum+=parseInt(n.value),t.get(n.category.name).count+=1,t.get(n.category.name).color=n.category.color):(t.set(n.category.name,{}),t.get(n.category.name).name=n.category.name,t.get(n.category.name).sum=parseInt(n.value),t.get(n.category.name).count=1,t.get(n.category.name).color=n.category.color);return t}getMostMoneySpentOn(e){var t=null;let n=Array.from(e.keys());for(let o of n)(null==t||e.get(o).sum>t.sum)&&(t=e.get(o));if(t)return t}getMostTimesPurchased(e){var t=null;let n=Array.from(e.keys());for(let o of n)(null==t||e.get(o).count>t.count)&&(t=e.get(o));if(t)return t}getCurrentMonth(e){var t=new Array;return t[0]="JAN",t[1]="FEB",t[2]="MAR",t[3]="APR",t[4]="MAY",t[5]="JUN",t[6]="JUL",t[7]="AUG",t[8]="SEP",t[9]="OCT",t[10]="NOV",t[11]="DEC",t[e]}alertsExist(){return this.alerts.length>0}openModal(e){this.modalRef=this.modalService.show(e)}closeModal(){this.modalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(b.b),o.Kb(x),o.Kb(y),o.Kb(l.a),o.Kb(D))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-dashboard"]],viewQuery:function(e,t){if(1&e&&(o.Hc(pt,!0),o.Hc(ut,!0),o.Hc(ht,!0)),2&e){let e;o.oc(e=o.ac())&&(t.amount=e.first),o.oc(e=o.ac())&&(t.date=e.first),o.oc(e=o.ac())&&(t.changeIncomeModal=e.first)}},decls:76,vars:20,consts:[[3,"component"],["id","exampleModalCenter","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade","premium-page"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[3,"message","welcomeMessage"],["id","cards-section",1,"container"],[1,"row"],["class","col-xl-3 col-lg-4 col-md-12 col-sm-12 aos-init aos-animate","data-aos","flip-down","data-aos-duration","500","style","margin: 0 auto",3,"id",4,"ngFor","ngForOf"],["class","container","id","cards-section",4,"ngIf"],["id","overview-section",1,"container"],[2,"text-align","left","padding-bottom","10px"],[1,"col-xl-6","col-lg-6","left-col"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12",2,"border-bottom","1px solid rgb(204, 204, 204)","padding-bottom","20px"],[1,"table","table-borderless","table-hover","tabela-balance"],["id","income-tr"],[2,"padding","0px","text-align","right"],["type","button","aria-label","changeIncome",1,"btn","p",3,"disabled","click"],[3,"icon"],["id","expenses-tr"],["id","border-th"],["id","border-td"],["class","col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12",4,"ngIf"],[1,"col-xl-6","col-lg-6",2,"padding-top","25px"],["baseChart","","id","doughnut-canvas","style","display: block; width: 482px; height: 482px;","width","482","height","482",3,"data","colors","labels","chartType",4,"ngIf","ngIfElse"],["noData",""],["id","changeIncome","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["changeIncomeModal",""],[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],[1,"w-25","toastek"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt1"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],[1,"toast-body"],["role","alert","data-delay","3000","data-autohide","false",1,"toast","ml-auto","tt2"],["changeIncome",""],["aria-live","polite","aria-atomic","true",2,"position","relative","min-height","200px"],["data-aos","flip-down","data-aos-duration","500",1,"col-xl-3","col-lg-4","col-md-12","col-sm-12","aos-init","aos-animate",2,"margin","0 auto",3,"id"],[3,"card"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12"],["class","row","class","col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12",4,"ngFor","ngForOf"],[3,"alert"],[2,"text-align","center","padding-top","35px","padding-bottom","10px"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12","analytics-col",2,"padding-bottom","20px"],[1,"table","table-borderless","table-hover","tabela"],[1,"analytics-table"],[4,"ngFor","ngForOf"],[2,"text-align","center",3,"ngStyle"],["baseChart","","id","doughnut-canvas","width","482","height","482",2,"display","block","width","482px","height","482px",3,"data","colors","labels","chartType"],["id","modal1","role","document",1,"modal-dialog-centered"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],["type","number","id","amount","name","amount","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","step","any","required","required",1,"form-control",3,"placeholder","focusout"],["amountDashboard",""],["id","amm"],["type","number","id","date","name","date","required","required",1,"form-control",3,"placeholder","focusout"],["dateDashboard",""],["id","dat"],[1,"modal-footer"],[4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,t){if(1&e){const e=o.Qb();o.Pb(0,"main"),o.Lb(1,"app-header",0),o.Pb(2,"div",1),o.Pb(3,"div",2),o.Pb(4,"div",3),o.Pb(5,"div",4),o.Pb(6,"button",5),o.Pb(7,"span",6),o.Dc(8,"\xd7"),o.Ob(),o.Ob(),o.Pb(9,"h4"),o.Dc(10,"Get premium to gain access to History and Utilities page!"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Lb(11,"app-welcome",7),o.Pb(12,"div",8),o.Pb(13,"div",9),o.Bc(14,mt,2,2,"div",10),o.Ob(),o.Ob(),o.Bc(15,vt,6,2,"div",11),o.Pb(16,"div",12),o.Pb(17,"h2",13),o.Dc(18),o.Ob(),o.Pb(19,"div",9),o.Pb(20,"div",14),o.Pb(21,"div",9),o.Pb(22,"div",15),o.Pb(23,"table",16),o.Pb(24,"tbody"),o.Pb(25,"tr",17),o.Pb(26,"th"),o.Dc(27),o.Ob(),o.Pb(28,"td"),o.Dc(29),o.Ob(),o.Pb(30,"td",18),o.Pb(31,"button",19),o.Zb("click",function(){o.rc(e);const n=o.pc(73);return t.openModal(n)}),o.Lb(32,"fa-icon",20),o.Ob(),o.Ob(),o.Ob(),o.Pb(33,"tr",21),o.Pb(34,"th"),o.Dc(35),o.Ob(),o.Pb(36,"td"),o.Dc(37),o.Ob(),o.Lb(38,"td"),o.Ob(),o.Pb(39,"tr"),o.Pb(40,"th",22),o.Dc(41),o.Ob(),o.Pb(42,"td",23),o.Dc(43),o.Ob(),o.Lb(44,"td",23),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Bc(45,yt,8,2,"div",24),o.Ob(),o.Ob(),o.Pb(46,"div",25),o.Bc(47,xt,1,4,"canvas",26),o.Bc(48,Ct,2,0,"ng-template",null,27,o.Cc),o.Ob(),o.Ob(),o.Ob(),o.Pb(50,"div",28,29),o.Pb(52,"div",30),o.Pb(53,"div",31),o.Pb(54,"div",32),o.Pb(55,"div",33),o.Pb(56,"strong",34),o.Dc(57,"HINT"),o.Ob(),o.Pb(58,"button",35),o.Pb(59,"span",6),o.Dc(60,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(61,"div",36),o.Dc(62," Input may only contain decimal numbers separated by . with max 2 decimal places. "),o.Ob(),o.Ob(),o.Pb(63,"div",37),o.Pb(64,"div",33),o.Pb(65,"strong",34),o.Dc(66,"HINT"),o.Ob(),o.Pb(67,"button",35),o.Pb(68,"span",6),o.Dc(69,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(70,"div",36),o.Dc(71," Only numbers between 1 and 28 allowed. "),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Bc(72,wt,22,6,"ng-template",null,38,o.Cc),o.Ob(),o.Lb(74,"div",39),o.Lb(75,"app-footer"),o.Ob()}if(2&e){const e=o.pc(49);o.xb(1),o.hc("component","dashboard"),o.xb(10),o.hc("message",t.message)("welcomeMessage",t.welcomeMessage),o.xb(3),o.hc("ngForOf",t.cards),o.xb(1),o.hc("ngIf",t.alertsExist()),o.xb(3),o.Ec(t.overview),o.xb(9),o.Ec(t.incomeRow),o.xb(2),o.Gc("",t.incomeLastMonth," ",t.currency,""),o.xb(2),o.hc("disabled",!t.hasConnection()),o.xb(1),o.hc("icon",t.pencilIcon),o.xb(3),o.Ec(t.expensesRow),o.xb(2),o.Gc("",t.expensesLastMonth," ",t.currency,""),o.xb(4),o.Ec(t.balanceRow),o.xb(2),o.Gc("",t.incomeLastMonth-t.expensesLastMonth," ",t.currency,""),o.xb(2),o.hc("ngIf",t.analytics),o.xb(2),o.hc("ngIf",t.analytics.length>0)("ngIfElse",e)}},directives:[U,h,p.j,p.k,c.a,z,v,gt,p.l,s.a],styles:['main[_ngcontent-%COMP%]{background:#ededed}.toast[_ngcontent-%COMP%]{z-index:999999}.date[_ngcontent-%COMP%]{text-align:center}td[_ngcontent-%COMP%]{text-align:left}@media only screen and (min-width:900px){.footer[_ngcontent-%COMP%]{padding-top:12vh}}.cena[_ngcontent-%COMP%]{text-align:center;font-family:Open Sans Bold}.zadnji[_ngcontent-%COMP%]{text-align:right}.date[_ngcontent-%COMP%]{width:5vw}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.addbill[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]{float:right}.headleft[_ngcontent-%COMP%]{text-align:left}.totaltext[_ngcontent-%COMP%]{text-align:center}.ena[_ngcontent-%COMP%]{padding-bottom:20px}canvas[_ngcontent-%COMP%]{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.container[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 15px 1px #d1d1d1;padding:0}#cards-section[_ngcontent-%COMP%]{padding:4vh;margin-top:2vh}#cards-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}.container[_ngcontent-%COMP%]   #cards-section[_ngcontent-%COMP%]{margin-top:5vh;margin-bottom:5vh}@media only screen and (min-width:900px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:15vh!important}}@media only screen and (max-width:991px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:10vh!important}.analytics-col[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}#doughnut-canvas[_ngcontent-%COMP%]{max-width:400px}}@media only screen and (max-height:768px) and (min-width:560px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:20vh}}@media only screen and (min-width:990px){.left-col[_ngcontent-%COMP%]{border-right:1px solid #ccc}}#welcome-alert-section[_ngcontent-%COMP%]{padding:4vh 5vh}#welcome-alert-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}.warner[_ngcontent-%COMP%]:hover   .replies[_ngcontent-%COMP%]{display:none}.warner[_ngcontent-%COMP%]:hover   .comments[_ngcontent-%COMP%]:before{content:"Entertainment: 108 of 120 \u20ac spent!"}.warner2[_ngcontent-%COMP%]:hover   .replies[_ngcontent-%COMP%]{display:none}.warner2[_ngcontent-%COMP%]:hover   .comments2[_ngcontent-%COMP%]:before{content:"January 25: Petrol $80"}.warn-after[_ngcontent-%COMP%]{text-align:center;font-size:2.5vh}.row.zapis[_ngcontent-%COMP%]{padding:0!important;height:30px}#overview-section[_ngcontent-%COMP%]{padding:4vh;margin-top:2vh}#overview-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}.container[_ngcontent-%COMP%]   #overview-section[_ngcontent-%COMP%]{margin-top:5vh;margin-bottom:5vh}#expenses-tr[_ngcontent-%COMP%]{box-shadow:0 2px 0 0 rgba(88,88,88,.99)}tr[_ngcontent-%COMP%]{line-height:20px}.card-counter[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:6vh}#doughnut-canvas[_ngcontent-%COMP%]{width:100%;text-align:center;margin:auto}.tabela[_ngcontent-%COMP%]{border-collapse:initial;border-spacing:.3vh}.tabela-balance[_ngcontent-%COMP%]{border-collapse:initial;border-spacing:0 5px;margin-top:0}.tabela-balance[_ngcontent-%COMP%]   #border-th[_ngcontent-%COMP%]{padding:10px;background-color:#79e779}.tabela-balance[_ngcontent-%COMP%]   #border-th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px;border-bottom-left-radius:10px}.tabela-balance[_ngcontent-%COMP%]   #border-td[_ngcontent-%COMP%]{padding:10px;background-color:#79e779}.tabela-balance[_ngcontent-%COMP%]   #border-td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px;border-top-right-radius:10px}.analytics-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-radius:10px}.analytics-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-top:2px!important;margin-bottom:2px!important}#pfpNavBar[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}']}),e})(),Dt=(()=>{class e{constructor(e,t){this.api=e,this.connectionService=t}ngOnInit(){}hasConnection(){return this.connectionService.hasConnection}loadData(){this.api.loadData(),alert("Data loaded!")}deleteData(){this.api.deleteData(),alert("Data deleted!")}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(x),o.Kb(D))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-db"]],decls:27,vars:2,consts:[[1,"container"],[1,"dbRow","col-12","col-sm-12","col-md-6","col-lg-6","col-lg-6","col-xl-6"],[1,"btn","btn-danger",3,"disabled","click"],[1,"info-db"],[1,"btn","btn-success",3,"disabled","click"]],template:function(e,t){1&e&&(o.Pb(0,"main"),o.Lb(1,"app-header"),o.Pb(2,"div",0),o.Pb(3,"div",1),o.Pb(4,"button",2),o.Zb("click",function(){return t.deleteData()}),o.Dc(5,"Izbri\u0161i vse podatke"),o.Ob(),o.Ob(),o.Pb(6,"div",3),o.Lb(7,"p"),o.Ob(),o.Pb(8,"div",1),o.Pb(9,"button",4),o.Zb("click",function(){return t.loadData()}),o.Dc(10,"Nalo\u017ei testne podatke"),o.Ob(),o.Ob(),o.Pb(11,"div",3),o.Pb(12,"p"),o.Dc(13,"Login Email 1: bronze@smaug.com"),o.Ob(),o.Pb(14,"p"),o.Dc(15,"Login Password 1: Bronzepass1"),o.Ob(),o.Ob(),o.Pb(16,"div",3),o.Pb(17,"p"),o.Dc(18,"Login Email 1: silver@smaug.com"),o.Ob(),o.Pb(19,"p"),o.Dc(20,"Login Password 1: Silverpass1"),o.Ob(),o.Ob(),o.Pb(21,"div",3),o.Pb(22,"p"),o.Dc(23,"Login Email 2: gold@smaug.com"),o.Ob(),o.Pb(24,"p"),o.Dc(25,"Login Password 1: Goldpass1 "),o.Ob(),o.Ob(),o.Ob(),o.Lb(26,"app-footer"),o.Ob()),2&e&&(o.xb(4),o.hc("disabled",!t.hasConnection()),o.xb(5),o.hc("disabled",!t.hasConnection()))},directives:[U,z],styles:[".row[_ngcontent-%COMP%]{margin-left:5%}.btn[_ngcontent-%COMP%]{width:50%}.dbRow[_ngcontent-%COMP%]{margin:0 auto}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto;text-align:center}.info-db[_ngcontent-%COMP%]{margin-top:2.5vw!important;margin-bottom:2.5vw!important}"]}),e})();const _t=["amountEdit"],Tt=["editEnvelopeModal"];function kt(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.editEnvelopeMessage)}}let Lt=(()=>{class e{constructor(e,t){this.renderer=e,this.api=t,this.Envelope={_id:"",progress:0,budget:0,spent:0,colorHex:"",color:"",bgColor:"",month:"",category:{_id:"",color:"",basic:!0,name:"",__v:0}},this.hasEditEnvelopeMessage=!1,this.editEnvelopeMessage=""}ngOnInit(){}editEnvelopes(){this.hasEditEnvelopeMessage=!0,this.editEnvelopeMessage="Saving changes",this.api.editEnvelope(this.Envelope._id,this.amountEdit.nativeElement.value).then(e=>{this.editEnvelopeModal.nativeElement.click(),this.Envelope.budget=this.amountEdit.nativeElement.value,this.hasEditEnvelopeMessage=!1}).catch(e=>{this.editEnvelopeMessage="Failed saving changes!"})}amountEditEnvelopes(){const e=this.amountEdit.nativeElement;var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}buttonEditEnvelopes(){0==this.amountEditEnvelopes()||this.editEnvelopes()}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(o.D),o.Kb(x))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-envelopes-edit-modal"]],viewQuery:function(e,t){if(1&e&&(o.Hc(_t,!0),o.Hc(Tt,!0)),2&e){let e;o.oc(e=o.ac())&&(t.amountEdit=e.first),o.oc(e=o.ac())&&(t.editEnvelopeModal=e.first)}},inputs:{Envelope:"Envelope",Currency:"Currency"},decls:39,vars:11,consts:[["tabindex","-1","role","dialog","aria-labelledby","modalCenterTitle","aria-hidden","true",1,"modal","fade","editForm",3,"id"],["editEnvelopeModal",""],[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],[1,"w-25","toastek"],["role","alert","data-delay","1000","data-autohide","false"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],["aria-hidden","true"],[1,"toast-body"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["name","editEnvelope"],[1,"modal-body"],[1,"ena"],["for","inputAmount"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","hidden","name","id",3,"value"],["type","hidden","name","formType","value","editEnvelope"],["type","number","name","inputAmount","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","placeholder","0.00","step","any","required","required",1,"form-control",3,"id","focusout"],["amountEdit",""],[3,"id"],[1,"modal-footer"],[4,"ngIf"],[1,"btn","btn-primary",3,"id","click"]],template:function(e,t){1&e&&(o.Pb(0,"div",0,1),o.Pb(2,"div",2),o.Pb(3,"div",3),o.Pb(4,"div",4),o.Pb(5,"div",5),o.Pb(6,"strong",6),o.Dc(7,"HINT"),o.Ob(),o.Pb(8,"button",7),o.Pb(9,"span",8),o.Dc(10,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(11,"div",9),o.Dc(12," Input may only contain decimal numbers separated by . with max 2 decimal places. "),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(13,"div",10),o.Pb(14,"div",11),o.Pb(15,"div",12),o.Pb(16,"h5",13),o.Dc(17),o.Ob(),o.Pb(18,"button",14),o.Pb(19,"span",8),o.Dc(20,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(21,"form",15),o.Pb(22,"div",16),o.Pb(23,"div",17),o.Pb(24,"label",18),o.Dc(25,"New Budget"),o.Ob(),o.Pb(26,"div",19),o.Pb(27,"div",20),o.Pb(28,"span",21),o.Dc(29),o.Ob(),o.Ob(),o.Lb(30,"input",22),o.Lb(31,"input",23),o.Pb(32,"input",24,25),o.Zb("focusout",function(){return t.amountEditEnvelopes()}),o.Ob(),o.Ob(),o.Lb(34,"div",26),o.Ob(),o.Ob(),o.Pb(35,"div",27),o.Bc(36,kt,3,1,"p",28),o.Pb(37,"button",29),o.Zb("click",function(){return t.buttonEditEnvelopes()}),o.Dc(38,"Add"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()),2&e&&(o.jc("id","editForm",t.Envelope._id,""),o.xb(4),o.Ab("toast ml-auto amountEditEnvelopes",t.Envelope._id,""),o.xb(13),o.Ec(t.Envelope.category.name),o.xb(12),o.Ec(t.Currency),o.xb(1),o.ic("value",t.Envelope._id),o.xb(2),o.jc("id",".amountEditEnvelopes",t.Envelope._id,""),o.xb(2),o.jc("id","vnos",t.Envelope._id,""),o.xb(2),o.hc("ngIf",t.hasEditEnvelopeMessage),o.xb(1),o.jc("id","buttonEditEnvelopes",t.Envelope._id,""))},directives:[i.m,i.f,i.g,p.k],styles:[""]}),e})();function It(e,t){if(1&e&&(o.Pb(0,"b"),o.Dc(1),o.Ob()),2&e){const e=o.bc();o.xb(1),o.Ec(e.deleteMessage)}}function At(e,t){if(1&e&&(o.Pb(0,"h3"),o.Dc(1),o.Ob()),2&e){const e=o.bc(2);o.xb(1),o.Ec(e.envelope.category.name)}}function St(e,t){if(1&e&&(o.Pb(0,"h3",14),o.Dc(1),o.Ob()),2&e){const e=o.bc(2);o.xb(1),o.Ec(e.envelope.category.name)}}function Bt(e,t){if(1&e&&(o.Pb(0,"h3",15),o.Dc(1),o.Ob()),2&e){const e=o.bc(2);o.xb(1),o.Ec(e.envelope.category.name)}}function Nt(e,t){if(1&e){const e=o.Qb();o.Pb(0,"p",16),o.Pb(1,"span"),o.Dc(2),o.Ob(),o.Dc(3," of "),o.Pb(4,"span"),o.Dc(5),o.Ob(),o.Pb(6,"button",17),o.Zb("click",function(){return o.rc(e),o.bc(2).deleteEnvelope()}),o.Lb(7,"fa-icon",18),o.Ob(),o.Pb(8,"button",19),o.Lb(9,"fa-icon",18),o.Ob(),o.Ob()}if(2&e){const e=o.bc(2);o.xb(2),o.Gc("",e.envelope.spent," ",e.currency,""),o.xb(3),o.Gc("",e.envelope.budget," ",e.currency,""),o.xb(1),o.hc("disabled",!e.hasConnection()),o.xb(1),o.hc("icon",e.faMinusSquare),o.xb(1),o.hc("disabled",!e.hasConnection()),o.yb("data-target","#editForm"+e.envelope._id),o.xb(1),o.hc("icon",e.faPencilAlt)}}function Gt(e,t){if(1&e){const e=o.Qb();o.Pb(0,"p",20),o.Pb(1,"span"),o.Dc(2),o.Ob(),o.Dc(3," of "),o.Pb(4,"span"),o.Dc(5),o.Ob(),o.Pb(6,"button",17),o.Zb("click",function(){return o.rc(e),o.bc(2).deleteEnvelope()}),o.Lb(7,"fa-icon",18),o.Ob(),o.Pb(8,"button",19),o.Lb(9,"fa-icon",18),o.Ob(),o.Ob()}if(2&e){const e=o.bc(2);o.xb(2),o.Gc("",e.envelope.spent," ",e.currency,""),o.xb(3),o.Gc("",e.envelope.budget," ",e.currency,""),o.xb(1),o.hc("disabled",!e.hasConnection()),o.xb(1),o.hc("icon",e.faMinusSquare),o.xb(1),o.hc("disabled",!e.hasConnection()),o.yb("data-target","#editForm"+e.envelope._id),o.xb(1),o.hc("icon",e.faPencilAlt)}}function jt(e,t){if(1&e){const e=o.Qb();o.Pb(0,"p",21),o.Pb(1,"span"),o.Dc(2),o.Ob(),o.Dc(3," of "),o.Pb(4,"span"),o.Dc(5),o.Ob(),o.Pb(6,"button",17),o.Zb("click",function(){return o.rc(e),o.bc(2).deleteEnvelope()}),o.Lb(7,"fa-icon",18),o.Ob(),o.Pb(8,"button",19),o.Lb(9,"fa-icon",18),o.Ob(),o.Ob()}if(2&e){const e=o.bc(2);o.xb(2),o.Gc("",e.envelope.spent," ",e.currency,""),o.xb(3),o.Gc("",e.envelope.budget," ",e.currency,""),o.xb(1),o.hc("disabled",!e.hasConnection()),o.xb(1),o.hc("icon",e.faMinusSquare),o.xb(1),o.hc("disabled",!e.hasConnection()),o.yb("data-target","#editForm"+e.envelope._id),o.xb(1),o.hc("icon",e.faPencilAlt)}}function Ft(e,t){if(1&e&&(o.Pb(0,"div",3),o.Pb(1,"div",4),o.Bc(2,At,2,1,"h3",1),o.Bc(3,St,2,1,"h3",5),o.Bc(4,Bt,2,1,"h3",6),o.Ob(),o.Pb(5,"div",7),o.Pb(6,"div",8),o.Pb(7,"div",9),o.Dc(8),o.Ob(),o.Ob(),o.Ob(),o.Pb(9,"div",10),o.Bc(10,Nt,10,9,"p",11),o.Bc(11,Gt,10,9,"p",12),o.Bc(12,jt,10,9,"p",13),o.Ob(),o.Ob()),2&e){const e=o.bc();o.jc("id","envelope",e.envelope._id,""),o.xb(2),o.hc("ngIf",e.isLow(e.envelope.progress)),o.xb(1),o.hc("ngIf",e.isMedium(e.envelope.progress)),o.xb(1),o.hc("ngIf",e.isHigh(e.envelope.progress)),o.xb(2),o.yc("background-color:",e.envelope.bgColor,";"),o.xb(1),o.zc("width:",e.envelope.progress,"%; height:auto; background-color:",e.envelope.color,"; border-color:",e.envelope.color,";"),o.ic("aria-valuenow",e.envelope.progress),o.xb(1),o.Fc(" ",e.envelope.progress,"% "),o.xb(2),o.hc("ngIf",e.isLow(e.envelope.progress)),o.xb(1),o.hc("ngIf",e.isMedium(e.envelope.progress)),o.xb(1),o.hc("ngIf",e.isHigh(e.envelope.progress))}}let Ht=(()=>{class e{constructor(e,t,n){this.api=e,this.connectionService=t,this.document=n,this.faMinusSquare=m.l,this.faPencilAlt=m.n,this.hasDeleteMessage=!1,this.deleteMessage=""}hasConnection(){return this.connectionService.hasConnection}isLow(e){return e<85}isMedium(e){return e>=85&&e<100}isHigh(e){return e>=100}ngOnInit(){}deleteEnvelope(){1==confirm("Are you sure you want to delete envelope "+this.envelope.category.name)&&(this.hasDeleteMessage=!0,this.deleteMessage="Deleting envelope",this.api.deleteEnvelope(this.envelope._id).then(e=>{this.document.getElementById(this.envelope._id).remove()}).catch(e=>{this.deleteMessage="Failed deleting envelope!"}))}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(x),o.Kb(D),o.Kb(p.c))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-envelopes-progress"]],inputs:{envelope:"envelope",month:"month",currency:"currency"},decls:3,vars:2,consts:[["id","data"],[4,"ngIf"],["class","row progressRow",3,"id",4,"ngIf"],[1,"row","progressRow",3,"id"],[1,"col-sm-12","col-md-12","col-lg-3","col-xl-2"],["style","color:#ff7b00",4,"ngIf"],["style","color:red",4,"ngIf"],[1,"col-sm-12","col-md-12","col-lg-5","col-xl-6"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100","data-toggle","tooltip","data-placement","top",1,"progress-bar",3,"aria-valuenow"],[1,"col-sm-12","col-md-12","col-lg-4","col-xl-4","envelope-info"],["class","info",4,"ngIf"],["class","info","style","color:#ff7b00",4,"ngIf"],["class","info","style","color:red",4,"ngIf"],[2,"color","#ff7b00"],[2,"color","red"],[1,"info"],["type","button","aria-label","Delete","data-toggle","modal",1,"btn","edit-btn",3,"disabled","click"],[3,"icon"],["type","button","data-toggle","modal","aria-label","EditEnvelope","role","button",1,"btn","edit-btn",3,"disabled"],[1,"info",2,"color","#ff7b00"],[1,"info",2,"color","red"]],template:function(e,t){1&e&&(o.Pb(0,"div",0),o.Bc(1,It,2,1,"b",1),o.Bc(2,Ft,13,17,"div",2),o.Ob()),2&e&&(o.xb(1),o.hc("ngIf",t.envelope.month==t.month&&t.hasDeleteMessage),o.xb(1),o.hc("ngIf",t.envelope.month==t.month))},directives:[p.k,c.a],styles:[".progressRow[_ngcontent-%COMP%]{padding:1.5vh}#data[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;font-family:Open Sans Bold}#data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:grey;font-family:Open Sans;display:inline}.info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Open Sans Bold}#data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right}"]}),e})();const Rt=["selectCategoryAdd"],Ut=["categoryAdd"],zt=["amountAdd"],Kt=["colorAdd"],$t=["categoryExpense"],Zt=["nameExpense"],qt=["amountExpense"],Jt=["dateExpense"],Yt=["addEnvelopeModal"],Vt=["addExpenseModal"];function Qt(e,t){if(1&e&&(o.Pb(0,"option",86),o.Dc(1),o.Ob()),2&e){const e=t.$implicit;o.ic("value",e.name),o.jc("id","category",e._id,""),o.xb(1),o.Ec(e.name)}}function Wt(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.addEnvelopeMessage)}}function Xt(e,t){if(1&e&&o.Lb(0,"app-envelopes-edit-modal",87),2&e){const e=t.$implicit,n=o.bc();o.hc("Envelope",e)("Currency",n.currency)}}function en(e,t){if(1&e&&(o.Pb(0,"option",88),o.Dc(1),o.Ob()),2&e){const e=t.$implicit;o.jc("id","category",e._id,""),o.xb(1),o.Ec(e.name)}}function tn(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.addExpenseMessage)}}function nn(e,t){if(1&e&&(o.Pb(0,"div",89),o.Lb(1,"card",90),o.Ob()),2&e){const e=t.$implicit;o.jc("id","card",e.id,""),o.xb(1),o.hc("card",e)}}function on(e,t){if(1&e&&o.Lb(0,"app-envelopes-progress",91),2&e){const e=t.$implicit,n=o.bc();o.ic("id",e._id),o.hc("envelope",e)("month",n.setMonth)("currency",n.currency)}}let an=(()=>{class e{constructor(e,t,n,o,a){this.api=e,this.renderer=t,this.router=n,this.authentication=o,this.connectionService=a,this.fileName="envelopes",this.message=getTranslation("messageEnvelopes"),this.welcomeMessage=getTranslation("welcomeMessageEnvelopes"),this.logout="Logout",this.year=(new Date).getFullYear(),this.month=(new Date).getMonth()+1,this.day=(new Date).getDate(),this.DASHBOARD="DASHBOARD",this.GOALS="GOALS",this.BILLS="BILLS",this.HISTORY="HISTORY",this.UTILITIES="UTILITIES",this.user="User",this.settings="Settings",this.appearance="Appearance",this.light="Light",this.dark="Dark",this.setMonthNumber=(new Date).getMonth()+1,this.setMonth=this.getCurrentMonth((new Date).getMonth()),this.currentMonth=this.getCurrentMonth((new Date).getMonth()),this.currency="EUR",this.addExpenseTxt=getTranslation("envelopesAddExpense"),this.addEnvelopeTxt=getTranslation("envelopesAddEnvelope"),this.envelopestt2=getTranslation("envelopestt2"),this.envelopestt3=getTranslation("envelopestt3"),this.envelopesFutureErr=getTranslation("envelopesFutureErr"),this.envelopesCategory=getTranslation("envelopesCategory"),this.envelopesSelCat=getTranslation("envelopesSelCat"),this.envelopesMake=getTranslation("envelopesMake"),this.envelopesAmount=getTranslation("envelopesAmount"),this.envelopesColor=getTranslation("envelopesColor"),this.envelopesAdd=getTranslation("envelopesAdd"),this.envelopesRec=getTranslation("envelopesRec"),this.envelopesDate=getTranslation("envelopesDate"),this.HINT=getTranslation("HINT"),this.hasAddEnvelopeMessage=!1,this.addEnvelopeMessage="",this.hasAddExpenseMessage=!1,this.addExpenseMessage="",this.faPlusSquare=m.p}hasConnection(){return this.connectionService.hasConnection}ngOnInit(){this.api.getUser().then(e=>{this.refreshLanguage(e.language),this.cards=this.generateCards(e.envelopes),this.envelopes=e.envelopes,this.categories=this.getCategories(e.categories)}).catch(e=>{this.authentication.logout(),this.router.navigate(["/"])})}refreshLanguage(e){setLanguage(e),this.message=getTranslation("messageEnvelopes"),this.welcomeMessage=getTranslation("welcomeMessageEnvelopes"),this.addExpenseTxt=getTranslation("envelopesAddExpense"),this.addEnvelopeTxt=getTranslation("envelopesAddEnvelope"),this.envelopestt2=getTranslation("envelopestt2"),this.envelopestt3=getTranslation("envelopestt3"),this.envelopesFutureErr=getTranslation("envelopesFutureErr"),this.envelopesCategory=getTranslation("envelopesCategory"),this.envelopesSelCat=getTranslation("envelopesSelCat"),this.envelopesMake=getTranslation("envelopesMake"),this.envelopesAmount=getTranslation("envelopesAmount"),this.envelopesColor=getTranslation("envelopesColor"),this.envelopesAdd=getTranslation("envelopesAdd"),this.envelopesRec=getTranslation("envelopesRec"),this.envelopesDate=getTranslation("envelopesDate"),this.HINT=getTranslation("HINT")}addExpense(){let e=0,t=0;for(let n of this.envelopes){let o=this.dateExpense.nativeElement.value.split("-");n.category.name===this.categoryExpense.nativeElement.value&&o[1]==this.setMonthNumber&&(e=parseFloat(parseFloat(this.amountExpense.nativeElement.value).toFixed(2))+n.spent,n.spent=e,t=Math.round(n.spent/n.budget*100),n.progress=t)}this.hasAddExpenseMessage=!0,this.addExpenseMessage="Saving expense",this.api.addExpense(this.amountExpense.nativeElement.value,this.categoryExpense.nativeElement.value,this.nameExpense.nativeElement.value,this.dateExpense.nativeElement.value).then(e=>{this.addExpenseModal.nativeElement.click(),this.cards=this.generateCards(this.envelopes),this.hasAddExpenseMessage=!1}).catch(e=>{this.addExpenseMessage="Failed saving exepse!"})}addEnvelope(){"other"==this.selectCategoryAdd.nativeElement.value?this.api.addEnvelope(this.categoryAdd.nativeElement.value,this.amountAdd.nativeElement.value,this.colorAdd.nativeElement.value,this.setMonthNumber-1).then(e=>{this.addEnvelopeModal.nativeElement.click(),this.categories.push(e.category),this.envelopes.push(e.envelope),this.router.navigate(["/envelopes"])}).catch(e=>{this.addEnvelopeMessage=e.includes("304 Not Modified")?"Envelope already exists!":"Failed saving envelope"}):this.api.addEnvelope(this.selectCategoryAdd.nativeElement.value,this.amountAdd.nativeElement.value,this.colorAdd.nativeElement.value,this.setMonthNumber-1).then(e=>{this.renderer.setAttribute(document.getElementById("buttonAddEnvelopes"),"data-dismiss","modal"),this.envelopes.push(e.envelope),this.renderer.removeAttribute(document.getElementById("buttonAddEnvelopes"),"data-dismiss","modal"),this.router.navigate(["/envelopes"])}).catch(e=>{this.addEnvelopeMessage=e.includes("304 Not Modified")?"Envelope already exists!":"Failed saving envelope"})}nameAddEnvelopes(){const e=this.categoryAdd.nativeElement;if(e.disabled)return 1;var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,14}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt5").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt5").toast("show"),0)}getCategories(e){for(var t=[],n=0,o=0;o<e.length;o++)this.uniqueCategory(t,e[o])&&(t[n]=e[o],n++);return t}uniqueCategory(e,t){if(null==e)return!0;for(var n=0;n<e.length;n++)if(e[n]._id===t._id)return!1;return!0}getCurrentMonth(e){var t=new Array;return t[0]="JAN",t[1]="FEB",t[2]="MAR",t[3]="APR",t[4]="MAY",t[5]="JUN",t[6]="JUL",t[7]="AUG",t[8]="SEP",t[9]="OCT",t[10]="NOV",t[11]="DEC",t[e]}amountAddEnvelopes(){const e=this.amountAdd.nativeElement;var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt1").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt1").toast("show"),0)}nameExpenseEnvelopes(){const e=this.nameExpense.nativeElement;var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,20}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt2").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt2").toast("show"),0)}amountExpenseEnvelopes(){const e=this.amountExpense.nativeElement;var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt3").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt3").toast("show"),0)}dateExpenseEnvelopes(){const e=this.dateExpense.nativeElement;var t=new Date,n=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),r=e.value.split("-");return r[0]<a||r[0]==a&&(r[1]<o||r[1]==o&&r[2]<=n)?($(".tt4").toast("hide"),e.style.borderColor="#ced4da",1):($(".tt4").toast("show"),e.style.setProperty("border-color","red","important"),0)}buttonAddEnvelopes(){0==this.amountAddEnvelopes()||(this.hasAddEnvelopeMessage=!0,this.addEnvelopeMessage="Saving envelope",this.addEnvelope())}buttonExpenseEnvelopes(){var e=this.amountExpenseEnvelopes(),t=this.nameExpenseEnvelopes(),n=this.dateExpenseEnvelopes();0==e||0==t||0==n||this.addExpense()}getThisMonthEnvelopes(e){var t=[];for(let n of e)n.month===this.setMonth&&t.push(n);return t}generateCards(e){const t=this.getThisMonthEnvelopes(e),n=this.getAlmostEmptyEnvelopes(t),o=this.getEmptyEnvelopes(t);return[new K(1,"bg-primary","faEnvelope",t.length,getTranslation("envelopesCardTotal"),null),new K(21,"bg-warning","faExclamationTriangle",n.length,getTranslation("envelopesCardAlmost"),this.generateAlmostEmptyMessage(n)),new K(31,"bg-danger","faRadiation",o.length,getTranslation("envelopesCardEmpty"),this.generateEmptyMessage(o))]}getAlmostEmptyEnvelopes(e){var t=[];for(let n of e)n.progress<100&&n.progress>=85&&t.push(n);return t}getEmptyEnvelopes(e){var t=[];for(let n of e)n.progress>=100&&t.push(n);return t}generateAlmostEmptyMessage(e){return e.length<1?getTranslation("envelopesAlmostTextNo"):1==e.length?e[0].category.name+getTranslation("envelopesAlmostTextOne"):e.length+getTranslation("envelopesAlmostTextMore")}generateEmptyMessage(e){return e.length<1?getTranslation("envelopesTextNo"):1==e.length?e[0].category.name+getTranslation("envelopesTextOne"):e.length+getTranslation("envelopesTextMore")}incrementMonth(){12==this.setMonthNumber?this.setMonthNumber=1:this.setMonthNumber++,this.setMonth=this.getCurrentMonth(this.setMonthNumber-1)}decrementMonth(){1==this.setMonthNumber?this.setMonthNumber=12:this.setMonthNumber--,this.setMonth=this.getCurrentMonth(this.setMonthNumber-1)}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(x),o.Kb(o.D),o.Kb(b.b),o.Kb(y),o.Kb(D))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-envelopes"]],viewQuery:function(e,t){if(1&e&&(o.Hc(Rt,!0),o.Hc(Ut,!0),o.Hc(zt,!0),o.Hc(Kt,!0),o.Hc($t,!0),o.Hc(Zt,!0),o.Hc(qt,!0),o.Hc(Jt,!0),o.Hc(Yt,!0),o.Hc(Vt,!0)),2&e){let e;o.oc(e=o.ac())&&(t.selectCategoryAdd=e.first),o.oc(e=o.ac())&&(t.categoryAdd=e.first),o.oc(e=o.ac())&&(t.amountAdd=e.first),o.oc(e=o.ac())&&(t.colorAdd=e.first),o.oc(e=o.ac())&&(t.categoryExpense=e.first),o.oc(e=o.ac())&&(t.nameExpense=e.first),o.oc(e=o.ac())&&(t.amountExpense=e.first),o.oc(e=o.ac())&&(t.dateExpense=e.first),o.oc(e=o.ac())&&(t.addEnvelopeModal=e.first),o.oc(e=o.ac())&&(t.addExpenseModal=e.first)}},decls:182,vars:49,consts:[[3,"component"],["id","addEnvelopeForm","tabindex","-1","role","dialog","aria-labelledby","modalCenterTitle","aria-hidden","true",1,"modal","fade"],["addEnvelopeModal",""],[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],[1,"w-25","toastek"],["role","alert","data-delay","3000","data-autohide","false",1,"toast","ml-auto","tt5"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],["aria-hidden","true"],[1,"toast-body"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt1"],["id","date-hint","role","alert","data-delay","3000","data-autohide","false",1,"toast","ml-auto","tt7"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["name","addEnvelope"],["type","hidden","value","addEnvelope","name","formType"],["type","hidden","name","setMonth",3,"value"],[1,"modal-body"],[1,"ena"],["for","chooseCategoryEnvelope"],["id","inputCategory","name","chooseCategoryEnvelope","onchange","checkCategory(this)","required","",1,"form-control"],["selectCategoryAdd",""],["value","","selected",""],[3,"value","id",4,"ngFor","ngForOf"],["value","other"],["for","categoryAddEnvelope"],["type","text","id","ime","name","categoryAddEnvelope","placeholder","Or create your own","disabled","",1,"form-control",2,"display","none",3,"focusout"],["categoryAdd",""],["for","inputAmount"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","number","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","name","inputAmount","id","inputAmount","placeholder","0.00","step","any","required","",1,"form-control",3,"focusout"],["amountAdd",""],["id","amm"],["id","colorPickerLabel","for","colorPicker"],["type","color","id","colorPicker","name","colorPicker"],["colorAdd",""],[1,"modal-footer"],[4,"ngIf"],["id","buttonAddEnvelopes",1,"btn","btn-primary",3,"click"],[3,"Envelope","Currency",4,"ngFor","ngForOf"],["id","addExpenseForm","tabindex","-1","role","dialog","aria-labelledby","modalCenterTitle","aria-hidden","true",1,"modal","fade"],["addExpenseModal",""],["role","alert","data-delay","3000","data-autohide","false",1,"toast","ml-auto","tt2"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt3"],["id","date-hint","role","alert","data-delay","3000","data-autohide","false",1,"toast","ml-auto","tt4"],["name","addExpense"],["type","hidden","name","formType","value","addExpense"],["for","inputGoal"],["id","inputCategory","name","inputCategory",1,"form-control"],["categoryExpense",""],["selected",""],[3,"id",4,"ngFor","ngForOf"],["for","Payee"],["type","text","id","Payee25","name","recipient","placeholder","e.g. Elektro Ljubljana d.d.","value","","required","required",1,"form-control",3,"focusout"],["nameExpense",""],["id","txt"],["id","currencyPrepend",1,"input-group-text"],["type","number","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","id","Amount2","name","inputAmount","placeholder","0.00","step","any","required","",1,"form-control",3,"focusout"],["amountExpense",""],["for","datum"],["type","date","id","inputDate15","name","date","required","required",1,"form-control",3,"value","focusout"],["dateExpense",""],["id","buttonAddExpense",1,"btn","btn-primary",3,"click"],[3,"message","welcomeMessage"],["id","cards-section",1,"container"],[1,"row"],["class","col-xl-3 col-lg-4 col-md-12 col-sm-12 aos-init aos-animate","data-aos","flip-down","data-aos-duration","500","style","margin: 0 auto",3,"id",4,"ngFor","ngForOf"],["id","envelopeSectionTag"],["id","main-section",1,"container"],[1,"col-3","col-sm-4","col-md-4","col-lg-5","col-xl-5","puscica-leva"],["aria-label","left",1,"arrowButton",3,"click"],[1,"arrow","left"],[1,"col-6","col-sm-4","col-md-4","col-lg-2","col-xl-2","mesec"],[1,"col-3","col-sm-4","col-md-4","col-lg-5","col-xl-5","puscica-desna"],["aria-label","right",1,"arrowButton",3,"click"],[1,"arrow","right"],[1,"col-6","col-sm-6","col-md-6","col-lg-6","col-xl-6"],["type","button","data-toggle","modal","href","#addExpenseForm","role","button","aria-expanded","false","aria-controls","about",1,"btn","btn-success",2,"float","left",3,"disabled"],[3,"icon"],["type","button","data-toggle","modal","href","#addEnvelopeForm","role","button","aria-expanded","false","aria-controls","about",1,"btn","btn-primary",2,"float","right",3,"disabled"],[3,"envelope","month","currency","id",4,"ngFor","ngForOf"],[3,"value","id"],[3,"Envelope","Currency"],[3,"id"],["data-aos","flip-down","data-aos-duration","500",1,"col-xl-3","col-lg-4","col-md-12","col-sm-12","aos-init","aos-animate",2,"margin","0 auto",3,"id"],[3,"card"],[3,"envelope","month","currency","id"]],template:function(e,t){1&e&&(o.Pb(0,"main"),o.Lb(1,"app-header",0),o.Pb(2,"div",1,2),o.Pb(4,"div",3),o.Pb(5,"div",4),o.Pb(6,"div",5),o.Pb(7,"div",6),o.Pb(8,"strong",7),o.Dc(9),o.Ob(),o.Pb(10,"button",8),o.Pb(11,"span",9),o.Dc(12,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(13,"div",10),o.Dc(14),o.Ob(),o.Ob(),o.Pb(15,"div",11),o.Pb(16,"div",6),o.Pb(17,"strong",7),o.Dc(18),o.Ob(),o.Pb(19,"button",8),o.Pb(20,"span",9),o.Dc(21,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(22,"div",10),o.Dc(23),o.Ob(),o.Ob(),o.Pb(24,"div",12),o.Pb(25,"div",6),o.Pb(26,"strong",7),o.Dc(27),o.Ob(),o.Pb(28,"button",8),o.Pb(29,"span",9),o.Dc(30,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(31,"div",10),o.Dc(32),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(33,"div",13),o.Pb(34,"div",14),o.Pb(35,"div",15),o.Pb(36,"button",16),o.Pb(37,"span",9),o.Dc(38,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(39,"form",17),o.Lb(40,"input",18),o.Lb(41,"input",19),o.Pb(42,"div",20),o.Pb(43,"div",21),o.Pb(44,"label",22),o.Dc(45),o.Ob(),o.Pb(46,"select",23,24),o.Pb(48,"option",25),o.Dc(49),o.Ob(),o.Bc(50,Qt,2,3,"option",26),o.Pb(51,"option",27),o.Dc(52),o.Ob(),o.Ob(),o.Lb(53,"label",28),o.Pb(54,"input",29,30),o.Zb("focusout",function(){return t.nameAddEnvelopes()}),o.Ob(),o.Ob(),o.Pb(56,"div",21),o.Pb(57,"label",31),o.Dc(58),o.Ob(),o.Lb(59,"br"),o.Pb(60,"div",32),o.Pb(61,"div",33),o.Pb(62,"span",34),o.Dc(63),o.Ob(),o.Ob(),o.Pb(64,"input",35,36),o.Zb("focusout",function(){return t.amountAddEnvelopes()}),o.Ob(),o.Ob(),o.Lb(66,"div",37),o.Ob(),o.Pb(67,"div",21),o.Pb(68,"label",38),o.Dc(69),o.Ob(),o.Lb(70,"br"),o.Lb(71,"input",39,40),o.Ob(),o.Ob(),o.Pb(73,"div",41),o.Bc(74,Wt,3,1,"p",42),o.Pb(75,"button",43),o.Zb("click",function(){return t.buttonAddEnvelopes()}),o.Dc(76),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Bc(77,Xt,1,2,"app-envelopes-edit-modal",44),o.Pb(78,"div",45,46),o.Pb(80,"div",3),o.Pb(81,"div",4),o.Pb(82,"div",47),o.Pb(83,"div",6),o.Pb(84,"strong",7),o.Dc(85),o.Ob(),o.Pb(86,"button",8),o.Pb(87,"span",9),o.Dc(88,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(89,"div",10),o.Dc(90),o.Ob(),o.Ob(),o.Pb(91,"div",48),o.Pb(92,"div",6),o.Pb(93,"strong",7),o.Dc(94),o.Ob(),o.Pb(95,"button",8),o.Pb(96,"span",9),o.Dc(97,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(98,"div",10),o.Dc(99),o.Ob(),o.Ob(),o.Pb(100,"div",49),o.Pb(101,"div",6),o.Pb(102,"strong",7),o.Dc(103),o.Ob(),o.Pb(104,"button",8),o.Pb(105,"span",9),o.Dc(106,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(107,"div",10),o.Dc(108),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(109,"div",13),o.Pb(110,"div",14),o.Pb(111,"div",15),o.Pb(112,"button",16),o.Pb(113,"span",9),o.Dc(114,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(115,"form",50),o.Lb(116,"input",51),o.Pb(117,"div",20),o.Pb(118,"div",21),o.Pb(119,"label",52),o.Dc(120),o.Ob(),o.Lb(121,"br"),o.Pb(122,"select",53,54),o.Pb(124,"option",55),o.Dc(125),o.Ob(),o.Bc(126,en,2,2,"option",56),o.Ob(),o.Ob(),o.Pb(127,"div",21),o.Pb(128,"label",57),o.Dc(129),o.Ob(),o.Lb(130,"br"),o.Pb(131,"input",58,59),o.Zb("focusout",function(){return t.nameExpenseEnvelopes()}),o.Ob(),o.Lb(133,"div",60),o.Ob(),o.Pb(134,"div",21),o.Pb(135,"label",31),o.Dc(136),o.Ob(),o.Lb(137,"br"),o.Pb(138,"div",32),o.Pb(139,"div",33),o.Pb(140,"span",61),o.Dc(141),o.Ob(),o.Ob(),o.Pb(142,"input",62,63),o.Zb("focusout",function(){return t.amountExpenseEnvelopes()}),o.Ob(),o.Ob(),o.Ob(),o.Pb(144,"div",21),o.Pb(145,"label",64),o.Dc(146),o.Ob(),o.Lb(147,"br"),o.Pb(148,"input",65,66),o.Zb("focusout",function(){return t.dateExpenseEnvelopes()}),o.Ob(),o.Ob(),o.Ob(),o.Pb(150,"div",41),o.Bc(151,tn,3,1,"p",42),o.Pb(152,"button",67),o.Zb("click",function(){return t.buttonExpenseEnvelopes()}),o.Dc(153),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Lb(154,"app-welcome",68),o.Pb(155,"div",69),o.Pb(156,"div",70),o.Bc(157,nn,2,2,"div",71),o.Lb(158,"div",72),o.Ob(),o.Ob(),o.Pb(159,"div",73),o.Pb(160,"div",70),o.Pb(161,"div",74),o.Pb(162,"button",75),o.Zb("click",function(){return t.decrementMonth()}),o.Lb(163,"i",76),o.Ob(),o.Ob(),o.Pb(164,"div",77),o.Pb(165,"h4"),o.Dc(166),o.cc(167,"monthNumberPipe"),o.Ob(),o.Ob(),o.Pb(168,"div",78),o.Pb(169,"button",79),o.Zb("click",function(){return t.incrementMonth()}),o.Lb(170,"i",80),o.Ob(),o.Ob(),o.Ob(),o.Pb(171,"div",70),o.Pb(172,"div",81),o.Pb(173,"button",82),o.Dc(174),o.Lb(175,"fa-icon",83),o.Ob(),o.Ob(),o.Pb(176,"div",81),o.Pb(177,"button",84),o.Dc(178),o.Lb(179,"fa-icon",83),o.Ob(),o.Ob(),o.Ob(),o.Bc(180,on,1,4,"app-envelopes-progress",85),o.Ob(),o.Lb(181,"app-footer"),o.Ob()),2&e&&(o.xb(1),o.hc("component","envelopes"),o.xb(8),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopestt2,"14 "),o.xb(4),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopestt3," "),o.xb(4),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopesFutureErr," "),o.xb(9),o.ic("value",t.setMonthNumber),o.xb(4),o.Ec(t.envelopesCategory),o.xb(4),o.Ec(t.envelopesSelCat),o.xb(1),o.hc("ngForOf",t.categories),o.xb(2),o.Ec(t.envelopesMake),o.xb(6),o.Ec(t.envelopesAmount),o.xb(5),o.Ec(t.currency),o.xb(6),o.Ec(t.envelopesColor),o.xb(5),o.hc("ngIf",t.hasAddEnvelopeMessage),o.xb(2),o.Ec(t.envelopesAdd),o.xb(1),o.hc("ngForOf",t.envelopes),o.xb(8),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopestt2,"16 "),o.xb(4),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopestt3," "),o.xb(4),o.Ec(t.HINT),o.xb(5),o.Fc(" ",t.envelopesFutureErr," "),o.xb(12),o.Ec(t.envelopesCategory),o.xb(5),o.Ec(t.envelopesSelCat),o.xb(1),o.hc("ngForOf",t.categories),o.xb(3),o.Ec(t.envelopesRec),o.xb(7),o.Ec(t.envelopesAmount),o.xb(5),o.Ec(t.currency),o.xb(5),o.Ec(t.envelopesDate),o.xb(2),o.kc("value","",t.year,"-",t.month,"-",t.day,""),o.xb(3),o.hc("ngIf",t.hasAddExpenseMessage),o.xb(2),o.Ec(t.envelopesAdd),o.xb(1),o.hc("message",t.message)("welcomeMessage",t.welcomeMessage),o.xb(3),o.hc("ngForOf",t.cards),o.xb(9),o.Ec(o.dc(167,47,t.setMonthNumber-1)),o.xb(7),o.hc("disabled",!t.hasConnection()),o.xb(1),o.Fc(" ",t.addExpenseTxt," "),o.xb(1),o.hc("icon",t.faPlusSquare),o.xb(2),o.hc("disabled",!t.hasConnection()),o.xb(1),o.Fc(" ",t.addEnvelopeTxt," "),o.xb(1),o.hc("icon",t.faPlusSquare),o.xb(1),o.hc("ngForOf",t.envelopes))},directives:[U,i.m,i.f,i.g,i.i,i.l,p.j,p.k,h,c.a,z,Lt,v,Ht],pipes:[Ke],styles:["main[_ngcontent-%COMP%]{background:#ededed}.container[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 15px 1px #d1d1d1;padding:0}.center-row-9[_ngcontent-%COMP%]{margin:0 12.5%}.row[_ngcontent-%COMP%]{margin:0}.arrow[_ngcontent-%COMP%]{border:solid #000;border-width:0 3px 3px 0;display:inline-block;padding:3px}.right[_ngcontent-%COMP%]{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.left[_ngcontent-%COMP%]{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.puscica-leva[_ngcontent-%COMP%]{text-align:right}.mesec[_ngcontent-%COMP%]{text-align:center}.puscica-desna[_ngcontent-%COMP%]{text-align:left}#welcome-alert-section[_ngcontent-%COMP%]{margin-top:2vh}#cards-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], #main-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], #welcome-alert-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}#welcome-alert-section[_ngcontent-%COMP%]{padding:4vh}#cards-section[_ngcontent-%COMP%], #main-section[_ngcontent-%COMP%]{padding:4vh;margin-top:2vh}@media only screen and (min-width:900px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:15vh}}@media only screen and (max-width:991px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:10vh}}@media only screen and (min-width:900px){.footer[_ngcontent-%COMP%]{padding-top:12vh}}@media only screen and (max-width:991px){.footer[_ngcontent-%COMP%]{padding-top:6vh}}.card-counter[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:6vh;opacity:.3}.container[_ngcontent-%COMP%]   #cards-section[_ngcontent-%COMP%]{margin-top:5vh;margin-bottom:5vh}.progress-bar[_ngcontent-%COMP%]{height:auto}#gas[_ngcontent-%COMP%]{width:69%;background:#0096ff;border-color:#0096ff}#gas-back[_ngcontent-%COMP%]{background:#9ebde3}#groceries[_ngcontent-%COMP%]{width:50%;background:green;border-color:green}#groceries-back[_ngcontent-%COMP%]{background:green;opacity:1}#utilites[_ngcontent-%COMP%]{background:purple;border-color:purple}#utilites-back[_ngcontent-%COMP%]{background:plum}#entertainment[_ngcontent-%COMP%]{background:#fb3;border-color:#fb3}#entertainment-back[_ngcontent-%COMP%]{background:#fdce6f}.ena[_ngcontent-%COMP%]{padding-bottom:20px}#main-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Open Sans Bold;font-size:1.2em}#main-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{float:left}#main-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:grey;font-family:Open Sans;display:inline}#main-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .monetary-value[_ngcontent-%COMP%]{font-family:Open Sans Bold;display:inline}.envelope-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;float:right}.info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Open Sans Bold}#comments2[_ngcontent-%COMP%], #comments3[_ngcontent-%COMP%]{opacity:0}#card2[_ngcontent-%COMP%]:hover   #comments2[_ngcontent-%COMP%], #card3[_ngcontent-%COMP%]:hover   #comments3[_ngcontent-%COMP%]{opacity:1}#card2[_ngcontent-%COMP%]:hover   #replies2[_ngcontent-%COMP%], #card3[_ngcontent-%COMP%]:hover   #replies3[_ngcontent-%COMP%]{display:none}#card2-after[_ngcontent-%COMP%], #card3-after[_ngcontent-%COMP%]{text-align:center;font-size:2.5vh}#pfpNavBar[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}.hover-red[_ngcontent-%COMP%]:hover{color:red}.arrowButton[_ngcontent-%COMP%]{border:none;text-decoration:none;color:#000;background:none}"]}),e})();var rn=n("5JmO"),sn=n("TruH");let cn=(()=>{class e{transform(e){return("0"+e).slice(-2)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Jb({name:"doubleDigit",type:e,pure:!0}),e})();const ln=["id"],dn=["category"],bn=["name"],gn=["amount"],pn=["date"],un=["editHistoryModal"],hn=["history-table-row",""];function mn(e,t){if(1&e&&(o.Pb(0,"option",5),o.Dc(1),o.Ob()),2&e){const e=t.$implicit;o.jc("id","categoryName",e._id,""),o.xb(1),o.Ec(e.name)}}function Pn(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.editMessage)}}let vn=(()=>{class e{constructor(e,t,n){this.renderer=e,this.api=t,this.connectionService=n,this.faPencilAlt=m.n,this.Categories={color:"",basic:!0,_id:"",name:""},this.year=2020,this.month=1,this.day=1,this.hasEditMessage=!1,this.editMessage=""}hasConnection(){return this.connectionService.hasConnection}ngOnInit(){const e=new Date(this.Expense.date);this.day=e.getDate(),this.month=e.getMonth(),this.year=e.getFullYear()}editExpense(){this.hasEditMessage=!0,this.editMessage="Saving expense",this.api.editExpense(this.id.nativeElement.value,this.category.nativeElement.value,this.name.nativeElement.value,this.amount.nativeElement.value,this.date.nativeElement.value).then(e=>{this.editHistoryModal.nativeElement.click(),this.hasEditMessage=!1,this.Expense.category.name=this.category.nativeElement.value,this.Expense._id=this.id.nativeElement.value,this.Expense.recipient=this.name.nativeElement.value,this.Expense.value=this.amount.nativeElement.value;let t=this.parseDate(this.date.nativeElement.value);this.day=parseInt(t[2]),this.month=parseInt(t[1])-1,this.year=parseInt(t[0])}).catch(e=>this.editMessage="Failed to save!")}nameEditHistory(){const e=this.name.nativeElement;return new RegExp("^[A-Za-z0-9_@./#&+-: ]{1,20}$").test(e.value)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}amountEditHistory(){const e=this.amount.nativeElement;return new RegExp("^[0-9]+(.[0-9]{1,2})?$").test(e.value)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}dateEditHistory(){const e=this.date.nativeElement;var t=new Date,n=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),r=e.value.split("-");return r[0]<a||r[0]==a&&(r[1]<o||r[1]==o&&r[2]<=n)?($(e.id).toast("hide"),e.style.borderColor="#ced4da",1):($(e.id).toast("show"),e.style.setProperty("border-color","red","important"),0)}parseDate(e){return e.split("-")}buttonEditHistory(){var e=this.nameEditHistory(),t=this.amountEditHistory(),n=this.dateEditHistory();0==t||0==e||0==n||(this.renderer.setAttribute(document.getElementById("buttonEditExpense"),"data-dismiss","modal"),this.editExpense(),this.renderer.removeAttribute(document.getElementById("buttonEditExpense"),"data-dismiss","modal"))}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(o.D),o.Kb(x),o.Kb(D))},e.\u0275cmp=o.Eb({type:e,selectors:[["tr","history-table-row",""]],viewQuery:function(e,t){if(1&e&&(o.Hc(ln,!0),o.Hc(dn,!0),o.Hc(bn,!0),o.Hc(gn,!0),o.Hc(pn,!0),o.Hc(un,!0)),2&e){let e;o.oc(e=o.ac())&&(t.id=e.first),o.oc(e=o.ac())&&(t.category=e.first),o.oc(e=o.ac())&&(t.name=e.first),o.oc(e=o.ac())&&(t.amount=e.first),o.oc(e=o.ac())&&(t.date=e.first),o.oc(e=o.ac())&&(t.editHistoryModal=e.first)}},inputs:{Expense:"Expense",Currency:"Currency",Categories:"Categories"},attrs:hn,decls:98,vars:51,consts:[[1,"date","align-middle",3,"id"],[1,"text-muted",3,"id"],[1,"text-muted","font-weight-bold",3,"id"],[1,"sredina",3,"id"],[1,"cena","align-middle",3,"id"],[3,"id"],["type","hidden",3,"id","value"],[1,"zadnji","align-middle"],["type","button","data-toggle","modal","aria-label","Edit",1,"btn","p",3,"disabled"],[3,"icon"],["tabindex","-1","role","dialog","aria-labelledby","modalCenterTitle","aria-hidden","true",1,"modal","fade","expensesModal",3,"id"],["editHistoryModal",""],[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],[1,"w-25","toastek"],["role","alert","data-delay","3000","data-autohide","false"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],["aria-hidden","true"],[1,"toast-body"],["role","alert","data-delay","1000","data-autohide","false"],["id","date-hint","role","alert","data-delay","3000","data-autohide","false"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["type","hidden","name","id",3,"value"],["id",""],[1,"modal-body"],[1,"ena"],["for","inputGoal"],["name","kategorija",1,"form-control",3,"id"],["category",""],["selected",""],[3,"id",4,"ngFor","ngForOf"],["for","Payee"],["type","text","name","prejemnik","placeholder","e.g. Elektro Ljubljana d.d.","required","required",1,"form-control",3,"id","value","focusout"],["name",""],["for","Amount"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","number","name","vsota","onkeydown","return event.keyCode !== 69 && event.keyCode !== 188","placeholder","e.g. $150.30","step","any","required","required",1,"form-control",3,"id","value","focusout"],["amount",""],["for","datum"],["type","date","name","datumcek","required","required",1,"form-control",3,"id","value","focusout"],["date",""],[1,"modal-footer"],[4,"ngIf"],["id","buttonEditExpense",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(o.Pb(0,"td",0),o.Pb(1,"div",1),o.Dc(2),o.Ob(),o.Pb(3,"div",2),o.Dc(4),o.cc(5,"monthNumberPipe"),o.Ob(),o.Pb(6,"div",2),o.Dc(7),o.cc(8,"doubleDigit"),o.Ob(),o.Ob(),o.Pb(9,"td",3),o.Dc(10),o.Ob(),o.Pb(11,"td",3),o.Dc(12),o.Ob(),o.Pb(13,"td",4),o.Pb(14,"span",5),o.Dc(15),o.Ob(),o.Pb(16,"span",5),o.Dc(17),o.Ob(),o.Lb(18,"input",6),o.Ob(),o.Pb(19,"td",7),o.Pb(20,"button",8),o.Lb(21,"fa-icon",9),o.Ob(),o.Ob(),o.Pb(22,"div",10,11),o.Pb(24,"div",12),o.Pb(25,"div",13),o.Pb(26,"div",14),o.Pb(27,"div",15),o.Pb(28,"strong",16),o.Dc(29,"HINT"),o.Ob(),o.Pb(30,"button",17),o.Pb(31,"span",18),o.Dc(32,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(33,"div",19),o.Dc(34," Input may only contain letters, numbers and some special characters (_@./#&+-: and whitespace). Length allowed: 1-20 "),o.Ob(),o.Ob(),o.Pb(35,"div",20),o.Pb(36,"div",15),o.Pb(37,"strong",16),o.Dc(38,"HINT"),o.Ob(),o.Pb(39,"button",17),o.Pb(40,"span",18),o.Dc(41,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(42,"div",19),o.Dc(43," Input may only contain decimal numbers separated by . with max 2 decimal places. "),o.Ob(),o.Ob(),o.Pb(44,"div",21),o.Pb(45,"div",15),o.Pb(46,"strong",16),o.Dc(47,"HINT"),o.Ob(),o.Pb(48,"button",17),o.Pb(49,"span",18),o.Dc(50,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(51,"div",19),o.Dc(52," Expense can't be in the future. "),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(53,"div",22),o.Pb(54,"div",23),o.Pb(55,"div",24),o.Pb(56,"button",25),o.Pb(57,"span",18),o.Dc(58,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Lb(59,"input",26,27),o.Pb(61,"div",28),o.Pb(62,"div",29),o.Pb(63,"label",30),o.Dc(64,"Category"),o.Ob(),o.Pb(65,"select",31,32),o.Pb(67,"option",33),o.Dc(68),o.Ob(),o.Bc(69,mn,2,2,"option",34),o.Ob(),o.Ob(),o.Pb(70,"div",29),o.Pb(71,"label",35),o.Dc(72,"Recipient"),o.Ob(),o.Lb(73,"br"),o.Pb(74,"input",36,37),o.Zb("focusout",function(){return t.nameEditHistory()}),o.Ob(),o.Lb(76,"div",5),o.Ob(),o.Pb(77,"div",29),o.Pb(78,"label",38),o.Dc(79,"Amount"),o.Ob(),o.Lb(80,"br"),o.Pb(81,"div",39),o.Pb(82,"div",40),o.Pb(83,"span",41),o.Dc(84),o.Ob(),o.Ob(),o.Pb(85,"input",42,43),o.Zb("focusout",function(){return t.amountEditHistory()}),o.Ob(),o.Lb(87,"div",5),o.Ob(),o.Ob(),o.Pb(88,"div",29),o.Pb(89,"label",44),o.Dc(90,"Date"),o.Ob(),o.Lb(91,"br"),o.Pb(92,"input",45,46),o.Zb("focusout",function(){return t.dateEditHistory()}),o.Ob(),o.Ob(),o.Ob(),o.Pb(94,"div",47),o.Bc(95,Pn,3,1,"p",48),o.Pb(96,"button",49),o.Zb("click",function(){return t.buttonEditHistory()}),o.Dc(97,"Save Changes"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()),2&e&&(o.jc("id","date",t.Expense._id,""),o.xb(1),o.jc("id","year",t.Expense._id,""),o.xb(1),o.Ec(t.year),o.xb(1),o.jc("id","month",t.Expense._id,""),o.xb(1),o.Ec(o.dc(5,47,t.month)),o.xb(2),o.jc("id","day",t.Expense._id,""),o.xb(1),o.Ec(o.dc(8,49,t.day)),o.xb(2),o.jc("id","category",t.Expense._id,""),o.xb(1),o.Ec(t.Expense.category.name),o.xb(1),o.jc("id","receiver",t.Expense._id,""),o.xb(1),o.Ec(t.Expense.recipient),o.xb(1),o.jc("id","value",t.Expense._id,""),o.xb(1),o.jc("id","price",t.Expense._id,""),o.xb(1),o.Fc("",t.Expense.value," "),o.xb(1),o.jc("id","currency",t.Expense._id,""),o.xb(1),o.Fc(" ",t.Expense.currency,""),o.xb(1),o.jc("id","color",t.Expense._id,""),o.ic("value",t.Expense.category.color),o.xb(2),o.hc("disabled",!t.hasConnection()),o.yb("data-target","#editForm"+t.Expense._id),o.xb(1),o.hc("icon",t.faPencilAlt),o.xb(1),o.jc("id","editForm",t.Expense._id,""),o.xb(4),o.Ab("toast ml-auto historyName",t.Expense._id,""),o.xb(9),o.Ab("toast ml-auto historyNumber",t.Expense._id,""),o.xb(9),o.Ab("toast ml-auto historyDate",t.Expense._id,""),o.xb(15),o.ic("value",t.Expense._id),o.xb(6),o.jc("id","inputCategory",t.Expense._id,""),o.xb(3),o.Ec(t.Expense.category.name),o.xb(1),o.hc("ngForOf",t.Categories),o.xb(5),o.jc("id",".historyName",t.Expense._id,""),o.ic("value",t.Expense.recipient),o.xb(2),o.jc("id","",t.Expense._id,"txt"),o.xb(8),o.Ec(t.Currency),o.xb(1),o.jc("id",".historyNumber",t.Expense._id,""),o.ic("value",t.Expense.value),o.xb(2),o.jc("id","",t.Expense._id,"amm"),o.xb(5),o.jc("id",".historyDate",t.Expense._id,""),o.kc("value","",t.year,"-",t.month+1,"-",t.day,""),o.xb(3),o.hc("ngIf",t.hasEditMessage))},directives:[c.a,i.i,i.l,p.j,p.k],pipes:[Ke,cn],styles:[".date[_ngcontent-%COMP%]{text-align:center;width:5vw}.sredina[_ngcontent-%COMP%]{vertical-align:middle}.cena[_ngcontent-%COMP%]{text-align:center;font-family:Open Sans Bold}.zadnji[_ngcontent-%COMP%]{text-align:right}td[_ngcontent-%COMP%]{text-align:left}"]}),e})();const On=["color"];function fn(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ngb-pagination",25),o.Zb("pageChange",function(t){return o.rc(e),o.bc().page=t})("pageChange",function(){o.rc(e);const t=o.bc();return t.changePage(t.page)}),o.Ob()}if(2&e){const e=o.bc();o.hc("disabled",!e.hasConnection())("page",e.page)("pageSize",e.pageSize)("maxSize",5)("rotate",!0)("collectionSize",e.expenseCount)}}function yn(e,t){if(1&e&&o.Lb(0,"tr",26),2&e){const e=t.$implicit,n=o.bc();o.hc("Expense",e)("Currency",n.currency)("Categories",n.categories)}}let xn=(()=>{class e{constructor(e,t,n,o,a){this.api=e,this.document=t,this.router=n,this.authentication=o,this.connectionService=a,this.categories=[],this.expenses=[],this.fileName="history",this.graph={used:!0,name:"HistoryChart"},this.message=getTranslation("messageHistory"),this.welcomeMessage=getTranslation("welcomeMessageHistory"),this.logout="Logout",this.DASHBOAR="DASHBOARD,",this.ENVELOPES="ENVELOPES",this.GOALS="GOALS",this.BILLS="BILLS",this.HISTORY="HISTORY",this.UTILITIES="UTILITIES",this.user="User",this.settings="Settings",this.appearance="Appearance",this.light="Light",this.dark="Dark",this.chartData1=[],this.chartColors1=[],this.chartLabels1=[],this.chartType1="doughnut",this.chartData2=[],this.chartColors2=[],this.chartLabels2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.chartType2="line",this.paginatedExpenses=[],this.expenseCount=0,this.page=1,this.pageSize=10,this.filter="",this.historyAll=getTranslation("historyAll"),this.historyExport=getTranslation("historyExport"),this.historyTotal=getTranslation("historyTotal")}hasConnection(){return this.connectionService.hasConnection}ngOnInit(){this.api.getUser().then(e=>{this.refreshLanguage(e.language),this.categories=e.categories,this.expenses=this.generateExpenses(e.expense),this.currency=e.defaultCurrency;const t=this.parseTable(this.expenses);document.querySelector(".totaltext").innerHTML="<h5>"+this.historyTotal+": "+t.sum.toFixed(2);const n=this.groupByCategories(t),o=this.makeDataForGraph(this.filterByCategory(this.expenses));this.chartData1=this.makeDataArray1(n),this.chartColors1=this.makeColorArray1(n),this.chartLabels1=this.makeLabelArray1(n),this.chartData2=this.generateDatasets(o),this.chartColors2=this.getColors(o)}).catch(e=>{this.authentication.logout(),this.router.navigate(["/"])}),this.api.getExpense("",this.pageSize,(this.page-1)*this.pageSize).then(e=>{this.expenseCount=e.length,this.paginatedExpenses=e.expenses}).catch(e=>{this.authentication.logout(),this.router.navigate(["/"])})}refreshLanguage(e){setLanguage(e),this.message=getTranslation("messageHistory"),this.welcomeMessage=getTranslation("welcomeMessageHistory"),this.historyAll=getTranslation("historyAll"),this.historyExport=getTranslation("historyExport"),this.historyTotal=getTranslation("historyTotal")}parseTable(e){const t={sum:0,data:[]};for(let n of e)t.data.push({id:n.id,year:n.year,month:n.month,day:n.day,category:n.category,receiver:n.receiver,currency:n.currency,value:n.value,color:n.color}),t.sum+=n.value;return t}filterByCategory(e){var t=new Map;for(var n of e)t.get(n.category)||t.set(n.category,[]),t.get(n.category).push(n),t.get(n.category).color=n.color;return t}filterByMonth(e){var t=new Map;for(var n of e)t.get(n.month)||(t.set(n.month,{}),t.get(n.month).sum=0),t.get(n.month).sum+=n.value;return t}makeDataForGraph(e){var t=new Map;let n=Array.from(e.keys());for(let o of n)t.set(o,this.filterByMonth(e.get(o))),t.get(o).color=e.get(o).color;return t}convertMonthsToName(e){switch(e){case"JAN":return"January";case"FEB":return"February";case"MAR":return"March";case"APR":return"April";case"MAY":return"May";case"JUN":return"June";case"JUL":return"July";case"AUG":return"August";case"SEP":return"September";case"OCT":return"October";case"NOV":return"November";case"DEC":return"December"}}generateExpenses(e){var t=[];for(var n of e){var o=n.date.split("T")[0].split("-");t.push({id:n._id,year:o[0],month:o[1],monthName:this.translateMonth(o[1]),day:o[2],category:n.category.name,recipient:n.recipient,value:n.value,currency:n.currency,color:n.category.color})}return t.sort(this.compare),t}translateMonth(e){switch(e){case"01":return"JAN";case"02":return"FEB";case"03":return"MAR";case"04":return"APR";case"05":return"MAY";case"06":return"JUN";case"07":return"JUL";case"08":return"AUG";case"09":return"SEP";case"10":return"OCT";case"11":return"NOV";case"12":return"DEC"}}compare(e,t){return e.year<t.year||e.year==t.year&&(e.month<t.month||e.month==t.month&&e.day<t.day)?1:-1}groupByCategories(e){const t=[];for(let n of e.data){const e=this.findGroupByCategory(t,n.category);null!=e?e.sum+=parseInt(n.value):t.push({name:n.category,sum:n.value,color:n.color})}return t}findGroupByCategory(e,t){for(let n of e)if(n.name==t)return n;return null}makeDataArray1(e){const t=[e.length];for(let n=0;n<e.length;n++)t[n]=e[n].sum;return t}makeColorArray1(e){const t=[],n=[];for(let o=0;o<e.length;o++)n.push([e[o].color]);return t[0]={backgroundColor:n},t}makeLabelArray1(e){const t=[e.length];for(let n=0;n<e.length;n++)t[n]=e[n].name;return t}generateDatasets(e){var t=[];let n=Array.from(e.keys());for(let o of n)t.push(this.generateDataset(e.get(o),o));return t}generateDataset(e,t){return{data:this.getData(e),label:t}}getData(e){const t=[0,0,0,0,0,0,0,0,0,0,0,0];let n=Array.from(e.keys());for(let o of n)t[+o-1]=e.get(o).sum;return t}getColors(e){const t=[];let n=Array.from(e.keys());for(let a of n){e.get(a);var o={borderColor:e.get(a).color};t.push(o)}return t}generatePdf(){rn.vfs=sn.pdfMake.vfs;var e={content:[{text:"Expenses",style:"header"},{layout:"lightHorizontalLines",table:{headerRows:1,widths:["*","auto",100,"*"],body:[["Date","Category","Recipient","Value"]]},margin:[0,10,0,0]}],styles:{header:{fontSize:22,bold:!0},body:{fontSize:16}}};for(let t of this.expenses)e.content[1].table.body.push([`${t.day}-${t.monthName}-${t.year}`,t.category,t.recipient,`${t.value} ${t.currency}`]);rn.createPdf(e).open()}changePage(e){this.page=e,this.filter||(this.filter=""),this.api.getExpense(this.filter,this.pageSize,(e-1)*this.pageSize).then(e=>{this.paginatedExpenses=e.expenses,this.expenseCount=e.length}).catch(e=>{this.authentication.logout(),this.router.navigate(["/"])})}setFilter(e){this.filter=e,this.changePage(this.page)}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(x),o.Kb(p.c),o.Kb(b.b),o.Kb(y),o.Kb(D))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-history"]],viewQuery:function(e,t){if(1&e&&o.Hc(On,!0),2&e){let e;o.oc(e=o.ac())&&(t.color=e.first)}},decls:39,vars:16,consts:[[3,"component"],[3,"message","welcomeMessage"],["id","cards-section",1,"container"],[1,"row",2,"margin-bottom","3%"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12"],[1,"row"],[1,"col-3","col-sm-3","col-md-5","col-lg-3","col-xl-3"],[1,"col-3","col-sm-3","col-md-3","col-lg-6","col-xl-6"],[1,"col-sm-12","col-md-12","col-lg-10","col-xl-8","goal-col",2,"margin","0 auto"],["id","doughnut-canvas","baseChart","",3,"data","colors","labels","chartType"],[1,"col-sm-12","col-md-12","col-lg-10","col-xl-8","goal-col",2,"margin","0 auto","margin-top","5%"],["id","line-canvas","baseChart","",3,"datasets","colors","labels","chartType"],["id","totaltext",1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12","totaltext"],[1,"col-12","col-sm-12","col-md-12","col-lg-8","col-xl-8"],[1,"col-12","col-sm-12","col-md-12","col-lg-4","col-xl-4","d-flex"],["type","text","id","filter","placeholder","Search","aria-label","Search",1,"form-control","search",3,"disabled","keyup"],["filter",""],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12","d-flex","justify-content-center"],[3,"disabled","page","pageSize","maxSize","rotate","collectionSize","pageChange",4,"ngIf"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12"],["data-aos","fade-up","data-aos-duration","500",1,"table-responsive"],["id","table",1,"table"],[3,"history-table-row","Expense","Currency","Categories",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",2,"float","right",3,"click"],[1,"far","fa-file-pdf"],[3,"disabled","page","pageSize","maxSize","rotate","collectionSize","pageChange"],[3,"history-table-row","Expense","Currency","Categories"]],template:function(e,t){if(1&e){const e=o.Qb();o.Pb(0,"main"),o.Lb(1,"app-header",0),o.Lb(2,"app-welcome",1),o.Pb(3,"div",2),o.Pb(4,"div",3),o.Pb(5,"div",4),o.Pb(6,"div",5),o.Lb(7,"div",6),o.Lb(8,"div",7),o.Ob(),o.Ob(),o.Ob(),o.Pb(9,"div",5),o.Pb(10,"div",8),o.Lb(11,"canvas",9),o.Ob(),o.Pb(12,"div",10),o.Lb(13,"canvas",11),o.Ob(),o.Ob(),o.Pb(14,"div",5),o.Lb(15,"div",12),o.Ob(),o.Ob(),o.Pb(16,"div",2),o.Pb(17,"div",5),o.Pb(18,"div",13),o.Pb(19,"h3"),o.Dc(20),o.Ob(),o.Ob(),o.Pb(21,"div",14),o.Pb(22,"input",15,16),o.Zb("keyup",function(){o.rc(e);const n=o.pc(23);return t.setFilter(n.value)}),o.Ob(),o.Ob(),o.Ob(),o.Pb(24,"div",5),o.Pb(25,"div",17),o.Bc(26,fn,1,6,"ngb-pagination",18),o.Ob(),o.Ob(),o.Pb(27,"div",5),o.Pb(28,"div",19),o.Pb(29,"div",20),o.Pb(30,"table",21),o.Pb(31,"tbody"),o.Bc(32,yn,1,3,"tr",22),o.Ob(),o.Ob(),o.Ob(),o.Pb(33,"div",5),o.Pb(34,"div",19),o.Pb(35,"a",23),o.Zb("click",function(){return t.generatePdf()}),o.Dc(36),o.Lb(37,"i",24),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Lb(38,"app-footer"),o.Ob()}2&e&&(o.xb(1),o.hc("component","history"),o.xb(1),o.hc("message",t.message)("welcomeMessage",t.welcomeMessage),o.xb(9),o.hc("data",t.chartData1)("colors",t.chartColors1)("labels",t.chartLabels1)("chartType",t.chartType1),o.xb(2),o.hc("datasets",t.chartData2)("colors",t.chartColors2)("labels",t.chartLabels2)("chartType",t.chartType2),o.xb(7),o.Ec(t.historyAll),o.xb(2),o.hc("disabled",!t.hasConnection()),o.xb(4),o.hc("ngIf",t.expenseCount>9),o.xb(6),o.hc("ngForOf",t.paginatedExpenses),o.xb(4),o.Ec(t.historyExport))},directives:[U,h,s.a,p.k,p.j,z,d.c,vn],styles:["main[_ngcontent-%COMP%]{background:#ededed}@media only screen and (min-width:900px){.footer[_ngcontent-%COMP%]{padding-top:12vh}}.addbill[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]{float:right}.headleft[_ngcontent-%COMP%]{text-align:left}.totaltext[_ngcontent-%COMP%]{text-align:center}.ena[_ngcontent-%COMP%]{padding-bottom:20px}canvas[_ngcontent-%COMP%]{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.container[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 15px 1px #d1d1d1;padding:0}#cards-section[_ngcontent-%COMP%]{padding:4vh;margin-top:2vh}#cards-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}.container[_ngcontent-%COMP%]   #cards-section[_ngcontent-%COMP%]{margin-top:5vh;margin-bottom:5vh}@media only screen and (min-width:900px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:15vh}}@media only screen and (max-width:991px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:10vh}}@media only screen and (max-height:768px) and (min-width:560px){#welcome-alert-section[_ngcontent-%COMP%]{margin-top:20vh}}#welcome-alert-section[_ngcontent-%COMP%]{padding:4vh 5vh}#welcome-alert-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:1.5vh}#pfpNavBar[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}"]}),e})();const Cn=["registration"],Mn=["firstname"],wn=["lastname"],En=["email1"],Dn=["email2"],_n=["password1"],Tn=["password2"];function kn(e,t){if(1&e&&(o.Pb(0,"p",117),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.loginMessage)}}function Ln(e,t){if(1&e&&(o.Pb(0,"p",117),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.registrationMessage)}}function In(e,t){if(1&e&&(o.Pb(0,"p",117),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.resetMessage)}}let An=(()=>{class e{constructor(e,t,n,o,a){this.api=e,this.router=t,this.renderer=n,this.elementRef=o,this.document=a,this.hasRegistrationMessage=!1,this.registrationMessage="",this.hasLoginMessage=!1,this.loginMessage="",this.hasResetMessage=!1,this.resetMessage=""}ngOnInit(){removeForLogout(),this.api.getLoggedIn()&&this.router.navigate(["/dashboard"])}ngAfterViewInit(){-1!=window.location.href.indexOf("#registration")?this.registration.open():window.location.href.indexOf("#login")}register(e,t,n,o,a,r){e&&t&&n&&n===o&&a&&a===r&&(this.hasRegistrationMessage=!0,this.registrationMessage="Registration in progress",this.api.register(e,t,n,o,a,r).then(e=>{try{var t=this.document.querySelectorAll(".modal-backdrop");for(let e=0;e<t.length;e++)t[e].removeAttribute("class")}catch(n){}try{t=this.document.querySelectorAll(".modal-open");for(let e=0;e<t.length;e++)document.removeChild(t[e])}catch(o){}this.router.navigate(["/confirm",e.urlCode])}).catch(e=>{this.registrationMessage="Registration failed!",console.log(e)}))}loginUser(e,t){e&&t&&(this.hasLoginMessage=!0,this.loginMessage="Login in progress",this.api.login(e,t).then(e=>{if(e.status&&200!=e.status)this.loginMessage="Login failed!";else{try{var t=this.document.querySelectorAll(".modal-backdrop");for(let e=0;e<t.length;e++)t[e].removeAttribute("class")}catch(n){}try{t=this.document.querySelectorAll(".modal-open");for(let e=0;e<t.length;e++)t[e].removeAttribute("class"),t[e].removeAttribute("style")}catch(o){}this.api.setLoggedIn(e.token),this.router.navigate(["/dashboard"])}}).catch(e=>{this.api.userLoggedIn=null,this.loginMessage="Login failed!",console.log(e)}))}firstNameIndex(){const e=this.firstName.nativeElement;return new RegExp("^([a-zA-Z]){1,20}$").test(e.value)?(e.style.borderColor="#ced4da",$(".tt1").toast("hide"),1):(e.style.borderColor="red",$(".tt1").toast("show"),0)}lastNameIndex(){const e=this.lastName.nativeElement;return new RegExp("^([a-zA-Z]){1,20}$").test(e.value)?(e.style.borderColor="#ced4da",$(".tt2").toast("hide"),1):(e.style.borderColor="red",$(".tt2").toast("show"),0)}emailIndex(){var e=this.email1.nativeElement,t=this.email2.nativeElement;return this.validateForm(e.value)&&this.validateForm(t.value)?e.value!=t.value?(e.style.borderColor="red",t.style.borderColor="red",$(".tt5").toast("show"),0):(e.style.borderColor="#ced4da",t.style.borderColor="#ced4da",$(".tt5").toast("hide"),1):(e.style.borderColor="red",t.style.borderColor="red",$(".tt5").toast("show"),0)}passwordIndex(){var e=this.password2.nativeElement;return this.password1.nativeElement.value!=e.value?(e.style.borderColor="red",$(".tt3").toast("show"),0):(e.style.borderColor="#ced4da",$(".tt3").toast("hide"),1)}passwordStrengthIndex(){var e=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),t=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"),n=this.password1.nativeElement;return n.value.match(e)?(n.style.borderColor="green",$(".tt4").toast("hide"),1):n.value.match(t)?(n.style.borderColor="orange",$(".tt4").toast("hide"),1):(n.style.borderColor="red",$(".tt4").toast("show"),0)}buttonSignupIndex(e,t,n,o,a,r){var i=this.firstNameIndex(),s=this.lastNameIndex(),c=this.emailIndex(),l=this.passwordIndex(),d=this.passwordStrengthIndex();0==i||0==s||0==c||0==l||0==d||this.register(e,t,n,o,a,r)}validateForm(e){return e?1:(console.log(),0)}forgotPassword(e){this.hasResetMessage=!0,this.resetMessage="Sending reset email",this.api.requestResetPassword(e).then(e=>{this.resetMessage=200!==e.status?"Failed to send an email!":"Email sent!"}).catch(e=>{})}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(y),o.Kb(b.b),o.Kb(o.D),o.Kb(o.l),o.Kb(p.c))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-root"]],viewQuery:function(e,t){if(1&e&&(o.Hc(Cn,!0),o.Hc(Mn,!0),o.Hc(wn,!0),o.Hc(En,!0),o.Hc(Dn,!0),o.Hc(_n,!0),o.Hc(Tn,!0)),2&e){let e;o.oc(e=o.ac())&&(t.registration=e.first),o.oc(e=o.ac())&&(t.firstName=e.first),o.oc(e=o.ac())&&(t.lastName=e.first),o.oc(e=o.ac())&&(t.email1=e.first),o.oc(e=o.ac())&&(t.email2=e.first),o.oc(e=o.ac())&&(t.password1=e.first),o.oc(e=o.ac())&&(t.password2=e.first)}},decls:235,vars:3,consts:[[1,"modal-shiftfix"],["name","top"],["name","Index page","content","Index, login, registration, sign up, password reset"],[1,"glava"],[1,"gostilna","navbar","fixed-top","navbar-light","navbar-expand-lg","bg-light"],["href","#",1,"navbar-brand"],["src","assets/images/dragon.svg","alt","Logo","width","25vh","height","25vh"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"button","collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["href","#top",1,"nav-link"],[1,"sr-only"],["href","#feature",1,"nav-link"],["href","#aboutUs",1,"nav-link"],["a","","href","#login","data-toggle","modal","data-target","#login",1,"nav-link"],["id","login",1,"modal","fade"],["login",""],[1,"modal-dialog","modal-login"],[1,"modal-content"],[1,"modal-header"],["src","assets/images/dragon.svg","alt","Logo signin"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-hidden","true",1,"close"],[1,"modal-body"],[1,"form-group"],["type","email","id","emailin","name","emailin","placeholder","E-mail","required","",1,"form-control"],["loginEmail",""],["type","password","id","passwordin","placeholder","Password","required","",1,"form-control"],["loginPassword",""],[1,"form-button"],["style","display: flex;justify-content: center;",4,"ngIf"],["type","button","value","Login",1,"btn","btn-primary","singbut","btn-lg","btn-block","login-btn",3,"click"],[1,"modal-footer"],["href","#forgottenPasswordForm","data-toggle","modal","data-target","#forgottenPasswordForm","data-dismiss","modal",1,"a1"],["href","#registration","data-toggle","modal","data-target","#registration","data-dismiss","modal",1,"a2"],["id","registration",1,"modal","fade"],["registration",""],[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],[1,"w-25"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt1"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],["aria-hidden","true"],[1,"toast-body"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt2"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt5"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt4"],["role","alert","data-delay","3000","data-autohide","false",1,"toast","ml-auto","tt3"],["src","assets/images/dragon.svg","alt","Login signup"],["type","text","id","nameup","name","nameup","placeholder","Name",1,"form-control",3,"focusout"],["firstname",""],["type","text","id","surnameup","name","surnameup","placeholder","Surname","required","required",1,"form-control",3,"focusout"],["lastname",""],["type","email","id","email1up","name","email1up","placeholder","E-mail","required","required",1,"form-control",3,"focusout"],["email1",""],["type","email","id","email2up","name","email2up","placeholder","Confirm E-mail","required","required",1,"form-control",3,"focusout"],["email2",""],["type","password","id","password1up","placeholder","Password","required","required",1,"form-control",3,"keypress"],["password1",""],["type","password","id","password2up","placeholder","Confirm Password","required","required",1,"form-control",3,"focusout"],["password2",""],["href","dashboard","id","buttonid","type","button","value","Create Account",1,"btn","btn-primary","singbut","btn-lg","btn-block","login-btn",3,"click"],[1,"modal-footer",2,"padding","10px"],["href","login","data-toggle","modal","data-target","#login","data-dismiss","modal",2,"font-family","Open Sans","color","#999"],["id","forgottenPasswordForm",1,"modal","fade"],["src","assets/images/dragon.svg","alt","Logo reset"],["type","hidden","id","formType","name","formType","value","forgotPassword"],["type","email","id","username","name","email","placeholder","Insert your E-mail","required","required",1,"form-control"],["forgotEmail",""],[1,"form-pop"],["tabindex","0",1,"btn","btn-primary","singbut","btn-lg","btn-block","login-btn",3,"click"],["href","#login","data-toggle","modal","data-target","#login","data-dismiss","modal",2,"font-family","Open Sans","color","#999"],[1,"jumbotron","align-items-center"],[1,"row","h-100"],[1,"left","d-none","d-md-block","d-lg-block","d-xl-block","left","col-md-6","col-lg-5","col-xl-5","my-auto"],["src","assets/images/phone1.png","id","phone","alt","Phone",1,"img-responsive","slika","max-height:300px"],["id","welcome-text",1,"right","col-md-6","col-lg-7","col-xl-7","my-auto"],[1,"display-7"],[1,"lead"],["href","#registration","role","button","data-toggle","modal","data-target","#registration",1,"btn","btn-primary","btn-lg","gumbek"],["id","feature"],[1,"row","feature"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12"],[1,"row"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12","title"],[1,"row","kartice3"],[1,"col-xl-2","col-lg-0","col-md-0","col-sm-0","col-0"],[1,"col-xl-8","col-lg-12","col-md-12","col-sm-12","col-12"],[1,"row","kartice"],[1,"col-xl-4","col-lg-4","col-md-4","x","col-sm-12","col-12"],["data-aos","flip-down","data-aos-duration","500",1,"card"],["src","assets/images/card1.png","alt","card1",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"col-xl-4","col-lg-4","col-md-4","col-sm-12","col-12"],["data-aos","flip-down","data-aos-duration","800",1,"card"],["src","assets/images/card2.png","alt","card2",1,"card-img-top"],["src","assets/images/card3.png","alt","card3",1,"card-img-top"],["id","aboutUs"],["data-aos","fade-up","data-aos-duration","1000",1,"container","about"],["id","about123"],[1,"row","naprej"],[1,"row","pred-footer",2,"padding","1vh"],[1,"col-6","col-sm-6","col-md-6","col-lg-6","col-xl-6","my-auto","links"],["src","assets/images/dragon.svg","alt","Logo footer",1,"img-responsive",2,"max-width","100px"],[1,"col-6","col-sm-6","col-md-6","col-lg-6","col-xl-6","my-auto","rechts"],[1,"footer","bg-light"],[1,"row",2,"padding-right","0px !important","padding-left","0px !important"],[1,"col-6","col-sm-4","col-md-4","col-lg-4","col-xl-4","footer-col"],["href","#registration","data-toggle","modal","data-target","#registration",1,"gumb"],["href","#login","data-toggle","modal","data-target","#login"],[1,"col-12","col-sm-4","col-md-4","col-lg-4","col-xl-4","footer-col"],["href","#top"],[2,"display","flex","justify-content","center"]],template:function(e,t){if(1&e){const e=o.Qb();o.Lb(0,"div",0),o.Lb(1,"a",1),o.Pb(2,"header"),o.Lb(3,"meta",2),o.Pb(4,"div",3),o.Pb(5,"nav",4),o.Pb(6,"a",5),o.Lb(7,"img",6),o.Pb(8,"b"),o.Dc(9,"SMAUG"),o.Ob(),o.Dc(10,"budget "),o.Ob(),o.Pb(11,"button",7),o.Lb(12,"span",8),o.Ob(),o.Pb(13,"div",9),o.Pb(14,"ul",10),o.Pb(15,"li",11),o.Pb(16,"a",12),o.Dc(17,"HOME"),o.Pb(18,"span",13),o.Dc(19,"(current)"),o.Ob(),o.Ob(),o.Ob(),o.Pb(20,"li",11),o.Pb(21,"a",14),o.Dc(22,"FEATURES"),o.Ob(),o.Ob(),o.Pb(23,"li",11),o.Pb(24,"a",15),o.Dc(25,"ABOUT US"),o.Ob(),o.Ob(),o.Pb(26,"li",11),o.Pb(27,"a",16),o.Dc(28,"SIGN IN"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(29,"div",17,18),o.Pb(31,"div",19),o.Pb(32,"div",20),o.Pb(33,"div",21),o.Lb(34,"img",22),o.Pb(35,"h4",23),o.Dc(36,"Member Login"),o.Ob(),o.Pb(37,"button",24),o.Dc(38,"\xd7"),o.Ob(),o.Ob(),o.Pb(39,"div",25),o.Pb(40,"div",26),o.Lb(41,"input",27,28),o.Ob(),o.Pb(43,"div",26),o.Lb(44,"input",29,30),o.Ob(),o.Pb(46,"div",31),o.Bc(47,kn,3,1,"p",32),o.Pb(48,"input",33),o.Zb("click",function(){o.rc(e);const n=o.pc(42),a=o.pc(45);return t.loginUser(n.value,a.value)}),o.Ob(),o.Ob(),o.Ob(),o.Pb(49,"div",34),o.Pb(50,"a",35),o.Dc(51,"Forgot Password?"),o.Ob(),o.Pb(52,"a",36),o.Dc(53,"Not a member?"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(54,"div",37,38),o.Pb(56,"div",39),o.Pb(57,"div",40),o.Pb(58,"div",41),o.Pb(59,"div",42),o.Pb(60,"strong",43),o.Dc(61,"HINT"),o.Ob(),o.Pb(62,"button",44),o.Pb(63,"span",45),o.Dc(64,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(65,"div",46),o.Dc(66," Name can't be empty and may only contain letters A-Z. "),o.Ob(),o.Ob(),o.Pb(67,"div",47),o.Pb(68,"div",42),o.Pb(69,"strong",43),o.Dc(70,"HINT"),o.Ob(),o.Pb(71,"button",44),o.Pb(72,"span",45),o.Dc(73,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(74,"div",46),o.Dc(75," Surname can't be empty and may only contain letters A-Z. "),o.Ob(),o.Ob(),o.Pb(76,"div",48),o.Pb(77,"div",42),o.Pb(78,"strong",43),o.Dc(79,"HINT"),o.Ob(),o.Pb(80,"button",44),o.Pb(81,"span",45),o.Dc(82,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(83,"div",46),o.Dc(84," E-mails don't match or are empty! "),o.Ob(),o.Ob(),o.Pb(85,"div",49),o.Pb(86,"div",42),o.Pb(87,"strong",43),o.Dc(88,"HINT"),o.Ob(),o.Pb(89,"button",44),o.Pb(90,"span",45),o.Dc(91,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(92,"div",46),o.Dc(93," Strong passwords are at least 8 characters long, include at least 1 lowercase letter, 1 capital letter, 1 number and 1 special character => !@#$%^&/ "),o.Ob(),o.Ob(),o.Pb(94,"div",50),o.Pb(95,"div",42),o.Pb(96,"strong",43),o.Dc(97,"HINT"),o.Ob(),o.Pb(98,"button",44),o.Pb(99,"span",45),o.Dc(100,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(101,"div",46),o.Dc(102," Passwords don't match! "),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(103,"div",19),o.Pb(104,"div",20),o.Pb(105,"div",21),o.Lb(106,"img",51),o.Pb(107,"h4",23),o.Dc(108,"New Member"),o.Ob(),o.Pb(109,"button",24),o.Dc(110,"\xd7"),o.Ob(),o.Ob(),o.Pb(111,"div",25),o.Pb(112,"div",26),o.Pb(113,"input",52,53),o.Zb("focusout",function(){return t.firstNameIndex()}),o.Ob(),o.Ob(),o.Pb(115,"div",26),o.Pb(116,"input",54,55),o.Zb("focusout",function(){return t.lastNameIndex()}),o.Ob(),o.Ob(),o.Pb(118,"div",26),o.Pb(119,"input",56,57),o.Zb("focusout",function(){return t.emailIndex()}),o.Ob(),o.Ob(),o.Pb(121,"div",26),o.Pb(122,"input",58,59),o.Zb("focusout",function(){return t.emailIndex()}),o.Ob(),o.Ob(),o.Pb(124,"div",26),o.Pb(125,"input",60,61),o.Zb("keypress",function(){return t.passwordStrengthIndex()}),o.Ob(),o.Ob(),o.Pb(127,"div",26),o.Pb(128,"input",62,63),o.Zb("focusout",function(){return t.passwordIndex()}),o.Ob(),o.Ob(),o.Pb(130,"div",31),o.Bc(131,Ln,3,1,"p",32),o.Pb(132,"input",64),o.Zb("click",function(){o.rc(e);const n=o.pc(114),a=o.pc(117),r=o.pc(120),i=o.pc(123),s=o.pc(126),c=o.pc(129);return t.buttonSignupIndex(n.value,a.value,r.value,i.value,s.value,c.value)}),o.Ob(),o.Ob(),o.Ob(),o.Pb(133,"div",65),o.Pb(134,"a",66),o.Dc(135,"Already a member?"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(136,"div",67),o.Pb(137,"div",19),o.Pb(138,"div",20),o.Pb(139,"div",21),o.Lb(140,"img",68),o.Pb(141,"h4",23),o.Dc(142,"Password Reset"),o.Ob(),o.Pb(143,"button",24),o.Dc(144,"\xd7"),o.Ob(),o.Ob(),o.Pb(145,"div",25),o.Lb(146,"input",69),o.Pb(147,"div",26),o.Lb(148,"input",70,71),o.Ob(),o.Pb(150,"div",72),o.Bc(151,In,3,1,"p",32),o.Pb(152,"button",73),o.Zb("click",function(){o.rc(e);const n=o.pc(149);return t.forgotPassword(n.value)}),o.Dc(153,"Reset Password"),o.Ob(),o.Ob(),o.Ob(),o.Pb(154,"div",65),o.Pb(155,"a",74),o.Dc(156,"Back?"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(157,"div",75),o.Pb(158,"div",76),o.Pb(159,"div",77),o.Lb(160,"img",78),o.Ob(),o.Pb(161,"div",79),o.Pb(162,"h1",80),o.Dc(163,"Saving money made simple,"),o.Lb(164,"br"),o.Dc(165," for you."),o.Ob(),o.Pb(166,"p",81),o.Dc(167,"Join now and experience your finances in a completely new way."),o.Ob(),o.Pb(168,"p",81),o.Pb(169,"a",82),o.Dc(170,"Sign up"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Lb(171,"div",83),o.Ob(),o.Pb(172,"div",84),o.Pb(173,"div",85),o.Pb(174,"div",86),o.Pb(175,"div",87),o.Pb(176,"h1"),o.Dc(177,"FEATURES"),o.Ob(),o.Ob(),o.Ob(),o.Pb(178,"div",88),o.Lb(179,"div",89),o.Pb(180,"div",90),o.Pb(181,"div",91),o.Pb(182,"div",92),o.Pb(183,"div",93),o.Lb(184,"img",94),o.Pb(185,"div",95),o.Pb(186,"h5",96),o.Dc(187,"Envelopes"),o.Ob(),o.Pb(188,"p",97),o.Dc(189,"Envelope system organizes your finances in simple manner. Add, edit or delete your envelopes however you like."),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(190,"div",98),o.Pb(191,"div",99),o.Lb(192,"img",100),o.Pb(193,"div",95),o.Pb(194,"h5",96),o.Dc(195,"Bills"),o.Ob(),o.Pb(196,"p",97),o.Dc(197,"Worry about the fun categories. Add bills once and for all. SMAUGBudget takes care of placing bills in your budget."),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(198,"div",98),o.Pb(199,"div",93),o.Lb(200,"img",101),o.Pb(201,"div",95),o.Pb(202,"h5",96),o.Dc(203,"History"),o.Ob(),o.Pb(204,"p",97),o.Dc(205,"Simple yet effective. Complete overview over your spending using graphs and diagrams. Customize it as you"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Lb(206,"div",89),o.Ob(),o.Ob(),o.Ob(),o.Lb(207,"div",102),o.Pb(208,"div",103),o.Pb(209,"div",86),o.Pb(210,"div",87),o.Pb(211,"h1",104),o.Dc(212,"ABOUT US"),o.Ob(),o.Ob(),o.Ob(),o.Pb(213,"div",105),o.Pb(214,"div",85),o.Dc(215," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Sollicitudin tempor id eu nisl. Laoreet sit amet cursus sit. Pellentesque dignissim enim sit amet venenatis urna cursus eget nunc. Adipiscing bibendum est ultricies integer. Neque laoreet suspendisse interdum consectetur libero id faucibus. Id diam maecenas ultricies mi eget mauris pharetra et. "),o.Ob(),o.Ob(),o.Ob(),o.Pb(216,"div",106),o.Pb(217,"div",107),o.Lb(218,"img",108),o.Ob(),o.Pb(219,"div",109),o.Pb(220,"h2"),o.Dc(221,"Stop waiting."),o.Lb(222,"br"),o.Dc(223,"Start saving."),o.Ob(),o.Ob(),o.Ob(),o.Pb(224,"div",110),o.Pb(225,"div",111),o.Pb(226,"div",112),o.Pb(227,"a",113),o.Dc(228,"Sign up"),o.Ob(),o.Ob(),o.Pb(229,"div",112),o.Pb(230,"a",114),o.Dc(231,"Sign in"),o.Ob(),o.Ob(),o.Pb(232,"div",115),o.Pb(233,"a",116),o.Dc(234,"Back to Top"),o.Ob(),o.Ob(),o.Ob(),o.Ob()}2&e&&(o.xb(47),o.hc("ngIf",t.hasLoginMessage),o.xb(84),o.hc("ngIf",t.hasRegistrationMessage),o.xb(20),o.hc("ngIf",t.hasResetMessage))},directives:[d.b,p.k],styles:['.button[_ngcontent-%COMP%]{font-size:16px;font-family:Open Sans;text-align:center}.navbar-nav[_ngcontent-%COMP%]{list-style:none}.nav-link[_ngcontent-%COMP%]{float:left;position:relative;margin:15px;padding-top:5px;padding-bottom:5px;text-decoration:none;text-transform:uppercase}a[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;bottom:0;left:50%;height:3px;width:0;background:transparent}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#fff!important;text-shadow:0 0 1px #fff,0 0 1px #fff}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus, .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#fff!important}.navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:#fff}.nav-link[_ngcontent-%COMP%]:after{transition:width .5s ease,background-color .5s ease,left .5s ease}.nav-link[_ngcontent-%COMP%]:hover:after{width:100%;left:0;background:#fff}.navbar-light[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00b09b,#96c93d)}.navbar-brand[_ngcontent-%COMP%]{color:#343a40}.nav-item[_ngcontent-%COMP%]{padding:1vh}.navbar-brand[_ngcontent-%COMP%]{font-family:Open Sans}.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-3%;padding:0}body[_ngcontent-%COMP%]{background-color:#fff}.jumbotron[_ngcontent-%COMP%]{background:#00b09b;background:linear-gradient(90deg,#00b09b,#96c93d);height:100vh;vertical-align:middle;color:#fff}.img-responsive[_ngcontent-%COMP%]{max-width:250px;float:right}.modal-login[_ngcontent-%COMP%]{max-width:450px;width:100%}[_ngcontent-%COMP%]::-webkit-scrollbar{width:0!important}.modal-open[_ngcontent-%COMP%]{padding-right:-17px!important}.fade[_ngcontent-%COMP%]{padding-right:0!important}.modal-login.modal-dialog[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:0}.modal-login[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:20px;border-radius:5px}.modal-login[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom:none;position:relative;justify-content:center}.modal-login[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;margin:0 auto;left:0;right:0;top:-70px;width:95px;height:95px;border-radius:50%;box-shadow:0 3px 3px rgba(0,0,0,.1)}.modal-login[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:26px;margin-top:30px;margin-bottom:-15px;font-family:Open Sans}.modal-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{background-color:#fff;border-width:1px}.modal-login[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .modal-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-height:0;border-width:1px;border-radius:3px;font-family:Open Sans}.modal-login[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px}.modal-login[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background:linear-gradient(90deg,#00b09b,#96c93d);text-decoration:none;line-height:normal;border:none;transition:1s}.modal-login[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#fff;outline:none}.modal-login[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{background:#ecf0f1;border-color:#dee4e7;text-align:center;justify-content:center;margin:20px -20px -20px;border-radius:5px;font-size:13px;padding:24px}.modal-login[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .a1[_ngcontent-%COMP%], .modal-login[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .a2[_ngcontent-%COMP%]{color:#999;font-family:Open Sans}.modal-login[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .a1[_ngcontent-%COMP%]{position:absolute;left:30px}.modal-login[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .a2[_ngcontent-%COMP%]{position:absolute;right:30px}.modal-content[_ngcontent-%COMP%]{width:100%}.modal-dialog[_ngcontent-%COMP%]{left:calc(-50vw + 50%);right:calc(-50vw + 50%);margin-left:auto;margin-right:auto}.modal-open[_ngcontent-%COMP%]{overflow:auto}.row[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#46bc70}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{border-color:#fff;border-width:3px;border-radius:30px}.btn-primary[_ngcontent-%COMP%]:hover{color:#46bc70;background-color:#fff}.btn-primary[_ngcontent-%COMP%]:focus{color:#fff;background-color:#46bc70}.btn-primary[_ngcontent-%COMP%]:focus, .btn-primary[_ngcontent-%COMP%]:focus:hover{border-color:#fff;border-width:3px;border-radius:30px}.btn-primary[_ngcontent-%COMP%]:focus:hover{color:#46bc70;background-color:#fff}.btn-primary[_ngcontent-%COMP%]:active{color:#46bc70!important;background-color:#fff!important;border-color:#fff!important;border-width:3px!important;border-radius:30px!important;text-shadow:0 0 1px #fff,0 0 1px #fff}.btn[_ngcontent-%COMP%]{box-shadow:none}.pred-footer[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00b09b,#96c93d)}.footer[_ngcontent-%COMP%]{color:#fff;height:8vh;width:100%;padding-top:3vh;overflow-x:hidden;position:relative;bottom:0;margin-top:0!important;box-shadow:none}.footer-col[_ngcontent-%COMP%]{padding-bottom:0;text-align:center;text-transform:uppercase;color:#fff}.title[_ngcontent-%COMP%]{text-align:center;padding:12vh}.pred-footer[_ngcontent-%COMP%]{margin-top:10vh;color:#fff}.about[_ngcontent-%COMP%]{text-align:center}@media screen and (min-width:768px){.feat1[_ngcontent-%COMP%]{height:86vh}.about[_ngcontent-%COMP%]{height:70vh}}.card-text[_ngcontent-%COMP%]{text-align:justify}.footer-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:rgba(0,0,0,.5);font-family:Open Sans;padding:0!important}.footer-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.footer-row[_ngcontent-%COMP%]{padding-top:6vh}.footer[_ngcontent-%COMP%]{height:10vh}@media only screen and (min-width:900px){.footer[_ngcontent-%COMP%]{margin-top:9vh}a.anchor[_ngcontent-%COMP%]{top:-100px}}@media only screen and (min-width:991px){#aboutUs[_ngcontent-%COMP%]{height:20vh}}@media only screen and (max-width:991px){.footer[_ngcontent-%COMP%]{margin-top:4vh}a.anchor[_ngcontent-%COMP%]{top:-56px}}@media only screen and (max-width:575px){.footer[_ngcontent-%COMP%]{height:12vh;padding-top:3vh}.right[_ngcontent-%COMP%]{text-align:center}.navbar-collapse[_ngcontent-%COMP%]{background-color:#a9a9a9}}@media screen and (max-width:800px) and (min-width:576px){.right[_ngcontent-%COMP%]{text-align:left}.btn-primary[_ngcontent-%COMP%]{background-color:#57be64}}@media screen and (max-height:1025px) and (max-width:850px){.navbar-collapse[_ngcontent-%COMP%]{background-color:#a9a9a9}}@media screen and (max-height:700px){.slika[_ngcontent-%COMP%]{height:300px}.right[_ngcontent-%COMP%]{text-align:center}}.jumbotron3[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00b09b,#96c93d);padding:40px}.card[_ngcontent-%COMP%]{padding-left:0;padding-right:0;border:0;text-align:center;display:block}.card-body[_ngcontent-%COMP%]{padding:1.25rem 0 0}a.anchor[_ngcontent-%COMP%]{display:block;position:relative;visibility:hidden}.card-img-top[_ngcontent-%COMP%]{max-height:auto;max-width:300px}.card[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:200px}.card[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{padding:0;right:0;left:0;color:#3d3d3d}.card[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3d3d3d}.card[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:30px}.card[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]   .col-sm-3[_ngcontent-%COMP%]{display:flex;align-items:center}.card[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]   .col-sm-9[_ngcontent-%COMP%]{text-align:left}.navi[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}a[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{background-color:grey;padding:10px}a[_ngcontent-%COMP%]:hover > .ico[_ngcontent-%COMP%]{background-color:#666}@keyframes slideFromUp{0%{transform:translateY(500%)}}#phone[_ngcontent-%COMP%]{animation:slideFromUp .75s ease-out 0s 1}#welcome-text[_ngcontent-%COMP%]{animation:slideFromUp .65s ease-out 0s 1}html[_ngcontent-%COMP%]{scroll-behavior:smooth}']}),e})(),Sn=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["app-notfound"]],decls:14,vars:0,consts:[["id","darkModeContainerFullWidth",1,"container"],[1,"row","h-50"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12","align-self-end"],[1,"text1"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12","align-self-start"],[1,"lead"],["id","darkModeButton","href","dashboard","role","button",1,"btn","btn-primary","btn-lg","gumbek"]],template:function(e,t){1&e&&(o.Pb(0,"main"),o.Pb(1,"div",0),o.Pb(2,"div",1),o.Pb(3,"div",2),o.Pb(4,"div",3),o.Pb(5,"p"),o.Dc(6,"Can't find your page?"),o.Ob(),o.Pb(7,"p"),o.Dc(8,"Neither can we."),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(9,"div",1),o.Pb(10,"div",4),o.Pb(11,"p",5),o.Pb(12,"a",6),o.Dc(13,"Go Back"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob())},styles:["main[_ngcontent-%COMP%]{background-color:#c8c8c8;text-align:center;vertical-align:center}.text1[_ngcontent-%COMP%]{color:#727272!important}.container[_ngcontent-%COMP%]{height:100vh}.text1[_ngcontent-%COMP%]{color:#241313;font-size:30pt}.btn-primary[_ngcontent-%COMP%]{color:#727272;background-color:#c8c8c8}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{border-color:#727272;border-width:3px;border-radius:30px}.btn-primary[_ngcontent-%COMP%]:hover{color:#c8c8c8;background-color:#727272}.btn-primary[_ngcontent-%COMP%]:focus{color:#727272;background-color:#c8c8c8}.btn-primary[_ngcontent-%COMP%]:focus, .btn-primary[_ngcontent-%COMP%]:focus:hover{border-color:#727272;border-width:3px;border-radius:30px}.btn-primary[_ngcontent-%COMP%]:focus:hover{color:#c8c8c8;background-color:#727272}.btn-primary[_ngcontent-%COMP%]:active{color:#c8c8c8!important;background-color:#727272!important;border-color:#727272!important;border-width:3px!important;border-radius:30px!important;text-shadow:0 0 1px #fff,0 0 1px #fff}"]}),e})(),Bn=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return!!(this.authService.getLoggedIn()&&this.authService.getAccessLevel()>=2)||(this.router.navigate(["/"],{queryParams:{access:!1}}),!1)}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(y),o.Wb(b.b))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Nn=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return!!(this.authService.getLoggedIn()&&this.authService.getAccessLevel()>=0)||(this.router.navigate(["/"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(y),o.Wb(b.b))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Gn(e,t){if(1&e&&(o.Pb(0,"p"),o.Pb(1,"b"),o.Dc(2),o.Ob(),o.Ob()),2&e){const e=o.bc();o.xb(2),o.Ec(e.message)}}const jn=[{path:"",component:An},{path:"db",component:Dt,canActivate:[Nn]},{path:"dashboard",component:Et,canActivate:[Nn]},{path:"envelopes",component:an,canActivate:[Nn]},{path:"goals",component:se,canActivate:[Nn]},{path:"utilities",component:we,canActivate:[Bn]},{path:"history",component:xn,canActivate:[(()=>{class e{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return!!(this.authService.getLoggedIn()&&this.authService.getAccessLevel()>=1)||(this.router.navigate(["/"],{queryParams:{access:!1}}),!1)}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(y),o.Wb(b.b))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]},{path:"account",component:lt,canActivate:[Nn]},{path:"confirm/:url",component:dt},{path:"confirm/:url/:code",component:dt,canActivate:[Nn]},{path:"bills",component:ze,canActivate:[Nn]},{path:"passwordReset/:code",component:(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.api=n,this.hasMessage=!1,this.message=""}ngOnInit(){this.code=this.route.snapshot.paramMap.get("code")}passwordStrengthIndex(e){var t=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),n=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})");return e.value.match(t)?(e.style.borderColor="green",$(".tt4").toast("hide"),1):e.value.match(n)?(e.style.borderColor="orange",$(".tt4").toast("hide"),1):(e.style.borderColor="red",$(".tt4").toast("show"),0)}resetPassword(e,t){this.hasMessage=!0,this.message="Resetting password",e.value===t.value&&this.passwordStrengthIndex(e)&&this.passwordStrengthIndex(t)&&this.api.resetPassword(this.code,e.value).then(e=>{200!==e.status?this.message="Failed resetting password!":this.router.navigate(["/"])}).catch(e=>{this.message="Failed resetting password!"})}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(b.b),o.Kb(b.a),o.Kb(y))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-reset-password"]],decls:31,vars:1,consts:[[1,"position-absolute","w-100","p-4","d-flex","flex-column","align-items-end"],[1,"w-25"],["role","alert","data-delay","1000","data-autohide","false",1,"toast","ml-auto","tt4"],[1,"toast-header"],[1,"mr-auto","text-primary"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close"],["aria-hidden","true"],[1,"toast-body"],["id","darkModeContainerFullWidth",1,"container"],[1,"row","h-50"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12","align-self-end"],[1,"text1"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12","align-self-start"],[1,"lead"],["type","password","id","password","placeholder","Enter your new password","required","required",1,"form-control",3,"focusout"],["pass1",""],["type","password","id","passwordConfirm","placeholder","Repeat your new password","required","required",1,"form-control",3,"focusout"],["pass2",""],[1,"spodnji"],[4,"ngIf"],["id","darkModeButton",1,"btn","btn-primary","btn-lg","gumbek",3,"click"]],template:function(e,t){if(1&e){const e=o.Qb();o.Pb(0,"main"),o.Pb(1,"div",0),o.Pb(2,"div",1),o.Pb(3,"div",2),o.Pb(4,"div",3),o.Pb(5,"strong",4),o.Dc(6,"HINT"),o.Ob(),o.Pb(7,"button",5),o.Pb(8,"span",6),o.Dc(9,"\xd7"),o.Ob(),o.Ob(),o.Ob(),o.Pb(10,"div",7),o.Dc(11," Strong passwords are at least 8 characters long, include at least 1 lowercase letter, 1 capital letter, 1 number and 1 special character => !@#$%^&/ "),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(12,"div",8),o.Pb(13,"div",9),o.Pb(14,"div",10),o.Pb(15,"div",11),o.Pb(16,"p"),o.Dc(17,"Reset your password"),o.Ob(),o.Pb(18,"p"),o.Dc(19,"Please enter your new password below."),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(20,"div",9),o.Pb(21,"div",12),o.Pb(22,"div",13),o.Pb(23,"input",14,15),o.Zb("focusout",function(){o.rc(e);const n=o.pc(24);return t.passwordStrengthIndex(n)}),o.Ob(),o.Pb(25,"input",16,17),o.Zb("focusout",function(){o.rc(e);const n=o.pc(26);return t.passwordStrengthIndex(n)}),o.Ob(),o.Pb(27,"div",18),o.Bc(28,Gn,3,1,"p",19),o.Pb(29,"button",20),o.Zb("click",function(){o.rc(e);const n=o.pc(24),a=o.pc(26);return t.resetPassword(n,a)}),o.Dc(30,"Submit"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()}2&e&&(o.xb(28),o.hc("ngIf",t.hasMessage))},directives:[p.k],styles:["main[_ngcontent-%COMP%]{background-color:#c8c8c8;text-align:center;vertical-align:center}.container[_ngcontent-%COMP%]{height:100vh}.text1[_ngcontent-%COMP%]{color:#727272;font-size:30pt}.btn-primary[_ngcontent-%COMP%]{color:#727272;background-color:#c8c8c8}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{border-color:#727272;border-width:3px;border-radius:30px}.btn-primary[_ngcontent-%COMP%]:hover{color:#c8c8c8;background-color:#727272}.btn-primary[_ngcontent-%COMP%]:focus{color:#727272;background-color:#c8c8c8}.btn-primary[_ngcontent-%COMP%]:focus, .btn-primary[_ngcontent-%COMP%]:focus:hover{border-color:#727272;border-width:3px;border-radius:30px}.btn-primary[_ngcontent-%COMP%]:focus:hover{color:#c8c8c8;background-color:#727272}.btn-primary[_ngcontent-%COMP%]:active{color:#c8c8c8!important;background-color:#727272!important;border-color:#727272!important;border-width:3px!important;border-radius:30px!important;text-shadow:0 0 1px #fff,0 0 1px #fff}.spodnji[_ngcontent-%COMP%]{margin-top:5vh}"]}),e})()},{path:"**",component:Sn}],Fn={onSameUrlNavigation:"reload",anchorScrolling:"enabled",enableTracing:!1};let Hn=(()=>{class e{}return e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({factory:function(t){return new(t||e)},imports:[[p.b,b.d.forRoot(jn,Fn)],b.d]}),e})(),Rn=(()=>{class e{transform(e,...t){return"inputMember"+e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Jb({name:"inputMemberPipe",type:e,pure:!0}),e})(),Un=(()=>{class e{transform(e){switch(e){case"AUD":return"Australian dollar";case"BGN":return"Bulgarian lev";case"BRL":return"Brazilian real";case"CAD":return"Canadian dollar";case"CHF":return"Swiss franc";case"CNY":return"Chinese yuan";case"CZK":return"Czech koruna";case"EUR":return"Euro";case"GBP":return"British Pound sterling";case"HKD":return"Hong Kong dollar";case"HRK":return"Croatian kuna";case"HUF":return"Hungarian forint";case"ILS":return"Israeli new shekel";case"INR":return"Indian rupee";case"ISK":return"Icelandic kr\xf3na";case"JPY":return"Japanese yen";case"KRW":return"South Korean won";case"MXN":return"Mexican peso";case"MYR":return"Malaysian ringgit";case"NOK":return"Norwegian krone";case"NZD":return"New Zealand dollar";case"PHP":return"Philippine peso";case"PLN":return"Polish z\u0142oty";case"RON":return"Romanian leu";case"RUB":return"Russian ruble";case"SEK":return"Swedish krona";case"SGD":return"Singapore dollar";case"THB":return"Thai baht";case"TRY":return"Turkish lira";case"USD":return"United States dollar";default:return"Unkonwn"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Jb({name:"currencyTranslator",type:e,pure:!0}),e})();var zn=n("Jho9");let Kn=(()=>{class e{}return e.\u0275mod=o.Ib({type:e,bootstrap:[g]}),e.\u0275inj=o.Hb({factory:function(t){return new(t||e)},providers:[],imports:[[a.a,r.b,Hn,i.b,s.b,c.b,l.c.forRoot(),d.a,zn.a.register("ngsw-worker.js",{enabled:!0})]]}),e})();o.uc(se,[U,i.i,i.l,p.j,p.k,i.m,i.f,i.g,h,v,c.a,he,z],[]),o.uc(we,[U,h,p.j,_e,i.i,i.l,p.k,Se,i.m,i.f,i.g,i.a,i.e,i.h,i.k,c.a,z],[Un,p.d,Rn]),o.uc(ze,[U,h,p.j,v,Xe,c.a,i.m,i.f,i.g,i.i,i.l,p.k,z],[]),Object(o.R)(),a.c().bootstrapModule(Kn).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0,4]]]);