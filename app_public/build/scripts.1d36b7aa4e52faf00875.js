var language="English",slovenian={logout:"Odjava",saveChanges:"Shrani spremembe",name:"Ime",edit:"Urejaj",close:"Zapri",remove:"Odstrani",DASHBOARD:"PREGLED",ENVELOPES:"KUVERTE",GOALS:"CILJI",BILLS:"RA\u010cUNI",HISTORY:"ZGODOVINA",UTILITIES:"ORODJA",user:"Uporabnik",settings:"Nastavitve",appearance:"Izgled",light:"Svetlo",dark:"Temno",account_title:"Uporabni\u0161ki ra\u010dun",username:"Uporabni\u0161ko ime",firstName:"Ime",lastName:"Priimek",password:"Geslo",changePassword:"Spremeni geslo",email:"Email",changeImage:"Spremeni sliko",connections:"Povezave",addConnections:"Dodaj povezavo",members:"\u010clani",active:"Aktivno",application:"Aplikacija",darkMode:"Temni na\u010din",language:"Jezik",currency:"Valuta",oldPassword:"Staro geslo",newPassword:"Novo geslo",confirmPassword:"Ponovi geslo",connectionName:"Ime povezave",envelopes:"Kuverte",editConnection:"Uredi povezavo",dragAndDropOr:"Povleci in spusti, ali",selLanguage:"Slovenski",categories:"Kategorije",messageDashboard:"Dobrodo\u0161li na pregledu!",welcomeMessageDashboard:"Enostaven pregled va\u0161ega porabljanja.",cardTitle1:"Preostal prora\u010dun",cardTitle2:"Preostali stro\u0161ki",cardTitle3:"Prihranki",alertSection:"Opozorila",alertName1:"KUVERTE",alertText1:" kuverta/e skoraj prazna",alertName2:"RA\u010cUNI",alertText2:" ra\u010dun/ov z rokom v tem tednu",alertName3:"CILJI",alertText3:" cilj/ev dose\u017een",overview:"Pregled preteklega meseca",incomeRow:"Prihodek",expensesRow:"Stro\u0161ki",balanceRow:"Stanje",analyticsField:"Analiza",analyticsRowName1:"Najve\u010d denarja zapravljeno",analyticsCategory1:"Zabava",analyticsRowName2:"Najve\u010dkrat kupljeno",analyticsCategory2:"\u017divila",analyticsRowName3:"Najve\u010dja sprememba od prej\u0161nega meseca",analyticsCategory3:"Zabava",analyticsRowName4:"Najmanj\u0161a sprememba od prej\u0161nega meseca",analyticsCategory4:"Telefon",noData:"Ni podatkov",incomeModalTitle:"Posodobite svoj prihodek",incomeModalPlaceholderIncome:"Vnesite svoj prihodek",incomeModalPlaceholderDate:"Dan v mesecu na katerega dobite pla\u010do",incomeModalSaveButton:"Shrani spremembe",incomeModalCloseButton:"Zapri",messageEnvelopes:"Dobrodo\u0161li na kuvertah!",welcomeMessageEnvelopes:"To je najbol\u0161i na\u010din za sledenje mese\u010dnega in tedenskega porabljanjanja po kategorijah. Za\u010dnite s klikom na 'Dodaj kuverto'.",envelopesCardTotal:"Kuverte",envelopesCardAlmost:"Skoraj Prazne",envelopesCardEmpty:"Prazne",envelopesAlmostTextNo:"Ni skoraj praznih kuvert!",envelopesAlmostTextOne:" skoraj prazno!",envelopesAlmostTextMore:" skoraj praznih kuvert!",envelopesTextNo:"Ni praznih kuvert!",envelopesTextOne:" prazno!",envelopesTextMore:" praznih kuvert!",envelopesAddExpense:"Dodaj Stro\u0161ek",envelopesAddEnvelope:"Dodaj kuverto",envelopestt2:"Polje lahko vsebuje samo \u010drke, \u0161tevilke, nekatere znake (_@./#&+-: ) in presledke. Dovoljena dol\u017eina: 1-",envelopestt3:"Polje lahko vsebuje samo decimalno \u0161tevilo lo\u010deno z . ali , z najve\u010d 2 decimalnima mestoma.",envelopesFutureErr:"Stro\u0161ek nemore biti v prihodnosti.",envelopesCategory:"Kategorija",envelopesSelCat:"Izberi kategorijo",envelopesMake:"Ustvari svojo",envelopesAmount:"Vrednost",envelopesColor:"Izberi barvo",envelopesAdd:"Dodaj",envelopesRec:"Prejemnik",envelopesDate:"Datum",messageGoals:"Dobrodo\u0161li na ciljih!",welcomeMessageGoals:"Tukaj lahko dodate cilje ki jih \u017eelite dose\u010di. Kliknite na 'Dodaj cilj', izpolnite obrazec in ga oddajte.",goalsDateHint:"Vnesi veljaven datum (dana\u0161nji ali prihodnji).",goalsInputGoal:"Kaj je va\u0161 cilj?",goalsInputGamount:"Koliko \u017eelite prihraniti?",goalsPlanDate:"Do datuma",goalsAdd:"Dodaj Cilj",goalsTitle:"Cilj",goalsAddMoney:"Dodaj Denar",goalsCard1:"Cilji",goalsCard2:"Dose\u017eeni cilji",goalsCard2Txt1:"Ni dose\u017eenih ciljev.",goalsCard2Txt2:"Ve\u010d dose\u017eenih ciljev!",goalsCard2Txt3:" dose\u017een!",messageBills:"Dobrodo\u0161li na ra\u010dunih!",welcomeMessageBills:"Tukaj lahko dodate ponavljajo\u010de se ra\u010dune. Izpolnite obrazec, ga oddajte in ra\u010dun bo avtomatsko dodeljen kuverti.",billsAll:"Vsi ra\u010duni",billAdd:"Dodaj ra\u010dun",billsPayee:"Prejemnik",billsDue:"Zapadlost",billsOften:"Kako pogosto?",billsOnce:"Enkrat",billsMonth:"Mese\u010dno",billsYear:"Letno",billsTotal:"Ra\u010duni",billsWeek:"Ra\u010duni ta teden",billsNone:"Ni ra\u010dunov ta teden.",billsClose:"Naslednji ra\u010dun",messageHistory:"Doborod\u0161li na zgodovini!",welcomeMessageHistory:"To je najbol\u0161i na\u010din za pregled va\u0161ega porabljanja po kategorijah in \u010dasovnih obdobjih.",historyAll:"Vsi stro\u0161ki",historyExport:"Izvozi v PDF ",historyTotal:"Skupaj zapravljeno",messageUtilities:"Doborodo\u0161li na orodjih!",welcomeMessageUtilities:"Tukaj lahko najdete nekaj uporabnih pripomo\u010dkov.",utilGroups:"Prijatelske skupine",utilCreate:"Ustvari",utilName:"Ime",utilNext:"Naslednji \u0161la\u010da",utilBalance:"Stanje",utilConverter:"Pretvornik valut",utilFrom:"Iz",utilTo:"V",utilConvert:"Pretvori",utilInputName:"Vnesi ime skupine",utilAddMem:"Dodaj \u010dlane",utilAddGroup:"Dodaj skupino",HOME:"VRH",FEATURES:"FUNKCIONALNONSTI",ABOUTUS:"O NAS",SIGNIN:"VPIS",memberSignIn:"Prijava \u010dlanov",email:"E-po\u0161ta",password:"Geslo",loginButton:"Prijava",passwordForgot:"Pozabljeno geslo?",notMember:"Niste \u010dlan?",HINT:"NASVET",nameHint:"Ime lahko vsebuje samo \u010drke A-Z.",surnameHint:"Priimek lahko vsebuje samo \u010drke A-Z.",emailHint:"E-po\u0161tna naslova se ne ujemata!",passwordHint:"Mo\u010dna gesla so dolga vsaj 8 znakov, vsebujejo vsaj 1 malo \u010drko, 1 veliko \u010drko, 1 \u0161tevilko in 1 poseben znak => !@#$%^&/.",passwordNoMatch:"Gesli se ne ujemata!",memberSignUp:"Nov \u010dlan",name:"Ime",surname:"Priimek",confirmEmail:"Potrdi E-po\u0161to",confirmPassword:"Potrdi geslo",createAccount:"Ustvarite ra\u010dun",alreadyMember:"\u017de \u010dlan?"},english={logout:"Logout",saveChanges:"Save changes",name:"Name",edit:"Edit",close:"Close",remove:"Remove",DASHBOARD:"DASHBOARD",ENVELOPES:"ENVELOPES",GOALS:"GOALS",BILLS:"BILLS",HISTORY:"HISTORY",UTILITIES:"UTILITIES",user:"User",settings:"Settings",appearance:"Appearance",light:"Light",dark:"Dark",account_title:"Account",username:"Username",firstName:"First name",lastName:"Last name",password:"Password",changePassword:"Change Password",email:"Email",changeImage:"Change image",connections:"Connections",addConnections:"Add connection",members:"Members",active:"Active",application:"Application",darkMode:"Dark mode",language:"Language",currency:"Currency",oldPassword:"Old password",newPassword:"New password",confirmPassword:"Confirm password",connectionName:"Connection name",envelopes:"Envelopes",editConnection:"Edit connection",dragAndDropOr:"Drag and drop or",selLanguage:"English",categories:"Categories",messageDashboard:"Welcome to dashboard!",welcomeMessageDashboard:"A simple overview of your spending.",cardTitle1:"Budget Left",cardTitle2:"Expenses Left",cardTitle3:"Savings",alertSection:"Alert Section",alertName1:"ENVELOPES",alertText1:" almost empty",alertText1_1:" empty",alertName2:"BILLS",alertText2:" bill to pay this week",alertName3:"GOALS",alertText3:" goal completed",overview:"Last month overview",incomeRow:"Income",expensesRow:"Expenses",balanceRow:"Balance",analyticsField:"Analytics",analyticsRowName1:"Most money spent on",analyticsCategory1:"Entertainment",analyticsRowName2:"Most times purchased",analyticsCategory2:"Groceries",analyticsRowName3:"Biggest change from last month",analyticsCategory3:"Entertainment",analyticsRowName4:"Least change from last month",analyticsCategory4:"Phone",noData:"No data",incomeModalTitle:"Update your Income",incomeModalPlaceholderIncome:"Enter your income",incomeModalPlaceholderDate:"Day in month you receive paycheck",incomeModalSaveButton:"Save Changes",incomeModalCloseButton:"Close",messageEnvelopes:"Welcome to Envelopes!",welcomeMessageEnvelopes:"This is the best way to track your monthly and weekly spending per category. Start by clicking 'Add Envelope'.",envelopesCardTotal:"Envelopes Total",envelopesCardAlmost:"Almost Empty",envelopesCardEmpty:"Empty",envelopesAlmostTextNo:"No almost empty envelopes!",envelopesAlmostTextOne:" almost empty!",envelopesAlmostTextMore:" envelopes almost empty!",envelopesTextNo:"No empty envelopes!",envelopesTextOne:" empty!",envelopesTextMore:" envelopes empty!",envelopesAddExpense:"Add expense",envelopesAddEnvelope:"Add envelope",envelopestt2:"Input may only contain letters, numbers, some special characters (_@./#&+-: ) and whitespaces. Length allowed: 1-",envelopestt3:"Input may only contain decimal numbers separated by . or , with max 2 decimal places.",envelopesFutureErr:"Expense can't be in the future.",envelopesCategory:"Category",envelopesSelCat:"Select a category",envelopesMake:"Make your own",envelopesAmount:"Amount",envelopesColor:"Coose Color",envelopesAdd:"Add",envelopesRec:"Recipient",envelopesDate:"Date",messageGoals:"Welcome to Goals!",welcomeMessageGoals:"Here you can add saving goals you want to achieve. Click 'Add Goal', fill in the form, submit and you`re done!",goalsDateHint:"Input a valid date (today or in the future).",goalsInputGoal:"What's your goal?",goalsInputGamount:"How much do you want to save?",goalsPlanDate:"Planned Date",goalsAdd:"Add Goal",goalsTitle:"Goal",goalsAddMoney:"Add Money",goalsCard1:"Goals Total",goalsCard2:"Goals Completed",goalsCard2Txt1:"No goals completed.",goalsCard2Txt2:"Multiple goals completed!",goalsCard2Txt3:" completed!",messageBills:"Welcome to Bills!",welcomeMessageBills:"Here you can add recurring bills. Fill in the form, submit and it will be added to an envelope repeteadly!",billsAll:"All bills",billAdd:"Add bill",billsPayee:"Payee",billsDue:"Date due",billsOften:"How often?",billsOnce:"Once",billsMonth:"Monthly",billsYear:"Yearly",billsTotal:"Bills Total",billsWeek:"Bills This Week",billsNone:"No bills this week.",billsClose:"Closest bill",messageHistory:"Welcome to History!",welcomeMessageHistory:"This is the best way to check your past spending by time and category.",historyAll:"All expenses",historyExport:"Export to PDF ",historyTotal:"Total spent",messageUtilities:"Welcome to Utilites!",welcomeMessageUtilities:"Here you can find some useful gadgets.",utilGroups:"Friend groups",utilCreate:"Create",utilName:"Name",utilNext:"Next to pay",utilBalance:"Balance",utilConverter:"Currency converter",utilFrom:"From",utilTo:"To",utilConvert:"Convert",utilInputName:"Input group name",utilAddMem:"Add Members",utilAddGroup:"Add Group",HOME:"HOME",FEATURES:"FEATURES",ABOUTUS:"ABOUT US",SIGNIN:"SIGN IN",memberSignIn:"Member Login",email:"E-mail",password:"Password",loginButton:"Login",passwordForgot:"Forgot Password?",notMember:"Not a member?",HINT:"HINT",nameHint:"Name may only contain letters A-Z.",surnameHint:"Surname may only contain letters A-Z.",emailHint:"E-mails don't match!",passwordHint:"Strong passwords are at least 8 characters long, include at least 1 lowercase letter, 1 capital letter, 1 number and 1 special character => !@#$%^&/",passwordNoMatch:"Passwords don't match!",memberSignUp:"New Member",name:"Name",surname:"Surname",confirmEmail:"Confirm E-mail",confirmPassword:"Confirm Password",createAccount:"Create Account",alreadyMember:"Already a member?"};function getTranslation(e){switch(language){case"Slovenski":if(slovenian[e])return slovenian[e];break;case"English":if(english[e])return english[e];break;default:return console.log(language+" language is not supported!"),e}return console.log("No "+language+" translation for key: "+e),e}function setLanguage(e){language=e,localStorage.setItem("language",e)}function getLanguage(){return localStorage.getItem("language",lang),language}function getValueById(e){return document.getElementById(e).value}function setValueById(e,t){document.getElementById(e).value=t}function getInnerTextById(e){return document.getElementById(e).innerText}function setInnerTextById(e,t){document.getElementById(e).innerText=t}function componentToHex(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function rgbToHex(e){var t=e.match(/^rgb\(([0-9]*), ([0-9]*), ([0-9]*)\)$/);return"#"+componentToHex(parseInt(t[1]))+componentToHex(parseInt(t[2]))+componentToHex(parseInt(t[3]))}function disableButton(){var e=amount(document.getElementById("Amount")),t=check(document.getElementById("Payee")),o=dateCheckAddBill(document.getElementById("inputDateAddBill"));return 0!=e&&0!=t&&0!=o}function disableButton2(e){var t=amount(document.getElementById("Amount2"+e)),o=check(document.getElementById("Payee2"+e)),a=dateCheckAddBill(document.getElementById("inputDate"+e));return console.log(t+" "+o+" "+a),0!=t&&0!=o&&!a}function disableButtonEditBill(e){id=e.id;var t=".billEditAmountToast"+id,o=".billEditNameToast"+id,a=".billEditDateToast"+id,n=amountEditBill(document.getElementById(t)),r=checkNameEditBill(document.getElementById(o)),l=dateCheckEditBill(document.getElementById(a));console.log(n+" "+r+" "+l),e.disabled=0==n||0==r||0==l}function check(e){var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,20}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt1").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt1").toast("show"),0)}function check2(e){var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,20}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt3").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt3").toast("show"),0)}function checkNameEditBill(e){var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,20}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}function amount2(e){var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt4").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt4").toast("show"),0)}function amountBills(e){var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt2").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt2").toast("show"),0)}function amountEditBill(e){var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}function dateCheckAddBill(e){var t=new Date,o=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear(),r=e.value.split("-");return r[0]>n||r[0]==n&&(r[1]>a||r[1]==a&&r[2]>=o)?($(".tt5").toast("hide"),e.style.borderColor="#ced4da",1):($(".tt5").toast("show"),e.style.setProperty("border-color","red","important"),0)}function dateCheckEditBill(e){var t=new Date,o=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear(),r=e.value.split("-");return r[0]>n||r[0]==n&&(r[1]>a||r[1]==a&&r[2]>=o)?($(e.id).toast("hide"),e.style.borderColor="#ced4da",1):($(e.id).toast("show"),e.style.setProperty("border-color","red","important"),0)}function searchFunction(){var e,t,o,a,n;for(e=document.getElementById("search").value.toUpperCase(),t=document.getElementById("table").getElementsByTagName("tr"),a=0;a<t.length;a++)o=t[a].getElementsByTagName("td")[1],td2=t[a].getElementsByTagName("td")[2],(n=o.textContent||o.innerText).toUpperCase().indexOf(e)>-1?t[a].style.display="":(n=td2.textContent||td2.innerText,t[a].style.display=n.toUpperCase().indexOf(e)>-1?"":"none")}function buildAction(){var e=document.getElementById("Verification").value;document.getElementById("VerificationForm").action+=e}function loadDarkMode(){"false"===localStorage.getItem("dark")?removeDarkModeCss():addDarkModeCss()}$(window).on("load",function(){document.querySelector("#search").addEventListener("keyup",searchFunction,!1),"false"===localStorage.getItem(page)&&hideWelcome()}),$(window).ready(function(){$(".billModal").on("hidden.bs.modal",function(){$(".tt3").toast("hide"),$(".tt4").toast("hide"),$(".tt5").toast("hide")})});var darkMode={isSet:!1};function removeForLogout(){document.getElementById("darkmode")&&(document.getElementById("darkmode").disabled=!0,document.getElementById("darkmode").remove())}function toggleDarkMode(){"false"===localStorage.getItem("dark")?addDarkModeCss():removeDarkModeCss(),document.getElementById("darkmodeEnable")&&("false"===localStorage.getItem("dark")?$("#darkmodeEnable")[0].checked=!1:$("#darkmodeEnable")[0].checked=!0)}function addDarkModeCss(){if(!document.getElementById("darkmode")){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","assets/stylesheets/darkmode.css"),e.setAttribute("id","darkmode"),document.getElementsByTagName("head")[0].appendChild(e)}document.getElementById("appearanceDark").removeAttribute("style"),document.getElementById("appearanceLight").setAttribute("style","display: none"),darkMode.isSet=!0,localStorage.setItem("dark","true"),console.log("addDark "+localStorage.getItem("dark"))}function removeDarkModeCss(){document.getElementById("darkmode")&&(document.getElementById("darkmode").disabled=!0,document.getElementById("darkmode").remove()),document.getElementById("appearanceLight").removeAttribute("style"),document.getElementById("appearanceDark").setAttribute("style","display: none"),darkMode.isSet=!1,localStorage.setItem("dark","false"),console.log("removeDark "+localStorage.getItem("dark"))}function disableButton(){return amount=document.getElementById("amount"),date=document.getElementById("date"),amount1(amount),date1(date),0!=amount&&0!=date&&($.ajax({url:"/api/changeIncome",type:"post",data:{date:date.value,amount:amount.value},success:function(e){},error:function(e){}}),$("#changeIncome").modal("hide"),!0)}function amount1(e){var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt1").toast("hide"),1):(e.removeAttribute("borderColor"),e.style.setProperty("border-color","red","important"),$(".tt1").toast("show"),0)}function date1(e){return e.value<1||e.value>28?(e.style.setProperty("border-color","red","important"),$(".tt2").toast("show"),0):(e.style.borderColor="#ced4da",$(".tt2").toast("hide"),1)}function getLastWeekExpenses(){$.ajax({url:"/api/getLastMonthExpenses",type:"post",data:{userId:document.getElementById("id").value},success:function(e){return parseResponse(e),e},error:function(e){console.log(e)}})}function parseResponse(e){var t=[],o=[],a=[];for(var n of e)t.push(n.name),o.push(n.sum),a.push(n.color);loadGraphs(t,o,a)}$(document).ready(function(){-1!=window.location.href.indexOf("#notpremium")&&$(".premium-page").modal("show"),-1!=window.location.href.indexOf("#changeIncome")&&$("#changeIncome").modal("show")}),$(window).on("load",function(){"false"===localStorage.getItem(page)&&hideWelcome(),getLastWeekExpenses()});var doughnutConfig={type:"doughnut",data:{datasets:[{label:"Expenses by category",borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:1,legend:{labels:{fontColor:"#666"}}}};function getBackgroundColors(e){for(var t=[],o=255,a=200,n=200,r=0;r<e;r++)t.push("rgb("+o+", "+a+","+n+")"),o<100?a<100?n<100?(o=255,a=200,n=200):n-=100:a-=100:o-=100;return t}function loadGraphs(e,t,o){doughnutConfig.data.labels=e,console.log(t),console.log(e),console.log(o),doughnutConfig.data.datasets[0].data=t,doughnutConfig.data.datasets[0].backgroundColor=o,darkMode.isSet?(doughnutConfig.data.datasets[0].borderColor="#2b2b2b",doughnutConfig.options.legend.labels.fontColor="#ffffff"):(doughnutConfig.data.datasets[0].borderColor="#ffffff",doughnutConfig.options.legend.labels.fontColor="#666");var a=document.getElementById("doughnut-canvas").getContext("2d");window.myPie=new Chart(a,doughnutConfig)}function componentToHex(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function hexToRgb(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function disableButton(){var e=amount2(document.getElementById("Amount2")),t=nameAddEnvelopes2(document.getElementById("Payee25")),o=dateCheckEnvelopes2(document.getElementById("inputDate15"));return 0!=e&&0!=t&&0!=o}function disableButton2(){return 0!=amount(document.getElementById("Amount"))}function disableButtonEditEnvelopes3(e){return 0!=amountEditEnvelopes(document.getElementById(".amountEditEnvelopes"+e.id))}function amount(e){var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt1").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt1").toast("show"),0)}function amount3(e){var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt3").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt3").toast("show"),0)}function amountEditEnvelopes(e){var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}function amount5(e,t){var o=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(o)?(e.style.borderColor="#ced4da",$(".tt3").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt3").toast("show"),0)}function nameAdd(e){if(e.disabled)return 1;var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,14}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt5").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt5").toast("show"),0)}function dateCheckEnvelopes2(e){var t=new Date,o=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear(),r=e.value.split("-");return r[0]<n||r[0]==n&&(r[1]<a||r[1]==a&&r[2]<=o)?($(".tt4").toast("hide"),e.style.borderColor="#ced4da",1):($(".tt4").toast("show"),e.style.setProperty("border-color","red","important"),0)}function nameAddEnvelopes2(e){var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,16}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt2").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt2").toast("show"),0)}function checkCategory(e){"other"==e.value?(document.getElementById("ime").style.display="block",document.getElementById("ime").disabled=!1,document.getElementById("ime").focus(),document.getElementById("colorPicker").disabled=!1,document.getElementById("colorPicker").style.display="block",document.getElementById("colorPickerLabel").style.display="inline-block"):(document.getElementById("ime").style.display="none",document.getElementById("ime").disabled=!0,document.getElementById("colorPicker").disabled=!0,document.getElementById("colorPicker").style.display="none",document.getElementById("colorPickerLabel").style.display="none")}function setCurrency(){document.getElementById("currencyPrepend").innerHTML=document.getElementById("inputCurrency").value}function deleteEnvelope(e){document.getElementById("envelope"+e).style.display="none"}$(window).on("load",function(){"false"===localStorage.getItem(page)&&hideWelcome()}),$(window).ready(function(){$(".editForm").on("hidden.bs.modal",function(){$(".tt8").toast("hide")})});var path=window.location.pathname,page=path.split("/").pop();function hideWelcome(){document.getElementById("welcome-alert-section").style.display="none",document.querySelectorAll("#cards-section")[0].style.marginTop="15vh",localStorage.setItem(page,"false")}function disableButton(){var e=amount5(document.getElementById("Amount")),t=nameAdd(document.getElementById("Goal")),o=dateCheckAddGoal(document.getElementById("inputDateAddGoal")),a=categoryCheckAddGoal(document.getElementById("inputCategory"));return 0!=e&&0!=t&&0!=o&&0!=a}function disableButton2(e){var t=amount77(document.getElementById("amount3"),e),o=nameAdd2(document.getElementById("Goal3"),e),a=dateCheck(document.getElementById("inputDate"),e);return 0!=t&&0!=o&&0!=a}function disableButton3(e){return 0!=amount2(document.getElementById("Amount2"),e)}function disableButton4(){var e=amount2(document.getElementById("Amount2"));let t=document.getElementById("selectMoney").length;return 0!=e&&0!=t}function categoryCheckAddGoal(e){return"Select Category"==e.value?(e.style.setProperty("border-color","red","important"),$(".tt69").toast("show"),0):(e.style.borderColor="#ced4da",$(".tt69").toast("hide"),1)}function amountGoals(e){var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt3").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt3").toast("show"),0)}function amountGoalsAddMoney(e){var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".toastAddMoneyForm").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".toastAddMoneyForm").toast("show"),0)}function amountEditGoal(e){console.log(e);var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}function nameAddGoals(e){var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,16}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt4").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt4").toast("show"),0)}function nameEditGoal(e){var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,16}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}function dateCheck(e,t){console.log(e.value);var o=new Date,a=String(o.getDate()).padStart(2,"0"),n=String(o.getMonth()+1).padStart(2,"0"),r=o.getFullYear(),l=e.value.split("-");return console.log(e.value),""==l?($(".tt7").toast("show"),e.style.setProperty("border-color","red","important"),0):l[0]>r||l[0]==r&&(l[1]>n||l[1]==n&&l[2]>=a)?($(".tt7").toast("hide"),e.style.borderColor="#ced4da",1):($(".tt7").toast("show"),e.style.setProperty("border-color","red","important"),0)}function dateCheckEdit(e){console.log(e.value);var t=new Date,o=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear(),r=e.value.split("-");return console.log(e.value),""==r?($(".toastEditDate").toast("show"),e.style.setProperty("border-color","red","important"),0):r[0]>n||r[0]==n&&(r[1]>a||r[1]==a&&r[2]>=o)?($(e.id).toast("hide"),e.style.borderColor="#ced4da",1):($(e.id).toast("show"),e.style.setProperty("border-color","red","important"),0)}function dateCheckAddGoal(e){var t=new Date,o=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear(),r=e.value.split("-");return""==r?($("#mjav").toast("show"),e.style.setProperty("border-color","red","important"),0):r[0]>n?($("#mjav").toast("hide"),e.style.borderColor="#ced4da",1):r[0]==n?r[1]>a||r[1]==a&&r[2]>=o?($("#mjav").toast("hide"),e.style.borderColor="#ced4da",1):($("#mjav").toast("show"),e.style.setProperty("border-color","red","important"),0):($("#date-hint").toast("show"),e.style.setProperty("border-color","red","important"),0)}function removeGoal(e){document.getElementById("goal"+e).style.display="none"}function nameAddCheck(e,t){console.log(e.value),console.log(t)}function getRows(){return document.getElementById("table").tBodies[0].rows}function parseTable(e){const t={sum:0,data:[]};for(let o of e)if("none"!=o.style.display){const e=o.cells[0].id.substring(4),a=parseInt(document.getElementById("year"+e).innerHTML),n=document.getElementById("month"+e).innerHTML,r=parseInt(document.getElementById("day"+e).innerHTML),l=document.getElementById("category"+e).innerHTML,s=document.getElementById("receiver"+e).innerHTML,d=document.getElementById("currency"+e).innerHTML,i=parseFloat(document.getElementById("price"+e).innerHTML),c=document.getElementById("color"+e).value;t.data.push({id:e,year:a,month:n,day:r,category:l,receiver:s,currency:d,value:i,color:c}),t.sum+=i}return t}function filterByCategory(){let e=parseTable(getRows());var t=new Map;for(var o of e.data)t.get(o.category)||t.set(o.category,[]),t.get(o.category).push(o),t.get(o.category).color=o.color;return t}function filterByMonth(e){var t=new Map;for(var o of e)t.get(o.month)||(t.set(o.month,{}),t.get(o.month).sum=0),t.get(o.month).sum+=o.value;return t}function makeDataForGraph(e){console.log(e);var t=new Map;let o=Array.from(e.keys());for(let a of o)t.set(a,filterByMonth(e.get(a))),t.get(a).color=e.get(a).color;return console.log(t),t}function groupByCategories(e){const t=[];for(let o of e.data){const e=findGroupByCategory(t,o.category);null!=e?e.sum+=parseInt(o.value):t.push({name:o.category,sum:o.value,color:o.color})}return t}function findGroupByCategory(e,t){for(let o of e)if(o.name==t)return o;return null}function groupByMonth(e){const t=[];for(let o of e.data){const e=findGroupByMonth(t,o.month);null!=e?e.sum+=parseInt(o.value):t.push({name:o.month,sum:o.value})}return t}function findGroupByMonth(e,t){for(let o of e)if(o.name==t)return o;return null}function convertMonthsToName(e){switch(e){case"JAN":return"January";case"FEB":return"February";case"MAR":return"March";case"APR":return"April";case"MAY":return"May";case"JUN":return"June";case"JUL":return"July";case"AUG":return"August";case"SEP":return"September";case"OCT":return"October";case"NOV":return"November";case"DEC":return"December"}}function disableButton2(e){var t=amount3(document.getElementById("Amount3"+e),e),o=nameAdd2(document.getElementById("Payee2"+e),e),a=dateCheck2(document.getElementById("inputDate"+e),e);return console.log(t+" "+o+" "+a),0!=t&&0!=o&&0!=a}function nameEditHistory(e){var t=new RegExp("^[A-Za-z0-9_@./#&+-: ]{1,20}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}function numberEditHistory(e){var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(e.id).toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(e.id).toast("show"),0)}function dateEditHistory(e){var t=new Date,o=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear(),r=e.value.split("-");return r[0]<n||r[0]==n&&(r[1]<a||r[1]==a&&r[2]<=o)?($(e.id).toast("hide"),e.style.borderColor="#ced4da",1):($(e.id).toast("show"),e.style.setProperty("border-color","red","important"),0)}function searchFunction(){var e,t,o,a,n;for(e=document.getElementById("search").value.toUpperCase(),t=document.getElementById("table").getElementsByTagName("tr"),a=0;a<t.length;a++)o=t[a].getElementsByTagName("td")[1],td2=t[a].getElementsByTagName("td")[2],(n=o.textContent||o.innerText).toUpperCase().indexOf(e)>-1?t[a].style.display="":(n=td2.textContent||td2.innerText,t[a].style.display=n.toUpperCase().indexOf(e)>-1?"":"none")}$(document).ready(function(){for(var e=document.getElementsByClassName("currencySelector"),t=(document.getElementsByClassName("currencyDisplay"),0);t<e.length;t++)$("#"+e[t].id).on("change",function(e){$("#currency"+e.currentTarget.id.substring(14))[0].innerHTML=e.currentTarget.selectedOptions[0].innerHTML})}),$(window).on("load",function(){"false"===localStorage.getItem(page)&&hideWelcome()}),$(window).ready(function(){$(".goalModal").on("hidden.bs.modal",function(){$("#mjav").toast("hide"),$(".tt5").toast("hide"),$(".tt6").toast("hide"),$(".tt7").toast("hide"),$(".tt420").toast("hide")})}),window.onload=function(){const e=parseTable(getRows());document.querySelector(".totaltext").innerHTML="<h5>Total spent: "+e.sum.toFixed(2),loadGraphs(groupByCategories(e)),loadGraphs2(makeDataForGraph(filterByCategory()))},$(window).on("load",function(){document.querySelector("#search").addEventListener("keyup",searchFunction,!1),"false"===localStorage.getItem(page)&&hideWelcome()}),$(window).ready(function(){$(".expensesModal").on("hidden.bs.modal",function(){$(".tt1").toast("hide"),$(".tt2").toast("hide"),$(".tt7").toast("hide")})});var lineConfig={type:"line",data:{labels:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],datasets:[]},options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:2,title:{display:!0,text:"Expenses by month",fontColor:"#666"},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!1,labelString:"Month"},ticks:{beginAtZero:!0,fontColor:"#666"},gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)"}}],yAxes:[{stacked:!1,display:!0,scaleLabel:{display:!0,labelString:"MONEY SPENT IN \u20ac"},ticks:{beginAtZero:!0,stepSize:50,fontColor:"#666"},gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)"}}]},legend:{labels:{fontColor:"#666"}}}};console.log(lineConfig);var randomScalingFactor=function(){return Math.round(100*Math.random())};function loadGraphs(e){doughnutConfig.data.datasets[0].backgroundColor=extractColors(e),null!=e&&(doughnutConfig.data.datasets[0].data=extractValues(e),doughnutConfig.data.labels=extractNames(e)),lineConfig.options.aspectRatio=$(window).width()<960?1:2,darkMode.isSet?(doughnutConfig.data.datasets[0].borderColor="#2b2b2b",doughnutConfig.options.legend.labels.fontColor="#ffffff"):(doughnutConfig.data.datasets[0].borderColor="#ffffff",doughnutConfig.options.legend.labels.fontColor="#666");var t=document.getElementById("doughnut-canvas").getContext("2d");window.myPie=new Chart(t,doughnutConfig)}function loadGraphs2(e){let t=Array.from(e.keys());for(let n of t){var o={label:n,backgroundColor:e.get(n).color,borderColor:e.get(n).color,data:generateDataset(e.get(n)),fill:!1};lineConfig.data.datasets.push(o)}lineConfig.options.aspectRatio=$(window).width()<960?1:2,darkMode.isSet?(lineConfig.options.legend.labels.fontColor="#ffffff",lineConfig.options.title.fontColor="#ffffff",lineConfig.options.scales.xAxes[0].ticks.fontColor="#ffffff",lineConfig.options.scales.yAxes[0].ticks.fontColor="#ffffff",lineConfig.options.scales.xAxes[0].gridLines.color="#999999",lineConfig.options.scales.yAxes[0].gridLines.color="#999999"):(lineConfig.options.legend.labels.fontColor="#666",lineConfig.options.title.fontColor="#666",lineConfig.options.scales.xAxes[0].ticks.fontColor="#666",lineConfig.options.scales.yAxes[0].ticks.fontColor="#666",lineConfig.options.scales.xAxes[0].gridLines.color="rgba(0, 0, 0, 0.1)",lineConfig.options.scales.yAxes[0].gridLines.color="rgba(0, 0, 0, 0.1)");var a=document.getElementById("line-canvas").getContext("2d");window.myLine=new Chart(a,lineConfig)}function getBackgroundColors(e){for(var t=[],o=255,a=200,n=200,r=0;r<e;r++)t.push("rgb("+o+", "+a+","+n+")"),o<100?a<100?n<100?(o=255,a=200,n=200):n-=100:a-=100:o-=100;return t}function extractNames(e){const t=[];for(let o of e)t.push(o.name);return t}function extractValues(e){const t=[];for(let o of e)t.push(o.sum);return t}function extractColors(e){const t=[];for(let o of e)t.push(o.color);return t}function generateDataset(e){const t=[0,0,0,0,0,0,0,0,0,0,0,0];let o=Array.from(e.keys());for(let a of o)t[monthToNumber(a)-1]=e.get(a).sum;return t}function monthToNumber(e){switch(e){case"JAN":return 1;case"FEB":return 2;case"MAR":return 3;case"APR":return 4;case"MAY":return 5;case"JUN":return 6;case"JUL":return 7;case"AUG":return 8;case"SEP":return 9;case"OCT":return 10;case"NOV":return 11;case"DEC":return 12}}function disableButton(){var e=document.getElementById("buttonup"),t=nameRegex(),o=surnameRegex(),a=emailCheckSignUp(),n=passwordCheckSignUp(),r=passwordStrength();return 0!=e&&0!=t&&0!=o&&0!=a&&0!=n&&0!=r}function nameRegex(){var e=document.getElementById("nameup"),t=new RegExp("^([a-zA-Z]){1,20}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt1").toast("hide"),1):(e.style.borderColor="red",$(".tt1").toast("show"),0)}function surnameRegex(){var e=document.getElementById("surnameup"),t=new RegExp("^([a-zA-Z]){1,20}$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt2").toast("hide"),1):(e.style.borderColor="red",$(".tt2").toast("show"),0)}function passwordCheckSignUp(){var e=document.getElementById("password1up"),t=document.getElementById("password2up");return e.value!=t.value?(t.style.borderColor="red",$(".tt3").toast("show"),0):(t.style.borderColor="#ced4da",$(".tt3").toast("hide"),1)}function passwordStrength(){var e=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),t=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"),o=document.getElementById("password1up");return o.value.match(e)?(o.style.borderColor="green",$(".tt4").toast("hide"),1):o.value.match(t)?(o.style.borderColor="orange",$(".tt4").toast("hide"),1):(o.style.borderColor="red",$(".tt4").toast("show"),0)}function emailCheckSignUp(){var e=document.getElementById("email1up"),t=document.getElementById("email2up");return e.value!=t.value?(e.style.borderColor="red",t.style.borderColor="red",$(".tt5").toast("show"),0):(e.style.borderColor="#ced4da",t.style.borderColor="#ced4da",$(".tt5").toast("hide"),1)}function submitForm(){}function passwordLoginSubmit(e){document.getElementsByClassName("modal-backdrop")[0].remove(),document.getElementsByTagName("body")[0].classList.remove("modal-open"),document.getElementsByTagName("body")[0].style.removeProperty("padding-right")}function buildAction(){var e=document.getElementById("password").value;document.getElementById("password").action+=e}function passwordSubmit(){var e,t=document.getElementById("password");(e=new jsSHA("SHA-512","TEXT",{numRounds:1})).update(t.value),document.getElementById("hashPassword").value=e.getHash("HEX"),t=document.getElementById("passwordConfirm"),(e=new jsSHA("SHA-512","TEXT",{numRounds:1})).update(t.value),document.getElementById("hashPasswordConfirm").value=e.getHash("HEX")}function checkName(e){var t=new RegExp("^[ A-Za-z0-9_@./#&+-: ]{1,16}$");return console.log("pri\u0161e\u010d"),e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt5").toast("hide"),console.log("dobr"+e.value),1):(e.style.setProperty("border-color","red","important"),$(".tt5").toast("show"),console.log("slabo "+e.value),0)}function checkValue(e){var t=new RegExp("^[0-9]+(.[0-9]{1,2})?$");return e.value.match(t)?(e.style.borderColor="#ced4da",$(".tt1").toast("hide"),1):(e.style.setProperty("border-color","red","important"),$(".tt1").toast("show"),0)}function checkValue2(e,t){console.log(e+" "+t);var o=new RegExp("^[0-9]+(.[0-9]{1,2})?$");if(!e.match(o))return t.style.setProperty("border-color","red","important"),$(".tt1").toast("show"),0}function disableButton(e){var t=document.getElementById("table"+e);console.log(t);for(var o=0,a=0,n=1;n<t.rows.length;n++){var r=checkValue2(t.rows[n].cells[1].children[0].value,t.rows[n].cells[1]);if(0==r)return!1;if(0==(r=checkValue2(t.rows[n].cells[2].children[0].value,t.rows[n].cells[2])))return!1;o+=parseInt(t.rows[n].cells[1].children[0].value),a+=parseInt(t.rows[n].cells[2].children[0].value)}return o!=a?($(".tt69").toast("show"),!1):($(".tt69").toast("hide"),!0)}function disableButton2(){if(0==checkName(document.getElementById("inputGroupName")))return!1;var e=!0;console.log("count"+counter);for(var t=1;t<=counter;t++){if(0==checkName(document.getElementById("inputMember"+t)))return $(".tt6").toast("show"),e=!1,!1;$(".tt6").toast("hide")}return e}function convertCurrency(){var e=document.getElementById("curr1"),t=document.getElementById("curr2"),o=document.getElementById("Amount"),a=document.getElementById("Amount2");e.value===t.value?a.innerHTML=o.value:$.ajax({url:"/api/converter",type:"get",data:{curr1:e.value,curr2:t.value,amm1:o.value},success:function(e){a.innerHTML=e.value},error:function(e){}})}doughnutConfig={type:"doughnut",data:{datasets:[{backgroundColor:[],label:"Expenses by category",borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:$(window).width()<960?1:2,legend:{labels:{fontColor:"#666"}}}},$(window).on("beforeunload",function(){$("body").hide(),$(window).scrollTop(0)}),$(document).ready(function(){-1!=window.location.href.indexOf("#registration")?$("#registration").modal("show"):-1!=window.location.href.indexOf("#login")&&$("#login").modal("show")}),$(window).on("load",function(){"false"===localStorage.getItem(page)&&hideWelcome()});var counter=1;function addNewInput(){if(counter>=10)alert("Only 10 members allowed");else{counter++;var e=document.getElementById("inputMemberBody");e.innerHTML=e.innerHTML+'<input type="text" onfocusout="checkName(this)" style="margin-top:4%" class="form-control" id="inputMember'+counter+'" placeholder="Member '+counter+' " name="inputMember'+counter+'"></input>',document.getElementById("counter").value=counter}}